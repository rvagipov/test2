{3,
{46,0,0,0,0,1,0,0,00000000-0000-0000-0000-000000000000,0,
{1,1,
{"ru","Мобильные устройства"}
},0,0,1,1,1,0,0,0,
{4,3699f6a3-9a2a-4c82-a775-6ff4824a08ca,"ОбработкаОповещения",3ccc650e-f631-4cae-8e33-3eaac610b5f9,"ПриОткрытии",52dbb775-1631-4fd5-8c55-1615b5881dac,"ПередЗакрытием",9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,"ПриСозданииНаСервере",1,0,3699f6a3-9a2a-4c82-a775-6ff4824a08ca,0,1,3ccc650e-f631-4cae-8e33-3eaac610b5f9,0,1,52dbb775-1631-4fd5-8c55-1615b5881dac,0,1,9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,0,1},
{11,06ee6a21-061e-47f8-81c5-92ae8b8f3b5d,198ea630-fda2-4cda-8a23-f999f4c67ee6,239f0103-8de9-4fdf-b485-eb5531da7e51,3772996b-41f4-4c47-a5a8-ea397db424ae,3f01ed62-97f8-465b-b4f7-6517ac2bc994,5174ad3f-0569-42fd-8adf-011d8206db6c,5d41082e-9619-42ec-b96f-98b082b3a2f0,679b62d9-ff72-4329-bf3a-c0c32b311dd2,71e0226e-ebb2-4e33-8745-0a94a01bbf15,d7e9e72c-8fa7-430c-a3e9-aeadfd57dfc7,f3613d5c-20c6-46e5-b4d5-7d712ece1296},1,
{21,
{-1,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,9,"ФормаКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,2,0},0,1,0,0,0,3,3},3,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{26,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаКоманднаяПанель",
{1,1,
{"ru","Командная панель"}
},
{1,1,
{"ru","Группа командная панель"}
},0,1,0,0,0,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,1,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,1},9,3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{60,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ДекорацияИконка",
{1,1,
{"ru","Декорация иконка"}
},
{1,1,
{"ru","Перейти на главную страницу"}
},1,2,1,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{4,3,
{0},"",-1,-1,0,
{
{#base64:iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAA
AARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3
YXJlAHBhaW50Lm5ldCA0LjAuMTCtCgrAAAAB1UlEQVQ4T5WTyytEcRTHLfwHbCwl
mjw2CitSlsTfYG8xycICGUIoUUhiShYsMJNHnimTGCbDeC3QmLy5HkVm5PV1zrkP
9zIWfvW59/c7v3O+v3vO+d0YABbiqj02op6YIBTilHARVYTtp79lQQ5lxBMBJqlx
Rd4mIoTdHGMOHtQd42s88J894v3jE6XD+z9FmGki1hCgBZ9sOCQ4lhF5/aAtoG3p
xBxopkIEaMI5y2f3rp7j+C6Cov4ASpzbqJs7RmLDCkYC1zhQnpHXtWEW4HRsLMAF
E+Pr+6ec2r92YTimNK2KjUfzYsiwa1SxAFdbDOXjh5jcv0VOh8/i6JgLwrVzg4zW
NYudcLEAt0oMfd5zhO4jKHYGMLhxKekU9m1hdPsGR7dhFPT4Mb6n4FAJI7dT0jm1
COgpcDA1QMbQ5pU6oTHgu9RmkProAr9SyG73oXLqSE7LbFtH7ayaQnqrF40LIYzR
PLXFyzGSglFEJxXv5OFFOqDb+E5wcPAujPxuv2HXkCJyG7klUbuQHL0Lb4TaRrKz
iJ037O4DuHcVZFEKvNapngnKXUhTP1tHvUj80ET4epodosEn83ue+L7KmkAsUUFI
On/Ae+wjwRYBHdr8x++MmC+4IKQYoZgmOgAAAABJRU5ErkJggg==}
},0,""},1,0,0,
{1,0},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{1,9874537f-454c-40ae-83e9-3b9cefbc6d08,"КомандаПоказатьГлавнуюФорму",1,0,9874537f-454c-40ae-83e9-3b9cefbc6d08,0,1}
},1,
{21,
{61,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияИконкаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,1,
{"ru","Декорация иконка"}
},0},0,1,
{10,
{62,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияИконкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,1},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{58,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьГлавнуюФорму",
{1,0},1,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},2,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{59,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьГлавнуюФормуРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{32,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ДекорацияСмТакже",
{1,1,
{"ru","cм. также:"}
},
{1,1,
{"ru","Смотрите также"}
},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},1,
{21,
{33,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияСмТакжеКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,1,
{"ru","cм. также:"}
},0},0,1,
{10,
{34,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияСмТакжеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{28,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьТорговыхАгентов",
{1,0},1,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{29,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьТорговыхАгентовРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{63,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьНастройкиОбмена",
{1,0},1,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{64,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьНастройкиОбменаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{65,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьЛичныйКабинет",
{1,0},1,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{66,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьЛичныйКабинетРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{35,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ДекорацияКоманднаяПанель",
{1,0},
{1,0},0,0,1,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{4,0,
{0},"",-1,-1,1,0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0}
},1,
{21,
{36,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияКоманднаяПанельКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,0},0},0,1,
{10,
{37,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияКоманднаяПанельРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,1,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{56,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"СохранитьВсе",
{1,0},1,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,2,60,
{-31},700,0,0,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{57,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"СохранитьВсеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,2,3,3,0,0,2,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{30,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},1,"Справка",
{1,1,
{"ru","?"}
},1,
{10,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},1,0,0,0,2,2,3,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,1,
{0,b7c81c62-d6ad-4eae-9cea-0e203182db67},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{31,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"СправкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,2,3,3,0,0,1,0},1,0,1,
{10,
{27,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаКоманднаяПанельРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},143c00f7-a42d-4cd7-9189-88e4467dc768,
{51,
{1,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},"МобильныеУстройства",0,0,1,
{1,0},
{1,0},
{2,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0}
},0,1,0,0,0,1,1,0,0,0,0,0,1,0,1,1,1,1,2,2,1,1,0,0,0,0,2,0,0,1,1,
{0},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,0,1,13,
{"U"},
{6,1282f000-23b6-4887-87f4-9e8e79db3d32,"МобильныеУстройстваВыбор",2391e7b8-7235-45d7-ab7e-6ff3dc086396,"МобильныеУстройстваПередНачаломДобавления",2ccfdec5-583d-4eca-8319-e55de492665a,"МобильныеУстройстваПередУдалением",60edb81d-887b-478e-94ee-7fef2b13393d,"МобильныеУстройстваПриАктивизацииСтроки",ab930362-ff94-4dcb-ad16-188805d23e3c,"МобильныеУстройстваПередНачаломИзменения",fe115cc8-9e33-4684-a166-bd5136fe7a9f,"МобильныеУстройстваПриИзменении",1,0,1282f000-23b6-4887-87f4-9e8e79db3d32,0,1,2391e7b8-7235-45d7-ab7e-6ff3dc086396,0,1,2ccfdec5-583d-4eca-8319-e55de492665a,0,1,60edb81d-887b-478e-94ee-7fef2b13393d,0,1,ab930362-ff94-4dcb-ad16-188805d23e3c,0,1,fe115cc8-9e33-4684-a166-bd5136fe7a9f,0,1},
{10,0ae4bea5-23be-42a7-b69e-97b11b29c453,44ad3ec9-f3c2-4913-9224-5f9fb6418743,49602716-fea6-497f-8047-726404038857,51c99108-107c-43e1-8918-e48835bf2495,88078230-1f6b-415f-99e4-ad2ff73810cf,8af6ebff-cd02-4bfe-a984-44a292623708,9ef79140-3de6-436a-8dda-610bb963f5db,b41f5bbc-ba5d-4888-8cd1-db246a371418,c0519548-2a9a-44de-a25e-faf01e089d4d,e7216412-03ac-4a81-99c2-1d7c28e88e31},1,
{21,
{2,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},2,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{84,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"МобильныеУстройстваКонтекстноеМенюЛКПроставитьАгентов",
{1,0},1,
{9,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{85,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваКонтекстноеМенюЛКПроставитьАгентовРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{78,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"МобильныеУстройстваОчиститьКолонкуАгент",
{1,0},1,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,0,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{79,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваОчиститьКолонкуАгентРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,0,0,3,3},1,
{21,
{3,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,9,"МобильныеУстройстваКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,0,1},1,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{80,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},6,"МобильныеУстройстваГруппаЛК",
{1,1,
{"ru","Мобильные устройства группа ЛК"}
},
{1,1,
{"ru","Мобильные устройства группа ЛК"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{0},2,0},2,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{67,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"МобильныеУстройстваЗагрузитьИзЛичногоКабинета",
{1,0},1,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{68,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваЗагрузитьИзЛичногоКабинетаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{82,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"МобильныеУстройстваНастройкиЗагрукзиИзЛК",
{1,0},1,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{83,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваНастройкиЗагрукзиИзЛКРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,1,
{10,
{81,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваГруппаЛКРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,0,0,0,3,3},8,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{46,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},4,"МобильныеУстройстваСтатусНастроек",0,0,
{1,0},
{1,1,
{"ru","Статус настроек мобильного устройства"}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{6,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{8,1,0,1,1,
{4,3,
{0},"",-1,-1,0,
{
{#base64:iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAAABGdBTUEAALGPC/xh
BQAAAAlwSFlzAAAOvgAADr4B6kKxwAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0
IDQuMC4xMzQDW3oAAAUUSURBVFhHxdhvTJVVHAdwLqmRI+ZsvvCNm+UoEUIXLbiK
abFGy7LVi94htXpnc6nDZqxYVjZZ1mYRQblsq2WumswZG+xS6oZMS/GqbJiWW5DV
jQZCbjmf0/d7Or/buYdz/8ktXnz0uef8zsPd93ef8zz35imlplXBDflJda0ovbV7
RekC35zwndMViUSS8tVPVV6xKoAKR4G31jf4f/KFSj3VZa+drVt79fQTtX8dXVW+
2VdDvnO6fMELX7248Xa1DZp9cz4MGZpBeVwFfS7+zzF9zH9y6abOuakUQQ9cgS2s
94V6ccdLoRP3LYv9OTig6ETNXcO+OnL/vk9nZ6cogh64AltSNQDB14Ayan01NgRa
CgMMNo0+Odbr5AS5YoJOpgWUMcF6X6jYdtp+eqdZXe7/Vvtxe2PwTXXZq75a9+/7
mPCpBZQxkaYBTVYDmnw1AmHyk++GH4V2g8f2nKbXyklyxQTtE4ZrIA3Yw3o30B9e
bggdW700NhLpVGPf9Wk8Pr56qfcqsLeTZIGa8MNwzYRPe3LYAHvb+QPqnfk50Gvm
p6UBMyEKEn4M5rHeDRQ33jZ84tXYyWPqnrk3ayPdB9X5FzYo31WQYQNmQtQKPwbz
ctEABMlPvx1sQvimxntf0HNSNBUIM52tIOFTPei1dpjnNj4Twg039tv+z9TEwGm1
bE6hNnb8qOJY36ryn+16YogIM4H93szYVpDwqR4SGoaQa03o4muQBvDYnquRdQiS
TzgSalTGbWZu3KrT9JwUTQXCbIBx6IBChmtZBLzpSvgRCIFea4f5VXhJ2/nn1weX
Ptmtr4B4A3DMscFn1yncHxKuAtOABhiHDihkuDw3/4dFwJuuhB+BEMQbgEB3gYSd
qW1ciyDXW6G2cywb3sFsIUyGLwEfBmkCg+4GmWMjikE3h2slSDxyhrDFxIZad6rh
93ep0b4jquqWIo3HHOMcHk8TrgLTAIYvAR8G3QRg0N0gc2xEMejmWA141wk3E/JI
mVUDTL2o8BZlC2HuBQmZDgGbUGeNUSPo8IlrJciOqpJ2NEFdeHGjutC0Wf36+cfq
o4pijccc41z08fvVwfCS7U4D9oKETIeATaizxqgRJr1/hDkD1oC9zaTaguKPpTrE
fxvg3YJsrLHqc9aA2dAFdti9wJutvD4Ds2BSA/ofrMzHzff3wQ1PKTr33NPaL59+
qMlr4jxq41eBacBs6DIhi17gzVZen4FZMOn9+5igpQFTugkLzll1/GJW4C3MlgmU
TbC3G1sAyyEePnEtQ/yicvEHJx+4Ozi77lFt4MnHguHdLQGfgLgFDb33lh7T83Vr
AzySBl9WLn5dGsDzIFg2wd5ubAEsh4T3nUqmDSAEmfIx1NQw/Mumhv7ZwtzC62GF
mqwJrWDXaVx7ZOWd+QeqSkb6HwoHpx6uDk49slIban1TN4DYABlnDWux5pLdAELA
yZrQCnrfl9p0smxAtl/EWKt/G/KeMFtOsG4T+OWLP0G4dXptc9nCe7GnB2hEgEfQ
AI+aAb6IaRd3vqLJa86xhrVoQPB2+W3z7QYQQnabwC9f/Aki2wbwsVQasMZXY0Og
mf4UwZo74uvsk1wvT7hswj4YhU1mbBKu5ad4f1XJ9xBgK8oIa7EFRd0rQCBoNmEf
jMImBk9uXToIno+nfEKa4Zt3Idi0P8ZBwq+iCSeYDgyRdpQtXICrYf4bGWCtrPM1
gDju8tX9Fxgy2D9Fk+fnaJX3N/Gy2K4HN1urAAAAAElFTkSuQmCC}
},0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{3,0,
{0},1,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0},1,0,0,1,0},
{0,1,0},1,
{21,
{47,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваСтатусНастроекКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{48,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваСтатусНастроекРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{17,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваНаименование",1,0,
{1,0},
{1,1,
{"ru","Название мобильного устройства"}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{2,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,1,
{"ru","Всего:"}
},1,1,0,3,0,0,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,2,0,
{-31},1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},1,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{18,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваНаименованиеКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{19,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваНаименованиеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{23,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваОписание",1,0,
{1,0},
{1,1,
{"ru","Описание мобильного устройства"}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{4,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{24,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваОписаниеКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{25,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваОписаниеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{20,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваИдентификатор",1,0,
{1,0},
{1,1,
{"ru","Идентификатор мобильного устройства"}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{3,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"UUUUUUUU-UUUU-UUUU-UUUU-UUUUUUUUUUUU",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},1,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{21,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваИдентификаторКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{22,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваИдентификаторРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{14,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваАгент",1,0,
{1,0},
{1,1,
{"ru","Агент, закрепленный за мобильным устройством."}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{1,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,1,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{15,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваАгентКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{16,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваАгентРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{72,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваДатаРегистрации",1,0,
{1,0},
{1,1,
{"ru","Дата и время регистрации мобильного устройства в учетной системе"}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{15,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{73,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваДатаРегистрацииКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{74,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваДатаРегистрацииРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{69,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},3,"МобильныеУстройстваЗагруженИзЛК",1,0,
{1,0},
{1,1,
{"ru","Мобильное устройство загружено из ""Личного кабинета"""}
},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{16,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{10,0,
{3,4,
{0}
},
{3,4,
{0}
},0,
{1,0},
{3,4,
{0}
},
{7,3,0,1,100},0,0,0,2},
{0,1,0},1,
{21,
{70,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваЗагруженИзЛККонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{71,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваЗагруженИзЛКРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{75,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"МобильныеУстройстваЛК_Employee",1,0,
{1,1,
{"ru","Сотрудник в ЛК"}
},
{1,0},
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{12,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{76,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваЛК_EmployeeКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{77,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваЛК_EmployeeРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},2,2,1,0,
{"Pattern"},"","",2,2,0,1,
{10,
{4,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,0,0,1,
{4,
{5,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваСтрокаПоиска",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0},1,
{21,
{6,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваСтрокаПоискаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{7,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваСтрокаПоискаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,0},0,3,3},1,
{4,
{8,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,1,"МобильныеУстройстваСостояниеПросмотра",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{7,3,0,1,100},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},3,
{0,1,0},1,0,0},1,
{21,
{9,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваСостояниеПросмотраКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{10,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваСостояниеПросмотраРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,1},0,3,3},1,
{4,
{11,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,2,"МобильныеУстройстваУправлениеПоиском",
{1,0},
{1,0},1,1,0,1,
{1,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0,2},1,
{21,
{12,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваУправлениеПоискомКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{13,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваУправлениеПоискомРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,2},0,3,3},0,1,0,0,1,0,3,3,0,1,0},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{41,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаСостояние",
{1,0},
{1,1,
{"ru","Группа состояние"}
},0,1,0,0,0,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,1,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,1},2,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{49,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},4,"МобильныеУстройстваСтатусНастроекИконка",0,0,
{1,0},
{1,0},
{2,
{1,02023637-7868-4a5f-8576-835a76e0c9ba},
{6,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,1,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{8,2,1,0,0,
{4,3,
{0},"",-1,-1,0,
{
{#base64:iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAAABGdBTUEAALGPC/xh
BQAAAAlwSFlzAAAOvgAADr4B6kKxwAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0
IDQuMC4xMzQDW3oAAAUUSURBVFhHxdhvTJVVHAdwLqmRI+ZsvvCNm+UoEUIXLbiK
abFGy7LVi94htXpnc6nDZqxYVjZZ1mYRQblsq2WumswZG+xS6oZMS/GqbJiWW5DV
jQZCbjmf0/d7Or/buYdz/8ktXnz0uef8zsPd93ef8zz35imlplXBDflJda0ovbV7
RekC35zwndMViUSS8tVPVV6xKoAKR4G31jf4f/KFSj3VZa+drVt79fQTtX8dXVW+
2VdDvnO6fMELX7248Xa1DZp9cz4MGZpBeVwFfS7+zzF9zH9y6abOuakUQQ9cgS2s
94V6ccdLoRP3LYv9OTig6ETNXcO+OnL/vk9nZ6cogh64AltSNQDB14Ayan01NgRa
CgMMNo0+Odbr5AS5YoJOpgWUMcF6X6jYdtp+eqdZXe7/Vvtxe2PwTXXZq75a9+/7
mPCpBZQxkaYBTVYDmnw1AmHyk++GH4V2g8f2nKbXyklyxQTtE4ZrIA3Yw3o30B9e
bggdW700NhLpVGPf9Wk8Pr56qfcqsLeTZIGa8MNwzYRPe3LYAHvb+QPqnfk50Gvm
p6UBMyEKEn4M5rHeDRQ33jZ84tXYyWPqnrk3ayPdB9X5FzYo31WQYQNmQtQKPwbz
ctEABMlPvx1sQvimxntf0HNSNBUIM52tIOFTPei1dpjnNj4Twg039tv+z9TEwGm1
bE6hNnb8qOJY36ryn+16YogIM4H93szYVpDwqR4SGoaQa03o4muQBvDYnquRdQiS
TzgSalTGbWZu3KrT9JwUTQXCbIBx6IBChmtZBLzpSvgRCIFea4f5VXhJ2/nn1weX
Ptmtr4B4A3DMscFn1yncHxKuAtOABhiHDihkuDw3/4dFwJuuhB+BEMQbgEB3gYSd
qW1ciyDXW6G2cywb3sFsIUyGLwEfBmkCg+4GmWMjikE3h2slSDxyhrDFxIZad6rh
93ep0b4jquqWIo3HHOMcHk8TrgLTAIYvAR8G3QRg0N0gc2xEMejmWA141wk3E/JI
mVUDTL2o8BZlC2HuBQmZDgGbUGeNUSPo8IlrJciOqpJ2NEFdeHGjutC0Wf36+cfq
o4pijccc41z08fvVwfCS7U4D9oKETIeATaizxqgRJr1/hDkD1oC9zaTaguKPpTrE
fxvg3YJsrLHqc9aA2dAFdti9wJutvD4Ds2BSA/ofrMzHzff3wQ1PKTr33NPaL59+
qMlr4jxq41eBacBs6DIhi17gzVZen4FZMOn9+5igpQFTugkLzll1/GJW4C3MlgmU
TbC3G1sAyyEePnEtQ/yicvEHJx+4Ozi77lFt4MnHguHdLQGfgLgFDb33lh7T83Vr
AzySBl9WLn5dGsDzIFg2wd5ubAEsh4T3nUqmDSAEmfIx1NQw/Mumhv7ZwtzC62GF
mqwJrWDXaVx7ZOWd+QeqSkb6HwoHpx6uDk49slIban1TN4DYABlnDWux5pLdAELA
yZrQCnrfl9p0smxAtl/EWKt/G/KeMFtOsG4T+OWLP0G4dXptc9nCe7GnB2hEgEfQ
AI+aAb6IaRd3vqLJa86xhrVoQPB2+W3z7QYQQnabwC9f/Aki2wbwsVQasMZXY0Og
mf4UwZo74uvsk1wvT7hswj4YhU1mbBKu5ad4f1XJ9xBgK8oIa7EFRd0rQCBoNmEf
jMImBk9uXToIno+nfEKa4Zt3Idi0P8ZBwq+iCSeYDgyRdpQtXICrYf4bGWCtrPM1
gDju8tX9Fxgy2D9Fk+fnaJX3N/Gy2K4HN1urAAAAAElFTkSuQmCC}
},0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0},1,0,0,1,0},
{0,1,0},1,
{21,
{50,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"МобильныеУстройстваСтатусНастроекИконкаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{51,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"МобильныеУстройстваСтатусНастроекИконкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{38,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ДекорацияСтатус",
{1,0},
{1,1,
{"ru","Статус настройки для текущего мобильного устройства"}
},1,0,1,1,0,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},1,
{21,
{39,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияСтатусКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,0},0},0,1,
{10,
{40,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияСтатусРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,3},1,0,1,
{10,
{42,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаСостояниеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},"","",1,
{21,
{0},0,0,0,7,"Navigator",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,0,1,0,1,
{10,
{0},0,0,0,0,"NavigatorExtendedTooltip",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,"",0,0,0,0,0,0,3,3,0,0,0,100,1,1,0},"
#Область ГлобальныеПеременные

&НаКлиенте
Перем МодульЛК; // модуль работы с ""Личным кабинетом""

// ГлобальныеПеременные
#КонецОбласти

#Область Описание

/////////////////////////////////////////////////////////////////////////////
// Описание модуля работы с формой.
// 
// *** Общая информация
// Форма предназначена для управления списком мобильных устройств (МУ), а также загрузки МУ из ""Личного кабинета"" (ЛК).
// 
// *** Сохранение значений в хранилище.
// При сохранении ТЗ Объект.МобильныеУстройства в хранилище, сохраняются все колонки ТЗ кроме колонок
// ""Пользователь"" и ""ЛКИзмененныеРеквизиты"" - это сервисные колонки, используемые только во время отображения формы.
// Т.е. связи Пользователь -> МУ хранятся только в ТЗ Объект.НастройкиАгентов (колонка ""СсылкаМУ"").
// После сохранения значений оповещаются все окна событием ""АПМобильныеУстройстваИзменениеСпискаМУ"".
// См. функцию СохранитьНастройкиИОповестить().
// 
// *** Чтение значений из хранилища.
// При чтении ТЗ Объект.МобильныеУстройства из хранилища вместе с ней считывается ТЗ Объект.НастройкиАгентов,
// после чего сразу обновляется колонка Объект.МобильныеУстройства.Пользователь - на основании значений
// реквизитов Объект.НастройкиАгентов.Пользователь и Объект.НастройкиАгентов.СсылкаМУ.
// См. процедуру ВосстановитьНастройкиСервер().
// 
/////////////////////////////////////////////////////////////////////////////

// Описание
#КонецОбласти

#Область СовместимостьСПлатформой_8_3_5

// Подставляет параметры в строку. Максимально возможное число параметров - 5.
// Параметры в строке задаются как %<номер параметра>. Нумерация параметров начинается с единицы.
//
// Параметры:
//  СтрокаПодстановки  - Строка - шаблон строки с параметрами (вхождениями вида ""%ИмяПараметра"");
//  Параметр<n>        - Строка - подставляемый параметр.
//
// Возвращаемое значение:
//  Строка   - текстовая строка с подставленными параметрами.
//
&НаКлиентеНаСервереБезКонтекста
Функция СтрШаблон_(СтрокаПодстановки,
	Параметр1, Параметр2 = Неопределено, Параметр3 = Неопределено, Параметр4 = Неопределено, Параметр5 = Неопределено)
	
	Результат = СтрЗаменить(СтрокаПодстановки, ""%1"", Параметр1);
	Результат = СтрЗаменить(Результат, ""%2"", Параметр2);
	Результат = СтрЗаменить(Результат, ""%3"", Параметр3);
	Результат = СтрЗаменить(Результат, ""%4"", Параметр4);
	Результат = СтрЗаменить(Результат, ""%5"", Параметр5);
	
	Возврат Результат;
	
КонецФункции
	
// Разбивает строку на несколько строк по разделителю. Разделитель может иметь любую длину.
//
// Параметры:
//  Строка                 - Строка - текст с разделителями;
//  Разделитель            - Строка - разделитель строк текста, минимум 1 символ;
//  ПропускатьПустыеСтроки - Булево - признак необходимости включения в результат пустых строк.
//    Если параметр не задан, то функция работает в режиме совместимости со своей предыдущей версией:
//     - для разделителя-пробела пустые строки не включаются в результат, для остальных разделителей пустые строки
//       включаются в результат.
//       Если параметр Строка не содержит значащих символов или не содержит ни одного символа (пустая строка), то в
//       случае разделителя-пробела результатом функции будет массив, содержащий одно значение """" (пустая строка), а
//       при других разделителях результатом функции будет пустой массив.
//  СокращатьНепечатаемыеСимволы - Булево - сокращать непечатаемые символы по краям каждой из найденных подстрок.
//
// Возвращаемое значение:
//  Массив - массив строк.
&НаКлиентеНаСервереБезКонтекста 
Функция СтрРазделить_(Знач Строка, Знач Разделитель = "","", Знач ПропускатьПустыеСтроки = Неопределено, СокращатьНепечатаемыеСимволы = Ложь)
	
	Результат = Новый Массив;
	
	// Для обеспечения обратной совместимости.
	Если ПропускатьПустыеСтроки = Неопределено Тогда
		ПропускатьПустыеСтроки = ?(Разделитель = "" "", Истина, Ложь);
		Если ПустаяСтрока(Строка) Тогда 
			Если Разделитель = "" "" Тогда
				Результат.Добавить("""");
			КонецЕсли;
			Возврат Результат;
		КонецЕсли;
	КонецЕсли;
	//
	
	Позиция = Найти(Строка, Разделитель);
	Пока Позиция > 0 Цикл
		Подстрока = Лев(Строка, Позиция - 1);
		Если Не ПропускатьПустыеСтроки Или Не ПустаяСтрока(Подстрока) Тогда
			Если СокращатьНепечатаемыеСимволы Тогда
				Результат.Добавить(СокрЛП(Подстрока));
			Иначе
				Результат.Добавить(Подстрока);
			КонецЕсли;
		КонецЕсли;
		Строка = Сред(Строка, Позиция + СтрДлина(Разделитель));
		Позиция = Найти(Строка, Разделитель);
	КонецЦикла;
	
	Если Не ПропускатьПустыеСтроки Или Не ПустаяСтрока(Строка) Тогда
		Если СокращатьНепечатаемыеСимволы Тогда
			Результат.Добавить(СокрЛП(Строка));
		Иначе
			Результат.Добавить(Строка);
		КонецЕсли;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

///  Объединяет строки из массива в строку с разделителями.
//
// Параметры:
//  Массив      - Массив - массив строк которые необходимо объединить в одну строку;
//  Разделитель - Строка - любой набор символов, который будет использован в качестве разделителя.
//
// Возвращаемое значение:
//  Строка - строка с разделителями.
// 
&НаКлиентеНаСервереБезКонтекста 
Функция СтрСоединить_(Массив, Разделитель = "","", СокращатьНепечатаемыеСимволы = Ложь)

	Результат = """";
	ТекРазделитель = """";
	
	Для Индекс = 0 По Массив.ВГраница() Цикл
		
		Подстрока = Массив[Индекс];
		
		Если СокращатьНепечатаемыеСимволы Тогда
			Подстрока = СокрЛП(Подстрока);
		КонецЕсли;
		
		Если ТипЗнч(Подстрока) <> Тип(""Строка"") Тогда
			Подстрока = Строка(Подстрока);
		КонецЕсли;
		
		Результат = Результат + ТекРазделитель + Подстрока;
		
		Если Индекс = 0 Тогда
			ТекРазделитель = Разделитель;
		КонецЕсли;
		
	КонецЦикла;
	
	Возврат Результат;

КонецФункции

// СовместимостьСПлатформой_8_3_5
#КонецОбласти


#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СтррКонтекст = Новый Структура(""ИзмененыПользователи,НастройкиАгентовРедактируются,МассивМУДляУдаленияПодтверждений"");
	
	СтррКонтекст.ИзмененыПользователи 				= Ложь; // признак, что в ТЗ Объект.НастройкиАгентов нужно обновить ссылки на МУ
	СтррКонтекст.НастройкиАгентовРедактируются 		= Ложь;
	СтррКонтекст.МассивМУДляУдаленияПодтверждений 	= Новый Массив;
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");	
	ТекОбъект.ИнициализироватьКонтекстФормы(СтррКонтекст, Параметры);
	
	СтррКонтекст.Вставить(""РеквизитыМУ"", ПолучитьНазванияРеквизитовМУ(ТекОбъект));
	
	ВосстановитьНастройкиСервер();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	Элементы.ГруппаКоманднаяПанель.ЦветФона = СтррКонтекст.Цвета.ФонРаздела;	
	Элементы.ГруппаСостояние.ЦветФона 		= СтррКонтекст.Цвета.ФонСостояние;
	ОбновитьВсеСтатусы();
	УстановитьМодифицированостьФормы(Ложь);
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗакрытием(Отказ, СтандартнаяОбработка)
	
	Если ЭтаФорма.Модифицированность Тогда
		Отказ = Истина;
		Оповещение = Новый ОписаниеОповещения(""СохранитьВсеПродолжить"", ЭтотОбъект);
		ПоказатьВопрос(Оповещение, НСтр(""ru = 'Данные были изменены. Сохранить изменения?'""), РежимДиалогаВопрос.ДаНетОтмена);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)

	Если ИмяСобытия = ""АПНастройкиАгентовИзмененияЗаписаны"" Тогда
		
		Если Источник = ""ВнешнееСозданиеАгентов"" Тогда // событие инициировано загрузкой МУ из ЛК и последующей установкой
			// пользователей МУ (вызовом процедуры ВнешнийВызовСоздатьАгентов() из модуля ""НастройкиАгентов"").
			// В этом случае обработка записи измененных агентов обрабатывается в процедуре ЛКДобавитьНовыхАгентовЗавершить().
		Иначе
			ВосстановитьНастройкиСервер(""НастройкиАгентов"");
			ОбновитьВсеСтатусы();
		КонецЕсли; 
		
	ИначеЕсли ИмяСобытия = ""АПМобильноеУстройствоПопыткаЗаписать"" Тогда
		
		ОбработатьОповещениеОбЭлементеМУ(Параметр);
		
	ИначеЕсли ИмяСобытия = ""АПНастройкиСброшены"" Тогда
		
		ЭтаФорма.Модифицированность = Ложь;
		Закрыть();
		
	ИначеЕсли ИмяСобытия = ""АПЛКОповещение"" Тогда
		
		Если Параметр.ВидДанных = ""МобильныеУстройства"" Тогда
			Если Параметр.ЕстьОшибки Тогда
				ВывестиСообщения(Параметр, Ложь);
			Иначе
				ЛКЗагрузитьМобильныеУстройстваПродолжить(Параметр, Источник = ""БыстраяНастройка"");
			КонецЕсли; 
		КонецЕсли; 
		
	ИначеЕсли ИмяСобытия = ""АППроверкаУникальностиЗапускаОбработкиОбмена"" Тогда
		
		Если Параметр <> СтррКонтекст.ВХОбщиеПараметры Тогда // второй экземпляр обработки справшивает - уже открыта обработка или нет
			Оповестить(""АПЗакрытьОбработкуОбменДанными"", Параметр); // шлем событие закрытия обработки с конкретным ключем сеанса
		КонецЕсли; 
		
	ИначеЕсли ИмяСобытия = ""АПЗакрытьФормуОбработки"" Тогда
		
		Если Параметр = ""*"" Или Найти("",""+Параметр+"","", "",МобильныеУстройства,"") <> 0 Тогда
			Если ЭтаФорма.Открыта() Тогда
				ЭтаФорма.Модифицированность = Ложь;
				ЭтаФорма.Закрыть();
			КонецЕсли; 
		КонецЕсли; 
		
	КонецЕсли;
	
КонецПроцедуры

// ОбработчикиСобытийФормы
#КонецОбласти


#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ПоказатьТорговыхАгентовПродолжить(РезультатОтвета = Неопределено, ДополнительныеПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		КомандаПоказатьНастройкиАгентов(Неопределено);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаСохранитьВсе(Команда)

	УстановитьМодифицированостьФормы(Ложь);
	СохранитьНастройкиИОповестить();
	
КонецПроцедуры

&НаКлиенте
Процедура СохранитьВсеПродолжить(РезультатОтвета, ДополнительныеПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		КомандаСохранитьВсе(Неопределено);
		Закрыть();
	ИначеЕсли РезультатОтвета = КодВозвратаДиалога.Нет Тогда
		УстановитьМодифицированостьФормы(Ложь);
		Закрыть();
	КонецЕсли;
	
КонецПроцедуры

// Загрузка / обновление МУ из ""Личного кабинета""
&НаКлиенте
Процедура КомандаЛКЗагрузитьМУ(Команда)
	
	// проверяем - редактируются ли сейчас настройки агентов?
	СтррКонтекст.НастройкиАгентовРедактируются = Ложь;
	Оповестить(""АППроверкаРедактированияНастроекАгентов"", СтррКонтекст);
	
	Текст = НСтр(""ru = 'Загрузить мобильные устройства из """"Личного кабинета""""?'"");
	
	Оповещение = Новый ОписаниеОповещения(""ЗагрузитьИзЛичногоКабинетаПродолжить"", ЭтотОбъект);
	ПоказатьВопрос(Оповещение, Текст, РежимДиалогаВопрос.ДаНетОтмена);
	
КонецПроцедуры

&НаКлиенте
Процедура ЗагрузитьИзЛичногоКабинетаПродолжить(РезультатВопроса, ДополнительныеПараметры) Экспорт
	
	Если РезультатВопроса = КодВозвратаДиалога.Да Тогда
		Если СтррКонтекст.НастройкиАгентовРедактируются Тогда
			Текст = НСтр(""ru = 'Настройки агентов сейчас редактируются, сохраните настройки агентов и повторите попытку.'"");
			ПоказатьПредупреждение(, Текст);
		Иначе
			ЛКЗагрузитьМобильныеУстройства();
		КонецЕсли; 
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаЛКНастройкиЗагрузкиМУ(Команда)

	стррПараметры = ЛКПрочитатьНастройкиЗагрузкиМУ();
	
	Оповещение = Новый ОписаниеОповещения(""ЛКНастройкиЗагрузкиМУЗавершение"", ЭтотОбъект);
	ОткрытьФормуОбработки(""МобильныеУстройстваНастройкаЗагрузкиИзЛК"", Новый Структура(""Значения"", СтррПараметры),, Оповещение);
	
КонецПроцедуры

&НаКлиенте
Процедура ЛКНастройкиЗагрузкиМУЗавершение(стррРезультат, ДополнительныеПараметры) Экспорт
	
	Если ТипЗнч(стррРезультат) = Тип(""Структура"") Тогда
		ЛКСохранитьНастройкиЗагрузкиМУ(стррРезультат);
	КонецЕсли; 
	
КонецПроцедуры	

&НаКлиенте
Процедура КомандаЛКПроставитьАгентов(Команда)
	
	мСтроки = Новый Массив;
	ОбъектТЧ = Объект.МобильныеУстройства;
	
	Для Каждого ИдСтроки Из Элементы.МобильныеУстройства.ВыделенныеСтроки Цикл
		СтрокаТ = ОбъектТЧ.НайтиПоИдентификатору(ИдСтроки);
		Если ЗначениеЗаполнено(СтрокаТ.ЛК_Employee) Тогда
			мСтроки.Добавить(ИдСтроки);
		КонецЕсли; 
	КонецЦикла;
	Если мСтроки.Количество() = 0 Тогда
		ПоказатьПредупреждение(, НСтр(""ru = 'Нет выделенных мобильных устройств, которые загружены из """"Личного кабинета"""".'""));
	Иначе
		стррДопПараметры = Новый Структура;
		стррДопПараметры.Вставить(""ИдентификаторыСтрок"", мСтроки);
		мСообщения = Новый Массив;
		ЛКСопоставитьАгентов(мСообщения, Ложь, стррДопПараметры);
		// действия ниже надо делать???
		Если СтррКонтекст.ИзмененыПользователи Тогда
			УстановитьМодифицированостьФормы(Истина);
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОчиститьКолонкуАгент(Команда)
	
	ОбъектТЧ = Объект.МобильныеУстройства;	
	БылиИзменения = Ложь;
	
	Для Каждого ИдСтроки Из Элементы.МобильныеУстройства.ВыделенныеСтроки Цикл
		СтрокаТ = ОбъектТЧ.НайтиПоИдентификатору(ИдСтроки);
		Если ЗначениеЗаполнено(СтрокаТ.Пользователь) Тогда
			СтрокаТ.Пользователь = Неопределено;
			ОбновитьИконкуСтатуса(СтрокаТ);
			БылиИзменения = Истина;
		КонецЕсли;
	КонецЦикла;
	
	Если БылиИзменения Тогда
		СтррКонтекст.ИзмененыПользователи = Истина;
		УстановитьМодифицированостьФормы(Истина);	
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаСправка(Команда)

	ОткрытьФормуОбработки(""МодульСправки"").ВнешнийВызовОткрытьСправку(ЭтаФорма.ИмяФормы);
	
КонецПроцедуры

#Область ОбработчикиКомандФормы_НавигацияПоФормам

&НаКлиенте
Процедура КомандаПоказатьЛичныйКабинет(Команда)
	
	ЛКЗагрузитьМодуль().Открыть();

КонецПроцедуры

&НаКлиенте
Процедура КомандаПоказатьГлавнуюФорму(Команда)
	
	ОткрытьФормуОбработки(""ГлавнаяФорма"");
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПоказатьНастройкиАгентов(Команда)
	
	ОткрытьФормуОбработки(""НастройкиАгентов"");
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПоказатьНастройкиОбмена(Команда)

	ОткрытьФормуОбработки(""НастройкиМодуля"");

КонецПроцедуры

&НаКлиенте
Функция ОткрытьФормуОбработки(ИмяФормы, стррПараметры = Неопределено, Уникальность = Неопределено, Оповещение = Неопределено)
	
	Если стррПараметры = Неопределено Тогда
		стррПараметры = Новый Структура;
	КонецЕсли; 
	стррПараметры.Вставить(""ВХОбщиеПараметры"", СтррКонтекст.ВХОбщиеПараметры);
	Возврат ОткрытьФорму(СтррКонтекст.ПутьКФорме + ИмяФормы, стррПараметры, ЭтаФорма, Уникальность,,, Оповещение);
	
КонецФункции

// ОбработчикиКомандФормы_НавигацияПоФормам
#КонецОбласти

// ОбработчикиКомандФормы
#КонецОбласти


#Область ОбработчикиСобытийЭлементовТаблицыФормыТабМобильныеУстройства

&НаКлиенте
Процедура МобильныеУстройстваПриИзменении(Элемент)
	УстановитьМодифицированостьФормы(Истина);
КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваПередНачаломИзменения(Элемент, Отказ)
	Отказ = Истина; // блокируем редактирование строки по клавише F2
КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтрокаТ = Элемент.ТекущиеДанные;
	Если СтрокаТ = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	СтандартнаяОбработка = Ложь;
	ОткрытьФормуЭлементаМУ(СтрокаТ);		

КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваПередУдалением(Элемент, Отказ)
	
	Отказ = Истина;	
	
	ВыделеныЗанятыеМУ = Ложь;
	
	ОбъектТЧ = Объект.МобильныеУстройства;	
	Для Каждого ИдСтроки Из Элементы.МобильныеУстройства.ВыделенныеСтроки Цикл
		СтрокаТ = ОбъектТЧ.НайтиПоИдентификатору(ИдСтроки);
		Если ЗначениеЗаполнено(СтрокаТ.Пользователь) И СтрокаТ.СтатусНастроек <> 4 Тогда // если СтатусНастроек = 4, значит это только что загруженное из ЛК МУ
			ВыделеныЗанятыеМУ = Истина;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
	Если ВыделеныЗанятыеМУ Тогда
		
		Текст = """";
		Если Элементы.МобильныеУстройства.ВыделенныеСтроки.Количество() > 1 Тогда
			Текст = НСтр(""ru = 'Среди выделенных мобильных устройств есть закрепленные за торговыми агентами!'"") + "" "";
		КонецЕсли;
		
		Текст = Текст + НСтр(""ru = 'Нельзя удалить мобильное устройство, если оно закреплено за торговым агентом. Сначала открепите мобильное устройство в окне """"Торговые агенты"""" или очистите колонку """"Агент"""" через меню кнопки """"Еще"""".'"");
		
		ПоказатьПредупреждение(Неопределено, Текст);
		
	Иначе // выделенные МУ можно удалить, но нужно предупредить пользователя, если по ним есть подтверждения, ожидающие выгрузки в МУ
		
		// проверяем - есть ли среди выделенных МУ те, по которым хранятся в БД подтверждения
		мСтроки = Элементы.МобильныеУстройства.ВыделенныеСтроки;
		СтррСтатистика = ПроверитьНаличиеПодтвержденийДокументов(мСтроки);
			
		Если Элемент.ВыделенныеСтроки.Количество() > 1 Тогда // выделено несколько строк
			Текст = СтррСтатистика.Описание + 
				СтрШаблон_(НСтр(""ru = 'Удалить выбранные мобильные устройства (выбрано: %1) ?'""), Элемент.ВыделенныеСтроки.Количество());
		Иначе // выделена одна строка
			Текст = СтррСтатистика.Описание + НСтр(""ru = 'Удалить мобильное устройство?'"");
		КонецЕсли;
		
		Оповещение = Новый ОписаниеОповещения(""МобильныеУстройстваПередУдалениемЗавершение"", ЭтотОбъект, СтррСтатистика.мСсылкиМУ);
		ПоказатьВопрос(Оповещение, Текст, РежимДиалогаВопрос.ДаНетОтмена);
			
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваПередУдалениемЗавершение(РезультатВопроса, ДополнительныеПараметры) Экспорт
	
	Если РезультатВопроса = КодВозвратаДиалога.Да Тогда

		Массив = Новый Массив(); // предварительно запоминаем выделенные строки в промежуточном массиве
		ОбщегоНазначенияКлиентСервер.ДополнитьМассив(Массив, Элементы.МобильныеУстройства.ВыделенныеСтроки);

		ОбъектТЧ = Объект.МобильныеУстройства;	
		Для Каждого ИдСтроки Из Массив Цикл
			ОбъектТЧ.Удалить(ОбъектТЧ.Индекс(ОбъектТЧ.НайтиПоИдентификатору(ИдСтроки)));
		КонецЦикла;
		
		Если ОбъектТЧ.Количество() = 0 Тогда
			ОбновитьТекстСтатуса();
		КонецЕсли;
		
		УстановитьМодифицированостьФормы(Истина);
		
		Если ТипЗнч(ДополнительныеПараметры) = Тип(""Массив"") И ДополнительныеПараметры.Количество() > 0 Тогда
			// Нужно удалить подтверждения у удаленных МУ, их внутренние идентификаторы переданы в массиве в параметре ДополнительныеПараметры.
			// Удаление будет произведено при выполнении команды КомандаСохранитьВсе(), т.к. окончательное удаление МУ из БД 
			// происходит при выполнении этой команды (при выходе из формы пользователь еще может отказаться от удаления МУ).
			ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СтррКонтекст.МассивМУДляУдаленияПодтверждений, ДополнительныеПараметры);
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваПриАктивизацииСтроки(Элемент)
	
	ОбновитьТекстСтатуса();
	
КонецПроцедуры

&НаКлиенте
Процедура МобильныеУстройстваПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа, Параметр)
	
	Отказ = Истина;
	ОткрытьФормуЭлементаМУ();
	
КонецПроцедуры

// ОбработчикиСобытийЭлементовТаблицыФормыТабМобильныеУстройства
#КонецОбласти


#Область СлужебныеПроцедурыИФункции

#Область СлужебныеПроцедурыИФункции_Прочие

&НаКлиенте
Функция ВывестиСообщения(стррРезультат, ОчиститьСообщения = Ложь)
	
	Если ОчиститьСообщения Тогда
		ОчиститьСообщения();
	КонецЕсли;
	
	Для Каждого Значение Из СтррРезультат.Сообщения Цикл
		Если ТипЗнч(Значение) = Тип(""Структура"") Тогда
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Значение.Описание);
		КонецЕсли;
	КонецЦикла;
	
КонецФункции

// Возвращает текстовое представление числа с единицей измерения в правильном склонении и числе.
//
// Параметры:
//  Число                       - Число  - любое целое число.
//  ПараметрыПредметаИсчисления - Строка - варианты написания единицы измерения в родительном падеже для одной,
//                                         для двух и для пяти единиц, разделитель - запятая.
//
// Возвращаемое значение:
//  Строка - текстовое представление количества единиц, число записывается цифрами.
//
// Примеры:
//  ЧислоЦифрамиПредметИсчисленияПрописью(23,  ""минуту,минуты,минут"") = ""23 минуты"";
//  ЧислоЦифрамиПредметИсчисленияПрописью(15,  ""минуту,минуты,минут"") = ""15 минут"".
&НаКлиентеНаСервереБезКонтекста
Функция ЧислоЦифрамиПредметИсчисленияПрописью(Знач Число, Знач ПараметрыПредметаИсчисления,
	Знач ДобавлятьЧислоКРезультату = Истина)
	
	Результат = ?(ДобавлятьЧислоКРезультату, Формат(Число, ""ЧН=0"") + "" "", """");
	ПредставленияПредмета = Новый Массив;
	
	ПараметрыПредметаИсчисления = СтрРазделить_(ПараметрыПредметаИсчисления, "","");
	Для Каждого Параметр Из ПараметрыПредметаИсчисления Цикл
		ПредставленияПредмета.Добавить(СокрЛП(Параметр));
	КонецЦикла;
	
	Число = Число % 100;
	Если Число > 20 Тогда
		Число = Число % 10;
	КонецЕсли;
	
	Индекс = ?(Число = 1, 0, ?(Число > 1 И Число < 5, 1, 2));
	Результат = Результат + ПредставленияПредмета[Индекс];
	
	Возврат Результат;
	
КонецФункции

// СлужебныеПроцедурыИФункции_Прочие
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_ХранилищеНастроек

// Функция сохраняет список МУ в хранилище и возвращает параметр для оповещения других окон об изменениях в МУ.
&НаСервере
Функция СохранитьНастройкиСервер()
	
	ПараметрОповещения = ""ИзмененСоставМУ"";
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");
	ТекОбъект.МобильныеУстройства.Колонки.Удалить(""Пользователь""); 			// удаляем сервисные колонки, не сохраняемые в Хранилище
	ТекОбъект.МобильныеУстройства.Колонки.Удалить(""ЛКИзмененныеРеквизиты""); //
	ТекОбъект.СохранитьЗначенияНастроекОбработки(""МобильныеУстройства"");
	
	Если СтррКонтекст.МассивМУДляУдаленияПодтверждений.Количество() > 0 Тогда
		
		// Нужно удалить подтверждения для удаленных МУ.
		ТекОбъект.УдалитьПодтвержденияДокументов(СтррКонтекст.МассивМУДляУдаленияПодтверждений);
		ТекОбъект.УдалитьПодтвержденияСправочников(СтррКонтекст.МассивМУДляУдаленияПодтверждений); // sd_10082017
		СтррКонтекст.МассивМУДляУдаленияПодтверждений.Очистить();
		
	КонецЕсли;
	
	Если СтррКонтекст.ИзмененыПользователи Тогда // Нужно в настройках агентов сохранить закрепленные за ними МУ
		
		ТЗ = ТекОбъект.ПрочитатьЗначенияНастроек(""НастройкиАгентов"", Истина);
		мИзмененныеСтроки = Новый Массив;
		СтррПоиск = Новый Структура(""Пользователь"");
		Для Каждого СтрокаТ Из Объект.МобильныеУстройства Цикл
			СтррПоиск.Пользователь = СтрокаТ.Пользователь;
			мСтроки = ТЗ.НайтиСтроки(СтррПоиск);
			Если мСтроки.Количество() <> 0 Тогда
				мСтроки[0].СсылкаМУ = СтрокаТ.ID;
				мИзмененныеСтроки.Добавить(ТЗ.Индекс(мСтроки[0]));
			КонецЕсли;
		КонецЦикла;
		
		// для не измененных строк агентов очищаем ссылки на МУ
		Для Каждого СтрокаТЗ Из ТЗ Цикл
			Если мИзмененныеСтроки.Найти(ТЗ.Индекс(СтрокаТЗ)) = Неопределено Тогда
				СтрокаТЗ.СсылкаМУ = Неопределено;
			КонецЕсли;				
		КонецЦикла;
		
		ТекОбъект.СохранитьЗначениеНастройки(""НастройкиАгентов"", ТЗ);
		СтррКонтекст.ИзмененыПользователи = Ложь;
		
		ТекОбъект.СОДПопыткаСгенерироватьФайлНастройки();
		
		ПараметрОповещения = ""ИзмененыПривязкиМУкАгентам"";
		
	КонецЕсли;
	
	СтррФайлСОД = ТекОбъект.СОДПопыткаСгенерироватьФайлНастройки();
	
	Возврат Новый Структура(""ПараметрОповещения,ФайлСОД"", ПараметрОповещения, СтррФайлСОД);

КонецФункции

// Если в процедуру передан список реквизитов для восстановления, то восстанавливаются только эти реквизиты,
// иначе восстанавливаются все реквизиты, необходимые для работы формы.
&НаСервере
Процедура ВосстановитьНастройкиСервер(РеквизитыВосстановления = """")
	
	Если РеквизитыВосстановления = """" Тогда
		РеквизитыВосстановления = ""МобильныеУстройства,НастройкиАгентов"";
	КонецЕсли;

	ТекОбъект = РеквизитФормыВЗначение(""Объект"");
	ТекОбъект.ВосстановитьЗначенияНастроекОбработки(РеквизитыВосстановления);
	ЗначениеВРеквизитФормы(ТекОбъект, ""Объект"");
	
	Если Найти(РеквизитыВосстановления, ""НастройкиАгентов"") <> 0 Тогда // нужно обновить колонку ""Пользователь"" по данным в ТЗ НастройкиАгентов.
		
		стррОтбор = Новый Структура(""СсылкаМУ"");
		ТЗНастройкиАгентов = Объект.НастройкиАгентов;
		ТЗМУ = Объект.МобильныеУстройства;
		
		Для Каждого СтрокаТ Из ТЗМУ Цикл
			Если ЗначениеЗаполнено(СтрокаТ.ID) Тогда
				стррОтбор.СсылкаМУ = СтрокаТ.ID;
				мАгенты = ТЗНастройкиАгентов.НайтиСтроки(СтррОтбор);
				СтрокаТ.Пользователь = ?(мАгенты.Количество() = 0, Неопределено, мАгенты[0].Пользователь)
			Иначе
				СтрокаТ.Пользователь = Неопределено;
			КонецЕсли;
		КонецЦикла;
		
	КонецЕсли; 

КонецПроцедуры

&НаКлиенте
Процедура СохранитьНастройкиИОповестить()

	СтррРезультат = СохранитьНастройкиСервер();
	СтррФайлСОД = СтррРезультат.ФайлСОД;
	
	Если СтррФайлСОД.Свойство(""Текст"") И СтррФайлСОД.Свойство(""Кодировка"") И СтррФайлСОД.Свойство(""ПолноеИмяФайла"") Тогда
		СтррФайлСОД.Текст.Записать(СтррФайлСОД.ПолноеИмяФайла, СтррФайлСОД.Кодировка);
	КонецЕсли;
	
	Оповестить(""АПМобильныеУстройстваИзменениеСпискаМУ"", СтррРезультат.ПараметрОповещения);

КонецПроцедуры

// Функция считывает из хранилища значение настройки загрузки МУ из ЛК и при необходимости инициализирует значение настройки
&НаСервере
Функция ЛКПрочитатьНастройкиЗагрузкиМУ()

	ТекОбъект = РеквизитФормыВЗначение(""Объект"");
	стррПараметры = ТекОбъект.ПрочитатьЗначениеНастройки(""ЛКНастройкиЗагрузкиМУ"");
	Если ТипЗнч(стррПараметры) <> Тип(""Структура"") Тогда
		стррПараметры = Новый Структура;
		стррПараметры.Вставить(""РежимПоискаПользователей"", 		""ИскатьПоВхождению"");
		стррПараметры.Вставить(""СоздаватьНовыхПользователей"", 	Истина);
		стррПараметры.Вставить(""ТолькоДляНовыхИОбновленныхМУ"", 	Истина);
		ЛКСохранитьНастройкиЗагрузкиМУ(стррПараметры);
	КонецЕсли; 
	
	Возврат стррПараметры;

КонецФункции

&НаСервере
Функция ЛКСохранитьНастройкиЗагрузкиМУ(стррПараметры)

	ТекОбъект = РеквизитФормыВЗначение(""Объект"");
	ТекОбъект.СохранитьЗначениеНастройки(""ЛКНастройкиЗагрузкиМУ"", стррПараметры);
	
	Возврат стррПараметры;

КонецФункции

// СлужебныеПроцедурыИФункции_ХранилищеНастроек
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_Статусы

&НаКлиенте
Процедура ОбновитьКолонкуСтатусНастройки()

	Для Каждого СтрокаТ Из Объект.МобильныеУстройства Цикл
		ОбновитьИконкуСтатуса(СтрокаТ);
	КонецЦикла;

КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста 
Процедура ОбновитьИконкуСтатуса(СтрокаТ)

	Если СтрокаТ = Неопределено Тогда
	ИначеЕсли ПустаяСтрока(СтрокаТ.Наименование) Или Не ЗначениеЗаполнено(СтрокаТ.ИдентификаторМУ) Тогда
		СтрокаТ.СтатусНастроек = 2;
	ИначеЕсли Не ЗначениеЗаполнено(СтрокаТ.Пользователь) Тогда
		СтрокаТ.СтатусНастроек = 3;
	Иначе
		СтрокаТ.СтатусНастроек = 1;
	КонецЕсли;
	
КонецПроцедуры

// Процедура обновляет текст статуса в нижней части экрана и итог количества строк в таблице
&НаКлиенте
Процедура ОбновитьТекстСтатуса(СтрокаТ = Неопределено)
	
	Статус = """";
	
	Если СтрокаТ = Неопределено Тогда
		СтрокаТ = Элементы.МобильныеУстройства.ТекущиеДанные;
	КонецЕсли;
	
	Если СтрокаТ <> Неопределено Тогда
		
		Если СтрокаТ.СтатусНастроек = 4 Тогда
		
			Статус = Статус + НСтр(""ru = 'Загружено из """"Личного кабинета"""".'"") + "" "";
			
		ИначеЕсли СтрокаТ.СтатусНастроек = 5 Тогда
			
			Статус = Статус + НСтр(""ru = 'Обновлено из """"Личного кабинета"""".'"") + "" "";
			
		КонецЕсли; 
		
		Если ПустаяСтрока(СтрокаТ.Наименование) Тогда
			Статус = Статус + НСтр(""ru = 'Не заполнено наименование.'"") + "" "";
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(СтрокаТ.ИдентификаторМУ) Тогда		
			Статус = Статус + НСтр(""ru = 'Не заполнен идентификатор.'"") + "" "";
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(СтрокаТ.Пользователь) Тогда
			Статус = Статус + НСтр(""ru = 'Не выбран агент.'"") + "" "";
		КонецЕсли;
		
		Если Статус = """" Тогда
			Статус = НСтр(""ru = 'Настройки заданы.'"");
		КонецЕсли;
		
	КонецЕсли;
	
	Элементы.ДекорацияСтатус.Заголовок = Статус;
	
	Если ВсегоСтрок <> Объект.МобильныеУстройства.Количество() Тогда // для вывода количества строк в подвале
		ВсегоСтрок = Объект.МобильныеУстройства.Количество();
		Элементы.МобильныеУстройстваНаименование.ТекстПодвала = ?(ВсегоСтрок = 0, """", НСтр(""ru = 'Всего: '"") + Строка(ВсегоСтрок));
	КонецЕсли;
	
	// боремся с отображением ""всех иконок"" в Платформе - когда в ТабНастройкиАгентов нет строк - убираем видимость иконки статуса
	Если Элементы.МобильныеУстройстваСтатусНастроекИконка.Видимость <> (ВсегоСтрок > 0) Тогда
		Элементы.МобильныеУстройстваСтатусНастроекИконка.Видимость = (ВсегоСтрок > 0);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте 
Процедура ОбновитьИконкуИТекстСтатуса(СтрокаТ = Неопределено)
	
	Если СтрокаТ = Неопределено Тогда
		СтрокаТ = Элементы.МобильныеУстройства.ТекущиеДанные;
	КонецЕсли;
	
	ОбновитьИконкуСтатуса(СтрокаТ);
	ОбновитьТекстСтатуса(СтрокаТ);
	
КонецПроцедуры

&НаКлиенте
Процедура ОбновитьВсеСтатусы()
	
	ОбновитьКолонкуСтатусНастройки();
	ОбновитьИконкуИТекстСтатуса();
	
КонецПроцедуры

&НаКлиенте
Процедура УстановитьМодифицированостьФормы(Режим)
	
	ЭтаФорма.Модифицированность = Режим;
	Элементы.СохранитьВсе.ЦветТекста = СтррКонтекст.Цвета[?(Режим, ""ТекстВнимание"", ""Авто"")];
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_Статусы
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_ДляФормыЭлементаМУ

// Процедура открывает форму МУ для редактирования или добавления нового МУ.
&НаКлиенте
Процедура ОткрытьФормуЭлементаМУ(СтрокаТ = Неопределено)
	
	СтррРеквизитыМУ = Новый Структура(СтррКонтекст.РеквизитыМУ); // структура - все реквизиты МУ
	
	Если СтрокаТ <> Неопределено Тогда
		ЗаполнитьЗначенияСвойств(СтррРеквизитыМУ, СтрокаТ);
	Иначе
		СтррРеквизитыМУ.Наименование = СтрШаблон_(НСтр(""ru = 'МУ N %1'""), Объект.МобильныеУстройства.Количество() + 1);
	КонецЕсли;
	
	ОткрытьФорму(СтррКонтекст.ПутьКФорме + ""МобильноеУстройство"", Новый Структура(""СтррРеквизиты"", СтррРеквизитыМУ), ЭтаФорма);
	
КонецПроцедуры

// Функция проверяет на уникальность значение в таблице ТабМобильныеУстройства.
//
// Параметры:
//  Значение 	  - Любой - искомое значение;
//  ИмяРеквизита  - Строка - Имя реквизита в таблице, где искать значение;
//  ДопПараметры  - Структура - свойства:
//  	* ИсключитьID - внутренний идентификатор редактиреомого МУ (который нужно исключить из поиска);
//  	* СтрокаТаблицы - ДанныеФормыЭлементКоллекции - возвращается второй результат функции - строка с найденным значением.
//
// Возвращаемое значение:
//   Истина - Булево - значение уникально, иначе - Ложь.
//
&НаКлиенте
Функция ЭтоУникальноеЗначениеМУ(Значение, ИмяРеквизита, ДопПараметры)
	
	Результат = Истина;
	
	Если ЗначениеЗаполнено(Значение) Тогда
		
		мСтроки = Объект.МобильныеУстройства.НайтиСтроки(Новый Структура(ИмяРеквизита, Значение));
		
		Для Каждого СтрокаТ Из мСтроки Цикл
			
			Если СтрокаТ.ID <> ДопПараметры.ИсключитьID Тогда
				ДопПараметры.СтрокаТаблицы = СтрокаТ; // найденную строку возвращаем в параметре
				Результат = Ложь;
				Прервать;
			КонецЕсли;
			
		КонецЦикла;
		
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

// Функция возвразщает строку таблицы ТабМобильныеУстройства по внутреннему идентификатору ID.
// Если строка по ID не находится, то добавляется и возвращается новая строка.
// 
// Параметры:
//  ID - УникальныйИдентификатор - внутренний идентификатор элемента МУ;
//
// Возвращаемое значение:
//   Строка таблицы ТабМобильныеУстройства.
//
&НаКлиенте
Функция ПолучитьСтрокуТаблицыМУ(ID)
	
	мСтроки = Объект.МобильныеУстройства.НайтиСтроки(Новый Структура(""ID"", ID));
	Возврат ?(мСтроки.Количество() = 0, Объект.МобильныеУстройства.Добавить(), мСтроки[0]);
	
КонецФункции

// Процедура проверят правильность свойств МУ, переданного в параметре.
// Если свойства МУ заполнены правильно, оно обновляется или добавляется в таблице ТабМобильныеУстройства.
// 
// Параметры:
//  СтррРеквизитыМУ - Структура - свойства:
//  	* ID - УникальныйИдентификатор - внутренний уникальный идентификатор элемента МУ;
//  	* Наименование - Строка - наименование МУ;
//  	* Описание - Строка - описание МУ.
//  	* ИдентификаторМУ - УникальныйИдентификатор - идентификатор МУ, используемый в СОД.
//  	* Пользователь - СправочникСсылка.Пользователи - пользователь, закрепленный за МУ.
&НаКлиенте
Процедура ОбработатьОповещениеОбЭлементеМУ(СтррРеквизитыМУ)

	// Проверяем на уникальность идентификатор для нового/отредактированного МУ
	СтррРезультат = Новый Структура(""ПолеОшибки,Сообщение"", Неопределено, """");
	СтррПараметры = Новый Структура(""ИсключитьID,СтрокаТаблицы"", СтррРеквизитыМУ.ID);
	
	Если Не ЭтоУникальноеЗначениеМУ(СтррРеквизитыМУ.Наименование, ""Наименование"", СтррПараметры) Тогда
		
		СтррРезультат.ПолеОшибки = ""Наименование""; 
		Текст = НСтр(""ru = 'Наименование уже указано в строке N """"%1"""" в списке мобильных устройств.'"");
		СтррРезультат.Сообщение = СтрШаблон_(Текст, СтррПараметры.СтрокаТаблицы.ПолучитьИдентификатор() + 1);
		
	ИначеЕсли Не ЭтоУникальноеЗначениеМУ(СтррРеквизитыМУ.ИдентификаторМУ, ""ИдентификаторМУ"", СтррПараметры) Тогда
		
		СтррРезультат.ПолеОшибки = ""ИдентификаторМУ"";
		Текст = НСтр(""ru = 'Идентификатор уже указан для мобильного устройства """"%1"""" в списке мобильных устройств.'"");
		СтррРезультат.Сообщение = СтрШаблон_(Текст, СокрЛП(СтррПараметры.СтрокаТаблицы.Наименование));
		
	ИначеЕсли Не ЭтоУникальноеЗначениеМУ(СтррРеквизитыМУ.Пользователь, ""Пользователь"", СтррПараметры) Тогда
		
		СтррРезультат.ПолеОшибки = ""Пользователь"";
		Текст = НСтр(""ru = 'Пользователь уже указан для мобильного устройства """"%1"""" в списке мобильных устройств.'"");
		СтррРезультат.Сообщение = СтрШаблон_(Текст, СокрЛП(СтррПараметры.СтрокаТаблицы.Наименование));
		
	КонецЕсли;
	
	Оповестить(""АПМобильныеУстройстваОтвет"", СтррРезультат);
	
	Если Не ЗначениеЗаполнено(СтррРезультат.ПолеОшибки) Тогда // ошибок нет, элемент МУ можно записать в таблицу
		
		СтрокаТ = ПолучитьСтрокуТаблицыМУ(СтррРеквизитыМУ.ID);
		ПрежнийПользователь = СтрокаТ.Пользователь;
		ЗаполнитьЗначенияСвойств(СтрокаТ, СтррРеквизитыМУ); 
		Если ПрежнийПользователь <> СтрокаТ.Пользователь Тогда
			СтррКонтекст.ИзмененыПользователи = Истина; // признак, что у мобильных устройств изменялись ссылки на пользователей
		КонецЕсли;
		ОбновитьИконкуИТекстСтатуса(СтрокаТ);
		Элементы.МобильныеУстройства.ТекущаяСтрока = СтрокаТ.ПолучитьИдентификатор();
		УстановитьМодифицированостьФормы(Истина);
		
	КонецЕсли;

КонецПроцедуры

// Функция возвращает названия реквизитов МУ в виде строки (список названий колонок ТЗ ""МобильныеУстройства"")
&НаСервере
Функция ПолучитьНазванияРеквизитовМУ(ТекОбъект)
	
	Результат = """";
	Для Каждого Колонка Из ТекОбъект.МобильныеУстройства.Колонки Цикл
		Результат = Результат + "","" + Колонка.Имя;
	КонецЦикла;
	
	Результат = Сред(Результат, 2);
	
	Возврат Результат;
	
КонецФункции

// СлужебныеПроцедурыИФункции_ДляФормыЭлементаМУ
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_ПодтержденияДокументов

// Функция проверяет есть ли в БД данные о подтверждениях документов для МУ (т.е. участвовали ли МУ в обмене данными).
// 
// Параметры:
//  мСтроки     - Массив - массив строк таблицы значений МобильныеУстройства для проверки МУ каждой строки.
//
// Возвращаемое значение:
//  Структура со свойствами:
// 		Описание  - Строка - строка (многострочная) с описанием статистки обмена с МУ (если был обмен схотя бы с одним из переданных МУ), 
//							или пустая строка (если не было обменов ни с одним из переданных МУ).
//		мСсылкиМУ - массив внутренних идентификаторов МУ, с которыми был обмен данными (т.е. для которых есть подтверждения обмена данными).
//  
&НаСервере
Функция ПроверитьНаличиеПодтвержденийДокументов(мСтроки)
	
	Описание = """";
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");	
	
	ОбъектТЧ = Объект.МобильныеУстройства;	
	Шаблон = Символы.Таб + НСтр(""ru = '- МУ: """"%1"""", данные %2, документов: %3'"");
	ПереводСтроки = """";
	
	мСсылкиМУ = Новый Массив; // массив внутренних идентификаторов МУ, у которых есть подтверждения
	
	Для Каждого ИдСтроки Из мСтроки Цикл
		
		СтрокаТ = ОбъектТЧ.НайтиПоИдентификатору(ИдСтроки);
		ТЗ = ТекОбъект.СДОткрытьПодтвержденияДокументов(СтрокаТ.ID, Истина);
		Если ТипЗнч(ТЗ) = Тип(""ТаблицаЗначений"") И ТЗ.Количество() > 0 Тогда
			мСсылкиМУ.Добавить(СтрокаТ.ID);
			ТЗ.Сортировать(""Дата"");
			ДатаНачала = ТЗ[0].Дата;
			ДатаКонца  = ТЗ[ТЗ.Количество()-1].Дата;
			СтрПериод  = ?(ДатаНачала = ДатаКонца, 
					СтрШаблон_(НСтр(""ru = 'от %1'""), ДатаНачала), 
					СтрШаблон_(НСтр(""ru = 'с %1 по %2'""), ДатаНачала, ДатаКонца));
			Описание = Описание + ПереводСтроки + СтрШаблон_(Шаблон, СтрокаТ.Наименование, СтрПериод, ТЗ.Количество());
			Если ПереводСтроки = """" Тогда
				ПереводСтроки = "";"" + Символы.ПС;
			КонецЕсли;
		КонецЕсли;
		
	КонецЦикла;
	
	Если мСсылкиМУ.Количество() > 0 Тогда // есть МУ, участвующие в обмене
		Если мСсылкиМУ.Количество() = 1 Тогда
			Вступление = НСтр(""ru = 'Удаляемое мобильное устройство (МУ) участвовало в обмене данными! Статистика обмена:'"");
			Концовка   = НСтр(""ru = 'После удаления обмен с ним прекратится!'"");
		Иначе
			Вступление = НСтр(""ru = 'Удаляемые мобильные устройства (МУ) участвовали в обмене данными! Статистика обмена:'"");
			Концовка   = НСтр(""ru = 'После удаления перечисленных МУ обмен с ними прекратится!'"");
		КонецЕсли;
		Описание = Вступление + Символы.ПС	+ Описание + ""."" + Символы.ПС + Концовка + Символы.ПС + Символы.ПС;
	КонецЕсли;
	
	Возврат Новый Структура(""Описание,мСсылкиМУ"", Описание, мСсылкиМУ);
	
КонецФункции

// СлужебныеПроцедурыИФункции_ПодтержденияДокументов
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_ЛК

&НаКлиентеНаСервереБезКонтекста 
Процедура ПреобразоватьВУникальныйИдентификатор(Значение)
	

	Если ТипЗнч(Значение) = Тип(""УникальныйИдентификатор"") Тогда
		Возврат;
	Иначе
		стрРезультат = ""00000000-0000-0000-0000-000000000000"";		
		Если ТипЗнч(Значение) = Тип(""Строка"") Тогда
			Ид = НРег(СокрЛП(Значение));
			Если СтрДлина(Ид) = 36 Тогда
				GUID0 = Ид;
				Для Поз = 1 По 15 Цикл
					GUID0 = СтрЗаменить(GUID0, Сред(""123456789abcdef"", Поз, 1), ""0"");
				КонецЦикла;
				Если GUID0 = стрРезультат Тогда
					стрРезультат = Значение;
				КонецЕсли;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	
	Значение = Новый УникальныйИдентификатор(стрРезультат);
	
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Процедура ПреобразоватьВДату(Значение)
	Если ТипЗнч(Значение) = Тип(""Строка"") Тогда
		Значение = ДатаВремяJSONВФормат1С(Значение);
	КонецЕсли; 
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Функция ДатаВремяJSONВФормат1С(стрДатаВремя)

	// пример в JSON: ""2014-07-11T06:42:58.16""
	Если СтрДлина(стрДатаВремя) < 19 Тогда
	    Возврат '00010101';
	КонецЕсли; 
	
	Год   	= Число(Лев(стрДатаВремя, 4));
	Месяц 	= Число(Сред(стрДатаВремя, 6, 2));
	День  	= Число(Сред(стрДатаВремя, 9,2));
	Часы    = Число(Сред(стрДатаВремя, 12, 2));
	Минуты  = Число(Сред(стрДатаВремя, 15, 2));
	Секунды = Число(Сред(стрДатаВремя, 18, 2));

	Возврат Дата(Год, Месяц, День, Часы, Минуты, Секунды);
	
КонецФункции

&НаКлиенте 
Процедура ЛКЗагрузитьМобильныеУстройства(БыстраяНастройка = Ложь)

	ЛКЗагрузитьМодуль().ВнешнийВызовЗагрузитьДанныеИзЛК(""МобильныеУстройства"", БыстраяНастройка); // Процедура возвращает результат через оповещение ""АПЛКОповещение"".
	
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Процедура ЛКСообщить(мСообщения, Текст)
	
	Если мСообщения = Неопределено Тогда
	    ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Текст);
	Иначе
		мСообщения.Добавить(Текст);
	КонецЕсли; 
	
КонецПроцедуры

// Процедура загружает МУ, полученные из ЛК, в таблицу на форме МобильныеУстройства.
// 	Параметры:
//		Параметр - Структура - структура ответа из ЛК, в свойстве Результат - массив загруженных из ЛК МУ.
//		БыстраяНастрока - Булево - режим ""Быстрой настройки"" - в этом случае массив может быть пустым и нужно не интерактивно предупредить пользователя.
//		
&НаКлиенте 
Процедура ЛКЗагрузитьМобильныеУстройстваПродолжить(Параметр, БыстраяНастройка)
	
	// Массив Параметр.Результат состоит из структур со свойствами:
	// 1. DeviceModel 		- название модели
	// 2. HardwareId		- идентификатор прошивки
	// 3. Identifier		- идентификатор МУ в ЛК - по нему сопоставляем МУ между ЛК и УС
	// 4. LastActivityDate	- время последнего обращения МУ к ЛК
	// 5. Manufacturer		- производитель
	// 6. MDMId				- идентификатор службы MDM
	// 7. Name				- название МУ
	// 8. SerialNumber		- серийный номер
	// 9. Employee			- сотрудник, закрепленый за МУ
	
	стррРеквизиты = Новый Структура; // структура соответствий реквизтов МУ в УС и в ЛК
	стррРеквизиты.Вставить(""ЛК_Identifier"", 		""Identifier"");
	стррРеквизиты.Вставить(""ЛК_HardwareId"", 		""HardwareId"");
	стррРеквизиты.Вставить(""ЛК_SerialNumber"", 		""SerialNumber"");
	стррРеквизиты.Вставить(""ЛК_Manufacturer"", 		""Manufacturer"");
	стррРеквизиты.Вставить(""ЛК_Name"", 				""Name"");
	стррРеквизиты.Вставить(""ЛК_Employee"", 			""Employee"");
	стррРеквизиты.Вставить(""ЛК_MDMId"", 				""MDMId"");
	стррРеквизиты.Вставить(""ЛК_DeviceModel"", 		""DeviceModel"");
	стррРеквизиты.Вставить(""ЛК_LastActivityDate"", 	""LastActivityDate"");
	
	Если БыстраяНастройка Тогда
		мСообщения = Новый Массив; // массив текстовых сообщений, используется для вывода сообщений при ""Быстрой настройке""
	Иначе
		мСообщения = Неопределено;
		ОчиститьСообщения();
	КонецЕсли; 

	стрЧислительноеМУ = ""мобильное устройство,мобильных устройства,мобильных устройств"";
	
	мМУ = Параметр.Результат;
	
	Если БыстраяНастройка и мМУ.Количество() = 0 Тогда
		стррПараметры = Новый Структура(""ЕстьОшибки,Описание"", Истина, ЛКЗагрузитьМодуль().ОписаниеОтсуствияМУвЛК());
		Оповестить(""АПМобильныеУстройства_БыстраяНастройка"", стррПараметры); // !!! в параметре возвращаем описание ошибки, чтобы закрепить его в ТЗ статуса
		Возврат;
	КонецЕсли; 
	
	стррПоиск = Новый Структура(""ЛК_Identifier"");
	
	НовыхМУ 	= 0;
	ОбновленоМУ = 0;
	
	тзМУ = Объект.МобильныеУстройства;
	Для каждого стррМУ Из мМУ Цикл
		
		ПреобразоватьВУникальныйИдентификатор(стррМУ.Identifier);
		ПреобразоватьВУникальныйИдентификатор(стррМУ.HardwareId);
		ПреобразоватьВУникальныйИдентификатор(стррМУ.MDMId);
		ПреобразоватьВДату(стррМУ.LastActivityDate);
		
		стррПоиск.ЛК_Identifier = стррМУ.Identifier;
		мСтроки = тзМУ.НайтиСтроки(стррПоиск);
		
		Если мСтроки.Количество() = 0 Тогда // новое МУ
			
			НовыхМУ = НовыхМУ + 1;
			СтрокаТ = тзМУ.Добавить();
			СтрокаТ.ID = Новый УникальныйИдентификатор; // внутренний уникальный идентификатор элемента справочника
			
			ЛКЗаполнитьРеквизитыМУ(СтрокаТ, стррМУ, стррРеквизиты);
			СтрокаТ.СтатусНастроек  = 4; // статус ""только что загружен из ЛК""
			
			// Реквизиты УС
			СтрокаТ.ИдентификаторМУ = СтрокаТ.ЛК_HardwareId;
			СтрокаТ.Наименование	= СтрокаТ.ЛК_Name;
			
		ИначеЕсли мСтроки.Количество() = 1 Тогда
			
			СтрокаТ = мСтроки[0];
			СтрокаТ.ЛКИзмененныеРеквизиты = ЛКПроверитьИзмененияРеквизитовМУ(СтрокаТ, стррМУ, стррРеквизиты);
			Если СтрокаТ.ЛКИзмененныеРеквизиты <> """" Тогда
				ОбновленоМУ = ОбновленоМУ + 1;
				ЛКЗаполнитьРеквизитыМУ(СтрокаТ, стррМУ, стррРеквизиты);
				СтрокаТ.СтатусНастроек  = 5; // статус ""обновлен из ЛК""
				Текст = СтрШаблон_(НСтр(""ru = 'У МУ """"%1"""" (идентификатор: %2) изменились значения: %3.'""), СтрокаТ.Наименование, стррМУ.Identifier, СтрокаТ.ЛКИзмененныеРеквизиты);
				ЛКСообщить(мСообщения, Текст);
			КонецЕсли; 
			
		Иначе // найдено несколько МУ с одинаковым идентификатором ЛК
			
			ОдинаковыхМУ = ЧислоЦифрамиПредметИсчисленияПрописью(мСтроки.Количество(), стрЧислительноеМУ);
			Текст = СтрШаблон_(НСтр(""ru = 'Внимание! В учетной системе найдено %1 с одинаковым идентификатором """"%2"""" (название: %3).'""), ОдинаковыхМУ, стррМУ.Identifier, стррМУ.Name);
			ЛКСообщить(мСообщения, Текст);
			Для каждого СтрокаТ Из мСтроки Цикл
				СтрокаТ.СтатусНастроек  = 2;
			КонецЦикла; 

		КонецЕсли; 
	КонецЦикла;
	
	ВсегоЗагруженоМУ = ЧислоЦифрамиПредметИсчисленияПрописью(мМУ.Количество(), стрЧислительноеМУ);
	
	Текст = СтрШаблон_(НСтр(""ru = 'Всего из """"Личного кабинета"""" загружено %1. Из них новых: %2, обновлено: %3.'""), ВсегоЗагруженоМУ, НовыхМУ, ОбновленоМУ);
	ЛКСообщить(мСообщения, Текст);
	
	Если Не БыстраяНастройка Тогда
		УстановитьМодифицированостьФормы(Истина);
		ОбновитьТекстСтатуса();
	КонецЕсли; 
	
	ЛКСопоставитьАгентов(мСообщения, БыстраяНастройка);

КонецПроцедуры

&НаКлиенте
Процедура ЛКСопоставитьАгентов(мСообщения, БыстраяНастройка, стррДопПараметры = Неопределено)
	
	// проставляем пользователей для МУ		
	стррРезультат = ЛКЗаполнитьАгентов(мСообщения, стррДопПараметры); // функция не допускает назначение одних и тех же пользователей за разными МУ
	// стррРезультат - структура со свойствами:
	//  * КодРезультата 			- Строка - код результата.
	//  * ПользователиНеВАгентах 	- Массив - массив структур (""СсылкаМУ,Пользователь"") - пользователи, которых нет среди агентов, но проставленные для МУ.
	//	* ОтсутствующиеПользователи - Массив - массив структур (""СсылкаМУ,ИмяПользователя"") - имена пользователей, которых нужно добавить в справочник ""Пользователи"".
	
	Если стррРезультат.КодРезультата = ""ПользовательНеАгент"" Тогда // Найдены для сопоставления пользователи, которых нет в агентах, нужно спросить разрешение
		// на добавление новых пользователей в агенты (но при ""Быстрой настройке"" не спрашиваем).
		// В свойстве ""Результат"" возвращен массив структур со свойствами ""СсылкаМУ,Пользователь"".
		
		стррПараметрыДобавленияАгентов = Новый Структура(""СвязиМУиПользователей,БыстраяНастройка,Сообщения"", 
			стррРезультат, БыстраяНастройка, мСообщения);
		
		Если БыстраяНастройка Тогда // не спрашиваем разрешение на добавление новых агентов
			
			Если стррРезультат.ОтсутствующиеПользователи.Количество() <= 10 Тогда // Для быстрой настройки допускаем создание не более 10 новых пользователей в УС.
				ЛКДобавитьНовыхАгентовЗавершить(стррПараметрыДобавленияАгентов); // Требуется создать не более 10 новых пользователей - продолжаем операцию
			Иначе 
				стррРезультат.КодРезультата = ""МногоНовыхПользователейДляБыстройНастройки"";
				стррРезультат.Вставить(""Описание"", НСтр(""ru = 'Мобильные устройства не загружены.'""));
				Текст = НСтр(""ru = 'Требуется создать слишком много новых пользователей (%1), загрузите мобильные устройства из """"Личного кабинета"""" вручную. Для этого на форме справочника """"Мобильные устройства"""" нажмите кнопку """"%2"""".'"");
				Текст = СтрШаблон_(Текст, стррРезультат.ОтсутствующиеПользователи.Количество(), НСтр(""ru = 'Загрузить из """"Личного кабинета""""'""));
				мСообщения.Очистить();				
				ЛКСообщить(мСообщения, Текст);
				ОбщегоНазначенияКлиентСервер.СообщитьПользователю(НСтр(""ru = 'Мобильные устройства не загружены - слишком много новых пользователей. Выполните операцию вручную.'""));
			КонецЕсли; 
			
		Иначе // спрашиваем разрешение на добавление новых агентов
			
			Оповещение = Новый ОписаниеОповещения(""ЛКДобавитьНовыхАгентовПродолжить"", ЭтотОбъект, стррПараметрыДобавленияАгентов);
			ПоказатьВопрос(Оповещение, ЛКПодготовитьТекстВопросаДляДобавленияПользователей(стррРезультат), РежимДиалогаВопрос.ДаНетОтмена);
			
		КонецЕсли; 
		
	КонецЕсли; 
	
	Если БыстраяНастройка Тогда // нужно сохранить изменения в хранилище и оповестить окно ""БыстраяНастройка""
		
		МожноЗаписатьМУ = (
		стррРезультат.КодРезультата = ""ВыключенПоискПользователей""
			Или стррРезультат.КодРезультата = ""НетСопоставленныхПользователей"" 
			Или стррРезультат.КодРезультата = ""ПользовательНеАгент""
			Или стррРезультат.КодРезультата = Неопределено);
		
		Если МожноЗаписатьМУ Тогда // данные о новых МУ можно записать в хранилище
			СохранитьНастройкиИОповестить();		
		КонецЕсли;
		
		// оповещаем о быстрой настройке МУ
		стррПараметрыОповещения = Новый Структура(""ЕстьОшибки,Сообщения"", Не МожноЗаписатьМУ, мСообщения);
		Если стррРезультат.Свойство(""Описание"") Тогда
			стррПараметрыОповещения.Вставить(""Описание"", стррРезультат.Описание);
		КонецЕсли; 
		Оповестить(""АПМобильныеУстройства_БыстраяНастройка"", стррПараметрыОповещения); // в параметре возвращаются данные чтобы закрепить его в ТЗ статуса окна ""Быстрой настройки""
		
	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Функция ЛКПодготовитьТекстВопросаДляДобавленияПользователей(стррПараметры)

	Текст = """"; 
	
	Если стррПараметры.ПользователиНеВАгентах.Количество() <> 0 Тогда
		
		Если стррПараметры.ПользователиНеВАгентах.Количество() = 1 Тогда
		    Текст = Текст + СтрШаблон_(НСтр(""ru = 'Найден пользователь, отсутствующий в справочнике """"Торговых агентов"""": %1.'""),  
				стррПараметры.ПользователиНеВАгентах[0].Пользователь) + Символы.ПС;;
		Иначе	
			стрПользователи = """"; Номер = 0;
			Для каждого стррЭлемент Из стррПараметры.ПользователиНеВАгентах Цикл
				Номер = Номер + 1;
				стрПользователи = стрПользователи + СтрШаблон_(""%1. %2"", Номер, стррЭлемент.Пользователь) + Символы.ПС;
			КонецЦикла; 
			Текст = Текст + НСтр(""ru = 'Найдены пользователи, отсутствующие в справочнике """"Торговых агентов"""":'"") + Символы.ПС + стрПользователи;
		КонецЕсли; 
	КонецЕсли; 
	
	Если стррПараметры.ОтсутствующиеПользователи.Количество() <> 0 Тогда
		Если стррПараметры.ОтсутствующиеПользователи.Количество() = 1 Тогда
		    Текст = Текст + СтрШаблон_(НСтр(""ru = 'Будет создан новый пользователь в 1С:Предприятии: %1.'""),  
				стррПараметры.ОтсутствующиеПользователи[0].ИмяПользователя) + Символы.ПС;
		Иначе
			стрПользователи = """"; Номер = 0;
			Для каждого стррЭлемент Из стррПараметры.ОтсутствующиеПользователи Цикл
				Номер = Номер + 1;
				стрПользователи = стрПользователи + СтрШаблон_(""%1. %2"", Номер, стррЭлемент.ИмяПользователя) + Символы.ПС;
			КонецЦикла; 
			Текст = Текст + НСтр(""ru = 'Будут созданы новые пользователи в 1С:Предприятии:'"") + Символы.ПС + стрПользователи;
		КонецЕсли;
	КонецЕсли; 
	
	Если стррПараметры.ОтсутствующиеПользователи.Количество() <> 0 Тогда
		Текст = Текст + НСтр(""ru = 'Создать новых пользователей и перенести в справочник """"Торговых агентов""""?'"");
	Иначе
		Текст = Текст + НСтр(""ru = 'Добавить пользователей в справочник """"Торговых агентов""""?'"");
	КонецЕсли;
	
	Возврат Текст;

КонецФункции

&НаКлиенте
Процедура ЛКДобавитьНовыхАгентовПродолжить(РезультатОтвета, ДополнительныеПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		ЛКДобавитьНовыхАгентовЗавершить(ДополнительныеПараметры);
		УстановитьМодифицированостьФормы(Истина);
	КонецЕсли;
	
КонецПроцедуры

// Процедура проставляет пользователей для МУ.
// 
// Параметры:
//		стррПараметры - Структура - структура со свойствами:
//			* СвязиМУиПользователей - структура со свойствами:
//  			 * ПользователиНеВАгентах 	 - массив структур (""СсылкаМУ,Пользователь"") - пользователи, которых нет среди агентов, но проставленные для МУ;
//				 * ОтсутствующиеПользователи - массив структур (""СсылкаМУ,ИмяПользователя"") - имена пользователей, которых нужно добавить в справочник ""Пользователи"".
//			* БыстраяНастройка - Булево - если значение Истина, то выполняется неинтерактивно;
//			* Сообщения - массив текстовых сообщений для неинтерактивного вывода.
&НаКлиенте
Процедура ЛКДобавитьНовыхАгентовЗавершить(стррПараметры)
	
	стррПараметрыФормы = Новый Структура;
	стррПараметрыФормы.Вставить(""ВХОбщиеПараметры"", СтррКонтекст.ВХОбщиеПараметры);
	Модуль = ПолучитьФорму(СтррКонтекст.ПутьКФорме + ""НастройкиАгентов"", стррПараметрыФормы, ЭтаФорма);
	Модуль.ВнешнийВызовСоздатьАгентов(стррПараметры); // создаются новые агенты со связями с МУ
	// Агенты созданы в результате загрузки новых МУ из ЛК.
	// в свойстве СвязиМУиПользователей указан массив для простановки агентов (пользователей) у загруженных МУ.
	ЛКПроставитьНовыхАгентов(стррПараметры.СвязиМУиПользователей);
	
КонецПроцедуры

// Функция сверяет основные значения реквизитов МУ, загруженных из ЛК, с реквизитами из УС.
// Возвращает строку в виде перечисления названий измененных реквизитов, как они названы в УС.
&НаКлиенте
Функция ЛКПроверитьИзмененияРеквизитовМУ(СтрокаТ, стррМУ, стррРеквизиты)
	
	ТипСтрока = Тип(""Строка"");
	стрРеквизиты = """"; // список измененных реквизитов в УС
	
	Для каждого Элемент Из стррРеквизиты Цикл
		ЗначениеУС = СтрокаТ[Элемент.Ключ];
		
		Если ТипЗнч(ЗначениеУС) = ТипСтрока Тогда
			Если СокрП(ЗначениеУС) = СокрП(стррМУ[Элемент.Значение]) Тогда
				Продолжить;
			КонецЕсли; 
		ИначеЕсли ЗначениеУС = стррМУ[Элемент.Значение] Тогда
			Продолжить;
		КонецЕсли;
		
		// значение изменено
		Если стрРеквизиты = """" Тогда
			стрРеквизиты = Элемент.Ключ;
		Иначе
			стрРеквизиты = стрРеквизиты + "","" + Элемент.Ключ;
		КонецЕсли; 
		
	КонецЦикла; 
	
	Возврат стрРеквизиты;
	
КонецФункции

&НаКлиенте
Процедура ЛКЗаполнитьРеквизитыМУ(СтрокаТ, стррМУ, стррРеквизиты)
	
	Для каждого Элемент Из стррРеквизиты Цикл
		СтрокаТ[Элемент.Ключ] = стррМУ[Элемент.Значение];
	КонецЦикла; 
	Если СтрокаТ.ДатаРегистрации = Дата(1, 1, 1) Тогда
		СтрокаТ.ДатаРегистрации = ТекущаяДата();
	КонецЕсли;
	СтрокаТ.ЗагруженИзЛК = Истина;	
	
КонецПроцедуры	
	
&НаКлиенте
Функция ЛКЗагрузитьМодуль()
	
	Если МодульЛК = Неопределено Тогда
		МодульЛК = ПолучитьФорму(СтррКонтекст.ПутьКФорме + ""ЛичныйКабинет"", , ЭтаФорма);
	КонецЕсли; 
	
	Возврат МодульЛК;

КонецФункции

// Автоматическая установка агентов в МУ по реквизиту ЛК_Employee.
// Функция контролирует, чтобы одни и те же пользователи не были назначены за разными МУ.
// Заполняется колонка Объект.МобильныеУстройства.Пользователь - только на форме - без сохранения в хранилище.
// 
// Параметры:
// 		мСообщения - Массив, Неопределено - массив текстовых сообщений для вывода в окне Сообщить при ""Быстрой насторйке"".
// 					Другие параметры заполнения агентов берутся из хранилища - при помощи функции ЛКПрочитатьНастройкиЗагрузкиМУ().
// 		стррДопПараметры - Структура, Неопределено - дополнительные параметры поиска, используются для сужения области поиска - при интерактивном сопоставлении
// 					пользователя для МУ из формы просмотра конкретного МУ.
// 				Свойства структуры:
// 			* ИдентификаторыСтрок - Массив - идентификаторы строк ТЗ МобильныеУстройства (значения поля МобильныеУстройства.ID) для сопоставления для них агентов.
//				
// Возвращаемое значение:
//  Структура -
//  	* КодРезультата - Строка - код результата. Возможные значения:
//  			""ВыключенПоискПользователей"" - в настройках выключен поиск пользователей (настройки открываются по кнокпе ""Настройки загрузки"");
//  			""ПользовательНеАгент"" - найден пользователь(ли) для МУ, которого нет среди агентов;
//  			""НетСопоставленныхПользователей"" - не найдено пользователей для соспоставления.
//		* ПользователиНеВАгентах    - Массив - массив структур (""СсылкаМУ,Пользователь"") - пользователи, которых нет среди агентов, но проставленные для МУ.
//		* ОтсутствующиеПользователи - Массив - массив структур (""СсылкаМУ,ИмяПользователя"") - имена пользователей, которых нужно добавить в справочник ""Пользователи"".
//		* ПроставленныеАгенты    	- Массив - массив структур (""СсылкаМУ,Пользователь"") - пользователи, которые есть среди агентов и проставлены для МУ.
//	
&НаСервере
Функция ЛКЗаполнитьАгентов(мСообщения, стррДопПараметры = Неопределено)
	
	СтррРезультат = Новый Структура(""КодРезультата,ПользователиНеВАгентах,ОтсутствующиеПользователи,ПроставленныеАгенты"");
	
	стррПараметры = ЛКПрочитатьНастройкиЗагрузкиМУ(); // настройки поиска пользователей - редактируются по кнопке ""Настройки загрузки"".
	// Процедура возвращает структуру со свойствами:
	// ""РежимПоискаПользователей"" 		- Строка -  варианты значения: ""НеИскать"", ""ИскатьПоВхождению"", ""ИскатьПоТочномуЗначению""
	// ""СоздаватьНовыхПользователей"" 	- Булево
	// ""ТолькоДляНовыхИОбновленныхМУ"" 	- Булево
	Если стррПараметры.РежимПоискаПользователей = ""НеИскать"" Тогда
		Текст = НСтр(""ru = 'В настройках выключен поиск пользователей для загруженных МУ.'"");
		ЛКСообщить(мСообщения, Текст);
		СтррРезультат.КодРезультата = ""ВыключенПоискПользователей"";
		Возврат СтррРезультат;
	КонецЕсли; 
	
	Если стррДопПараметры <> Неопределено Тогда // функция вызвана для интерактивного назначения пользователя
		стррПараметры.ТолькоДляНовыхИОбновленныхМУ = Ложь; // отключаем режим поиска только для новых и обновленных МУ (т.к. может быть выбрано новое или обновленное МУ)
		КоллекцияСтрок = Новый Массив;		
		ТЗ = Объект.МобильныеУстройства;
		Для Каждого ИдСтроки Из стррДопПараметры.ИдентификаторыСтрок Цикл
			СтрокаТ = ТЗ.НайтиПоИдентификатору(ИдСтроки);
			КоллекцияСтрок.Добавить(СтрокаТ);
		КонецЦикла;
		ТолькоДляМУСПустымиПользователями = Ложь;
	Иначе
		КоллекцияСтрок = Объект.МобильныеУстройства;
		ТолькоДляМУСПустымиПользователями = Истина;
	КонецЕсли; 
	
	Запрос = Новый Запрос(""
		|ВЫБРАТЬ 
		|	Пользователи.Ссылка,
		|	Пользователи.Наименование
		|ИЗ
		|	Справочник.Пользователи КАК Пользователи
		|ГДЕ
		|	Пользователи.ПометкаУдаления <> ИСТИНА
		|	И Пользователи.Недействителен <> ИСТИНА
		|"");
		
	тзПользователи = Запрос.Выполнить().Выгрузить(); // ТЗ всех пользователей учетной системы
	Для Каждого стзПользователи Из тзПользователи Цикл // переводим наименование пользователей в верхний регистр и заменяем схожие символы
		Наименование = ВРег(СокрЛП(СтрЗаменить(стзПользователи.Наименование, ""  "", "" "")));
		стзПользователи.Наименование = СтрЗаменить(Наименование, ""Ё"", ""Е"");
	КонецЦикла; 
	
	мВыбранныеАгенты = Новый Массив; // массив уже выбранных у МУ агентов, чтобы не допустить назначения одного и того же агента за разными МУ
	Для Каждого СтрокаТ Из Объект.МобильныеУстройства Цикл
		Если ЗначениеЗаполнено(СтрокаТ.Пользователь) Тогда
			мВыбранныеАгенты.Добавить(СтрокаТ.Пользователь);
		КонецЕсли;
	КонецЦикла;
	
	ТЗРезультаты = Новый ТаблицаЗначений; // Промежуточная таблица связей: ""Строка ТЗ МобильныеУстройства"" <-> Пользователь
	ТЗРезультаты.Колонки.Добавить(""строкаТЗМУ"");
	ТЗРезультаты.Колонки.Добавить(""Пользователь""); 	// Ссылка на элемент справочника ""Пользователи"",  если значение ""Неопределено"", 
													// то требуется создание нового пользователя с ФИО из колонки ""ЛК_Employee"" строки ТЗ МобильныеУстройства.
	
	ТолькоДляНовыхИОбновленныхМУ = стррПараметры.ТолькоДляНовыхИОбновленныхМУ;
	РежимПоискаПользователей 	 = стррПараметры.РежимПоискаПользователей;
	СоздаватьНовыхПользователей  = стррПараметры.СоздаватьНовыхПользователей;
	
	мИменаСоздаваемыхПользователей = Новый Массив; // массив строковых представлений создаваемых новых пользователей - чтобы не допустить создания пользователей с одинаковыми наименованиями
	
	Для Каждого СтрокаТ Из КоллекцияСтрок Цикл
		
		Если ТолькоДляМУСПустымиПользователями И ЗначениеЗаполнено(СтрокаТ.Пользователь) Тогда
			Продолжить;  // ищем только среди МУ с пустым значением ""Пользователь""
		ИначеЕсли ПустаяСтрока(СтрокаТ.ЛК_Employee) Тогда
			Продолжить;
		ИначеЕсли ТолькоДляНовыхИОбновленныхМУ И СтрокаТ.СтатусНастроек <> 4 И СтрокаТ.СтатусНастроек <> 5 Тогда
			Продолжить; // Коды статусов настроек: 4 - новое МУ, загруженное из ЛК; 5 - обновленное МУ, загруженное из ЛК
		КонецЕсли;
		
		ИскатьНаименованиеПользователя = ВРег(СокрЛП(СтрЗаменить(СтрокаТ.ЛК_Employee, ""  "", "" "")));
		ИскатьНаименованиеПользователя = СтрЗаменить(ИскатьНаименованиеПользователя, ""Ё"", ""Е"");
		
		СтрокаРезультат = тзПользователи.Найти(ИскатьНаименованиеПользователя, ""Наименование"");
		Если СтрокаРезультат = Неопределено Тогда
			Если РежимПоискаПользователей = ""ИскатьПоВхождению"" И СтрДлина(ИскатьНаименованиеПользователя) > 2 Тогда // не ищем вхождение, если ЛК_Employee короче 3 символов.
				мСлова = СтрРазделить_(ИскатьНаименованиеПользователя, "" "");
				ВсегоСлов = мСлова.Количество();
				Для Каждого стзПользователи Из тзПользователи Цикл // цикл поиска по вхождению слов
					Наименование = стзПользователи.Наименование;
					НайденоСлов = 0;
					Для Каждого Слово Из мСлова Цикл
						Если Найти(Наименование, "" "" + Слово + "" "") <> 0 Тогда
							НайденоСлов = НайденоСлов + 1;
							Наименование = СтрЗаменить(Наименование, Слово, """");
						ИначеЕсли Лев(Наименование, СтрДлина(Слово) + 1) = Слово + "" "" Тогда
							НайденоСлов = НайденоСлов + 1;
							Наименование = СтрЗаменить(Наименование, Слово, """");
						ИначеЕсли Прав(Наименование, СтрДлина(Слово) + 1) = "" "" + Слово Тогда
							НайденоСлов = НайденоСлов + 1;
							Наименование = СтрЗаменить(Наименование, Слово, """");
						Иначе
							Прервать;
						КонецЕсли; 
					КонецЦикла;
					Если НайденоСлов = ВсегоСлов Тогда
						СтрокаРезультат = стзПользователи;
						Прервать;
					КонецЕсли; 
				КонецЦикла; 
			КонецЕсли;
		КонецЕсли;
		
		Если СтрокаРезультат <> Неопределено Тогда // найден подходящий пользователь в справочнике ""Пользователи""
			Если мВыбранныеАгенты.Найти(СтрокаРезультат.Ссылка) = Неопределено Тогда // пользователь свободен - т.е. для него нет назначенного МУ
				стзРезультаты = ТЗРезультаты.Добавить();
				стзРезультаты.строкаТЗМУ = СтрокаТ;
				стзРезультаты.Пользователь = СтрокаРезультат.Ссылка;
				мВыбранныеАгенты.Добавить(СтрокаРезультат.Ссылка); // чтобы избежать назначения одних и тех же новых пользователей за разными МУ
			КонецЕсли;
		ИначеЕсли СоздаватьНовыхПользователей И мИменаСоздаваемыхПользователей.Найти(ИскатьНаименованиеПользователя) = Неопределено Тогда 
			// пользователя не нашли, но разрешено создавать новых пользователей
			стзРезультаты = ТЗРезультаты.Добавить();
			стзРезультаты.строкаТЗМУ = СтрокаТ;
			стзРезультаты.Пользователь = Неопределено; // признак, что требуется создать нового пользователя, наименование пользователя - в поле строкаТЗМУ.ЛК_Employee
			мИменаСоздаваемыхПользователей.Добавить(ИскатьНаименованиеПользователя); // добавляем преобразованное значение наименования чтобы избежать дублирования имен пользователей
		КонецЕсли; 
		
	КонецЦикла;
	
	// Заполнили промежуточную таблицу ТЗРезультаты - в ней связи ""Строка ТЗ МобильныеУстройства"" <-> Пользователь
	
	мПользователиНеВАгентах 	= Новый Массив; // массив структур для возврата списка пользователей, которых нужно добавить в агентов	
	мОтсутствующиеПользователи 	= Новый Массив; // массив структур для возврата списка пользователей, которых нужно создать в справочнике Пользователи, а затем добавить в агентов
	мПроставленныеАгенты		= Новый Массив; // массив структур для возврата списка агентов (пользователей), которых проставили в справочнике МУ
	
	Если ТЗРезультаты.Количество() <> 0 Тогда // нашлись пользователи, нужно проверить, являются ли они агентами
		
		тзАгенты = Объект.НастройкиАгентов;
		стррПоиск = Новый Структура(""Пользователь"");
		СчетчикНовыхАгентов = 0;
		ИзмененыПользователи = Ложь; // признак - изменились ли пользователи у МУ?
		
		Для Каждого стзРезультаты Из ТЗРезультаты Цикл
			
			строкаТЗМУ = стзРезультаты.строкаТЗМУ;
			
			Если ЗначениеЗаполнено(стзРезультаты.Пользователь) Тогда
				
				стррПоиск.Пользователь = стзРезультаты.Пользователь;
				мСтроки = тзАгенты.НайтиСтроки(стррПоиск);
				Если мСтроки.Количество() <> 0 Тогда // пользователь найден в виртуальном справочнике ""Объект.НастройкиАгентов"", т.е. является агентом
					строкаТЗМУ.Пользователь = стзРезультаты.Пользователь; // проставляем пользователя МУ (агента)
					строкаТЗМУ.ЛКИзмененныеРеквизиты = строкаТЗМУ.ЛКИзмененныеРеквизиты + "",Пользователь""; // признак, что у МУ изменен пользователь
					Если строкаТЗМУ.СтатусНастроек <> 4 Тогда
						строкаТЗМУ.СтатусНастроек = 5; // статус - МУ обновлено
					КонецЕсли;
					мПроставленныеАгенты.Добавить(Новый Структура(""СсылкаМУ,Пользователь"", строкаТЗМУ.ID, стзРезультаты.Пользователь));
					Текст = НСтр(""ru = 'Для МУ """"%1"""" (идентификатор: %2) автоматически сопоставлен агент """"%3"""".'"");
					Текст = СтрШаблон_(Текст, строкаТЗМУ.Наименование, строкаТЗМУ.ИдентификаторМУ, строкаТЗМУ.Пользователь);
					ЛКСообщить(мСообщения, Текст);
					ИзмененыПользователи = Истина;
				Иначе // пользователя нужно перенести в агенты (значение пользователя - стзРезультаты.Пользователь
					СчетчикНовыхАгентов = СчетчикНовыхАгентов + 1;
					мПользователиНеВАгентах.Добавить(Новый Структура(""СсылкаМУ,Пользователь"", строкаТЗМУ.ID, стзРезультаты.Пользователь));
					Текст = НСтр(""ru = '%1. Для МУ """"%2"""" (идентификатор: %3) найден пользователь """"%4"""", который отсутствовал среди агентов.'"");
					Текст = СтрШаблон_(Текст, СчетчикНовыхАгентов, строкаТЗМУ.Наименование, строкаТЗМУ.ИдентификаторМУ, стзРезультаты.Пользователь);
					ЛКСообщить(мСообщения, Текст);
					стррРезультат.КодРезультата = ""ПользовательНеАгент"";
				КонецЕсли; 
				
			Иначе // Значение стзРезультаты.Пользователь пустое, т.к. выполнено условие СоздаватьНовыхПользователей = Истина.
				  // Пользователя нет в справочнике пользователей, его нужно добавить. Наименование пользователя - в строкаТЗМУ.ЛК_Employee.
				СчетчикНовыхАгентов = СчетчикНовыхАгентов + 1;
				мОтсутствующиеПользователи.Добавить(Новый Структура(""СсылкаМУ,ИмяПользователя"", строкаТЗМУ.ID, строкаТЗМУ.ЛК_Employee));
				Текст = НСтр(""ru = '%1. Для МУ """"%2"""" (идентификатор: %3) будет создан новый пользователь """"%4"""".'"");				
				Текст = СтрШаблон_(Текст, СчетчикНовыхАгентов, строкаТЗМУ.Наименование, строкаТЗМУ.ИдентификаторМУ, строкаТЗМУ.ЛК_Employee);
				ЛКСообщить(мСообщения, Текст);
				стррРезультат.КодРезультата = ""ПользовательНеАгент"";
			КонецЕсли; 
			
		КонецЦикла; 
		
		Если ИзмененыПользователи Тогда
			СтррКонтекст.ИзмененыПользователи = Истина;	// признак будет использован при записи ТЗ МобильныеУстройства в хранилище
		КонецЕсли; 
		
	Иначе // не удалось сопоставить ни одного пользователя
		
		СтррРезультат.КодРезультата = ""НетСопоставленныхПользователей"";
		
	КонецЕсли; 
	
	СтррРезультат.ПользователиНеВАгентах 	= мПользователиНеВАгентах;	
	СтррРезультат.ОтсутствующиеПользователи = мОтсутствующиеПользователи;
	СтррРезультат.ПроставленныеАгенты 		= мПроставленныеАгенты;
	
	Возврат СтррРезультат;	

КонецФункции
 
// Процедура проставляет для МУ новых агентов, созданных в результате внешнего вызова процедуры ВнешнийВызовСоздатьАгентов()
// из модуля формы НастройкиАгентов.
// 
// Параметры:
// 		стррСвязиМУиПользователей - Структура - структура со свойствами:
//			* ПользователиНеВАгентах 	- Массив - массив структур (""СсылкаМУ,Пользователь"") - пользователи, которых нет среди агентов, но проставленные для МУ.
//			* ОтсутствующиеПользователи - Массив - массив структур (""СсылкаМУ,ИмяПользователя"") - имена пользователей, которых нужно добавить в справочник ""Пользователи"".
//
&НаКлиенте
Процедура ЛКПроставитьНовыхАгентов(стррСвязиМУиПользователей)
	
	// Массивы ПользователиНеВАгентах и ОтсутствующиеПользователи были ранее заполнены в функции ЛКЗаполнитьАгентов().
	// 
	// Массив ПользователиНеВАгентах заполнялся по такой команде:
	// мПользователиНеВАгентах.Добавить(Новый Структура(""СсылкаМУ,Пользователь"", строкаТЗМУ.ID, стзРезультаты.Пользователь));	
	// 
	// Массив ОтсутствующиеПользователи заполнялся по такой команде:
	// мОтсутствующиеПользователи.Добавить(Новый Структура(""СсылкаМУ,ИмяПользователя"", строкаТЗМУ.ID, строкаТЗМУ.ЛК_Employee));
	// После этого вызовом процедуры НастройкиАгентов.ВнешнийВызовСоздатьАгентов добавлено и проинициализировано свойство Пользователь.
	// 
	ВосстановитьНастройкиСервер(""НастройкиАгентов""); // нужно заново прочитать список агентов из хранилища
	
	ЛКПроставитьАгентовДляМУ(стррСвязиМУиПользователей.ОтсутствующиеПользователи);
	ЛКПроставитьАгентовДляМУ(стррСвязиМУиПользователей.ПользователиНеВАгентах);
	ЛКПроставитьАгентовДляМУ(стррСвязиМУиПользователей.ПроставленныеАгенты);
	
	СтррКонтекст.ИзмененыПользователи = Истина;
	
КонецПроцедуры

// Вспомогательная процедура для процедуры ЛКПроставитьНовыхАгентов().
&НаКлиенте
Процедура ЛКПроставитьАгентовДляМУ(мСвязиМУиПользователей)

	тзМУ = Объект.МобильныеУстройства;
	стррПоиск = Новый Структура(""ID"");
	
	Для каждого стррЭлемент Из мСвязиМУиПользователей Цикл
		стррПоиск.ID = стррЭлемент.СсылкаМУ;
		мСтроки = тзМУ.НайтиСтроки(стррПоиск);
		Если мСтроки.Количество() <> 0 Тогда
			строкаТЗМУ = мСтроки[0];
			строкаТЗМУ.Пользователь = стррЭлемент.Пользователь;
			Если Найти(строкаТЗМУ.ЛКИзмененныеРеквизиты + "","", "",Пользователь,"") = 0  Тогда
				строкаТЗМУ.ЛКИзмененныеРеквизиты = строкаТЗМУ.ЛКИзмененныеРеквизиты + "",Пользователь""; // признак, что у МУ изменен пользователь
			КонецЕсли; 
			Если строкаТЗМУ.СтатусНастроек <> 4 Тогда
				строкаТЗМУ.СтатусНастроек = 5; // статус - МУ обновлено
			КонецЕсли;
		КонецЕсли; 
	КонецЦикла;
	
КонецПроцедуры

// Процедура вызывается из модуля БыстраяНастройка.
&НаКлиенте
Процедура ВнешнийВызовЛКЗагрузитьМУ() Экспорт
	
	ЛКЗагрузитьМобильныеУстройства(Истина); // результат вернется через оповещение ""АПЛКОповещение"" с источником ""БыстраяНастройка""
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_ЛК
#КонецОбласти

// СлужебныеПроцедурыИФункции
#КонецОбласти",
{4,3,
{9,
{1},0,"Объект",
{1,0},
{"Pattern",
{"#",11aafdb3-24f5-4e79-b06e-d7029a5a8b30}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,52,
{1,
{0,035519b6-283b-4d3d-888c-da4a85f7a2b2}
},
{1,
{0,073cef95-b9b8-47b8-90b8-f59ce4182680}
},
{1,
{0,0a2334cd-2ed8-4a84-9a18-be247e4c97e3}
},
{1,
{0,10806675-b00b-48c1-b847-ce028341a82a}
},
{1,
{0,12783d31-92f9-4f3b-a473-8bbfcad30e23}
},
{1,
{0,1ae9fdbe-6908-4ce3-adb8-56af6b72b933}
},
{1,
{0,1e24bb53-e0ce-49c5-8c10-4908eefea1a5}
},
{1,
{0,20184aa3-39dc-48a7-b57d-a931cf59c167}
},
{1,
{0,22b6d096-e670-42a2-ae1f-e6813e84f186}
},
{1,
{0,27c34226-d4ef-4293-98ea-ac4f2dca4353}
},
{1,
{0,2f6b2397-be2c-4487-8c06-e5dfb211946d}
},
{1,
{0,2f7ae5d6-b8b2-4d77-a2e3-4f28531d1d12}
},
{1,
{0,39550507-e8ae-476b-9775-0eb27ab08a9d}
},
{1,
{0,3b1b57da-4db5-49bc-9a2f-251bdd7fa0ae}
},
{1,
{0,4325c570-4315-41e6-89db-28df8d8b006e}
},
{1,
{0,4ed6d676-6837-4db7-8889-ed6ee00ab3bb}
},
{1,
{0,54fc2d57-8a97-4564-bdce-66bade42759b}
},
{1,
{0,54fc7ef9-671f-4f9e-a18a-c35f2b635028}
},
{1,
{0,6925324a-0291-4c1e-a4f0-005f571b01d3}
},
{1,
{0,70740ac1-7633-463b-95ab-9cd16042b244}
},
{1,
{0,7227e684-0794-40df-bcea-57ce762758fb}
},
{1,
{0,75a79cac-9e7d-4476-9fed-40d65cf88032}
},
{1,
{0,7be727dd-4b8a-491b-8f8e-6bfe8a46fc0f}
},
{1,
{0,7cfc0154-de3b-4084-8fe1-e0f1972369f5}
},
{1,
{0,812ac02d-7947-410f-a3b2-5f8317a6bf7b}
},
{1,
{0,8d864ce9-0f39-4a76-a2b3-3512e9b69b95}
},
{1,
{0,90d72e62-b9c2-47b2-80f2-e7eed804c796}
},
{1,
{0,9249e869-fdb3-4d1c-973d-58dfc7a37356}
},
{1,
{0,9639b0b4-8104-4fdd-82cf-ef6ffdd6b285}
},
{1,
{0,976b280e-ddcf-40ba-9a73-cd5ccada983f}
},
{1,
{0,9e62c60d-159b-4fed-bfd6-57bb745602ae}
},
{1,
{0,a03e1128-9019-4942-a95e-cb65f8e7cd0d}
},
{1,
{0,a4f94e5b-c06b-488f-bf34-a49dc0fbb1a1}
},
{1,
{0,a68c9552-6435-45d4-a979-44faf9355602}
},
{1,
{0,a75bbcf5-68ee-4be0-9c33-00a33403b18b}
},
{1,
{0,b4481d29-f3eb-4543-88eb-fdf4b9918367}
},
{1,
{0,b7917a79-589c-4106-8f45-34eb58e50c00}
},
{1,
{0,bea86450-82bc-4145-8dd4-75822c009143}
},
{1,
{0,c2805ff7-5548-4ac3-b452-40f3b79e1078}
},
{1,
{0,cb5cc66c-e803-4066-9438-936819a1a123}
},
{1,
{0,cb68c540-cf66-4803-8952-8f27a99b37b7}
},
{1,
{0,cc4013ba-44b2-484a-8cb9-28719d605a59}
},
{1,
{0,d85735a0-8aba-4273-a6f7-6a5a6292fb8c}
},
{1,
{0,df3355b2-47ce-4a0f-b424-5cd4779f2338}
},
{1,
{0,e6586851-e94d-4ef7-a65e-927c998971b9}
},
{1,
{0,e86448f7-5c7f-422c-b34f-ab1d99174118}
},
{1,
{0,f080e1b9-fd16-47f6-b933-85081eccb617}
},
{1,
{0,f2adee0e-5005-49f9-9b77-2fb53d705ad1}
},
{1,
{0,f9311742-1b7d-46dc-b90a-c86c7c3b4b15}
},
{1,
{0,ff40b5cd-5a90-4ab4-a5cf-af0c756f2d83}
},
{2,
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{1,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{2,
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{6,5bdad865-f2c5-434b-8041-ba4aad3b6687}
}
},
{0,1,
{1,
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0}
}
},1,0,0,0,
{0,0},
{0,0}
},
{9,
{4},0,"ВсегоСтрок",
{1,1,
{"ru","Количество строк"}
},
{"Pattern",
{"N",6,0,0}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{5},0,"СтррКонтекст",
{1,1,
{"ru","Стрр контекст"}
},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},3,
{0,
{2,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0}
},18,
{5,1,0,"Пользователь",
{1,1,
{"ru","Агент"}
},
{"Pattern",
{"#",604931cd-d4a8-48d0-bc59-2ac90e044abb}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,2,0,"Наименование",
{1,1,
{"ru","Наименование"}
},
{"Pattern",
{"S",64,1}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,3,0,"ИдентификаторМУ",
{1,1,
{"ru","Идентификатор"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,4,0,"Описание",
{1,1,
{"ru","Описание"}
},
{"Pattern",
{"S",128,1}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,5,0,"ID",
{1,1,
{"ru","Внутренний уникальный идентификатор"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,6,0,"СтатусНастроек",
{1,1,
{"ru","Статус настроек"}
},
{"Pattern",
{"N",1,0,0}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,15,0,"ДатаРегистрации",
{1,1,
{"ru","Дата регистрации МУ"}
},
{"Pattern",
{"D"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,16,0,"ЗагруженИзЛК",
{1,1,
{"ru","Загружен из ЛК"}
},
{"Pattern",
{"B"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,7,0,"ЛК_Identifier",
{1,1,
{"ru","Идентификатор в ЛК"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,8,0,"ЛК_HardwareId",
{1,1,
{"ru","Hardware ID"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,9,0,"ЛК_SerialNumber",
{1,1,
{"ru","Серийный номер"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,10,0,"ЛК_Manufacturer",
{1,1,
{"ru","Производитель"}
},
{"Pattern",
{"S",30,1}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,11,0,"ЛК_Name",
{1,1,
{"ru","Наименование"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,12,0,"ЛК_Employee",
{1,1,
{"ru","Сотрудник"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,13,0,"ЛК_MDMId",
{1,1,
{"ru","MDMId в ЛК"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,14,0,"ЛК_DeviceModel",
{1,1,
{"ru","Модель"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,17,0,"ЛК_LastActivityDate",
{1,1,
{"ru","Л к last activity date"}
},
{"Pattern",
{"D"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,18,0,"ЛКИзмененныеРеквизиты",
{1,1,
{"ru","Измененные реквизиты МУ после загрузки из ЛК"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0}
},
{0,
{2,
{1},
{0,66fb4c2f-5fb7-4793-81cd-710b48d1038c}
},3,
{5,1,0,"Пользователь",
{1,1,
{"ru","Агент"}
},
{"Pattern",
{"#",604931cd-d4a8-48d0-bc59-2ac90e044abb}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,2,0,"ИдентификаторМУ",
{1,1,
{"ru","Идентификатор МУ"}
},
{"Pattern",
{"S",36,1}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,3,0,"СсылкаМУ",
{1,1,
{"ru","Внутренний уникальный идентификатор"}
},
{"Pattern",
{"#",fc01b5df-97fe-449b-83d4-218a090e681e}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0}
},
{0,
{2,
{1},
{0,cb68c540-cf66-4803-8952-8f27a99b37b7}
},0},2,"Объект.МобильныеУстройства.СтатусНастроек","Объект.МобильныеУстройства.СтатусНастроек",
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{6,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{2,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0}
},"Объект.МобильныеУстройства.ЛКИзмененныеРеквизиты","Объект.МобильныеУстройства.ЛКИзмененныеРеквизиты",
{3,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0},
{18,5bdad865-f2c5-434b-8041-ba4aad3b6687}
},
{2,
{1},
{0,14c691f3-a1d2-46d3-ab9e-e76a894b3ab0}
},
{#base64:77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxTZXR0
aW5ncyB4bWxucz0iaHR0cDovL3Y4LjFjLnJ1LzguMS9kYXRhLWNvbXBvc2l0aW9u
LXN5c3RlbS9zZXR0aW5ncyIgeG1sbnM6ZGNzY29yPSJodHRwOi8vdjguMWMucnUv
OC4xL2RhdGEtY29tcG9zaXRpb24tc3lzdGVtL2NvcmUiIHhtbG5zOnN0eWxlPSJo
dHRwOi8vdjguMWMucnUvOC4xL2RhdGEvdWkvc3R5bGUiIHhtbG5zOnN5cz0iaHR0
cDovL3Y4LjFjLnJ1LzguMS9kYXRhL3VpL2ZvbnRzL3N5c3RlbSIgeG1sbnM6djg9
Imh0dHA6Ly92OC4xYy5ydS84LjEvZGF0YS9jb3JlIiB4bWxuczp2OHVpPSJodHRw
Oi8vdjguMWMucnUvOC4xL2RhdGEvdWkiIHhtbG5zOndlYj0iaHR0cDovL3Y4LjFj
LnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93ZWIiIHhtbG5zOndpbj0iaHR0cDovL3Y4
LjFjLnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93aW5kb3dzIiB4bWxuczp4cz0iaHR0
cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zOnhzaT0iaHR0cDov
L3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPg0KCTxjb25kaXRp
b25hbEFwcGVhcmFuY2U+DQoJCTxpdGVtPg0KCQkJPHNlbGVjdGlvbj4NCgkJCQk8
aXRlbT4NCgkJCQkJPGZpZWxkPtCc0L7QsdC40LvRjNC90YvQtdCj0YHRgtGA0L7Q
udGB0YLQstCwPC9maWVsZD4NCgkJCQk8L2l0ZW0+DQoJCQk8L3NlbGVjdGlvbj4N
CgkJCTxmaWx0ZXI+DQoJCQkJPGl0ZW0geHNpOnR5cGU9IkZpbHRlckl0ZW1Db21w
YXJpc29uIj4NCgkJCQkJPGxlZnQgeHNpOnR5cGU9ImRjc2NvcjpGaWVsZCI+0J7Q
sdGK0LXQutGCLtCc0L7QsdC40LvRjNC90YvQtdCj0YHRgtGA0L7QudGB0YLQstCw
LtCh0YLQsNGC0YPRgdCd0LDRgdGC0YDQvtC10Lo8L2xlZnQ+DQoJCQkJCTxjb21w
YXJpc29uVHlwZT5FcXVhbDwvY29tcGFyaXNvblR5cGU+DQoJCQkJCTxyaWdodCB4
c2k6dHlwZT0ieHM6ZGVjaW1hbCI+NDwvcmlnaHQ+DQoJCQkJPC9pdGVtPg0KCQkJ
PC9maWx0ZXI+DQoJCQk8YXBwZWFyYW5jZT4NCgkJCQk8ZGNzY29yOml0ZW0geHNp
OnR5cGU9IlNldHRpbmdzUGFyYW1ldGVyVmFsdWUiPg0KCQkJCQk8ZGNzY29yOnBh
cmFtZXRlcj7QqNGA0LjRhNGCPC9kY3Njb3I6cGFyYW1ldGVyPg0KCQkJCQk8ZGNz
Y29yOnZhbHVlIHhzaTp0eXBlPSJ2OHVpOkZvbnQiIHJlZj0ic3lzOkRlZmF1bHRH
VUlGb250IiBib2xkPSJ0cnVlIiBpdGFsaWM9ImZhbHNlIiB1bmRlcmxpbmU9ImZh
bHNlIiBzdHJpa2VvdXQ9ImZhbHNlIiBraW5kPSJXaW5kb3dzRm9udCIvPg0KCQkJ
CTwvZGNzY29yOml0ZW0+DQoJCQk8L2FwcGVhcmFuY2U+DQoJCTwvaXRlbT4NCgkJ
PGl0ZW0+DQoJCQk8c2VsZWN0aW9uPg0KCQkJCTxpdGVtPg0KCQkJCQk8ZmllbGQ+
0JzQvtCx0LjQu9GM0L3Ri9C10KPRgdGC0YDQvtC50YHRgtCy0LDQndCw0LjQvNC1
0L3QvtCy0LDQvdC40LU8L2ZpZWxkPg0KCQkJCTwvaXRlbT4NCgkJCTwvc2VsZWN0
aW9uPg0KCQkJPGZpbHRlcj4NCgkJCQk8aXRlbSB4c2k6dHlwZT0iRmlsdGVySXRl
bUNvbXBhcmlzb24iPg0KCQkJCQk8bGVmdCB4c2k6dHlwZT0iZGNzY29yOkZpZWxk
Ij7QntCx0YrQtdC60YIu0JzQvtCx0LjQu9GM0L3Ri9C10KPRgdGC0YDQvtC50YHR
gtCy0LAu0JvQmtCY0LfQvNC10L3QtdC90L3Ri9C10KDQtdC60LLQuNC30LjRgtGL
PC9sZWZ0Pg0KCQkJCQk8Y29tcGFyaXNvblR5cGU+Q29udGFpbnM8L2NvbXBhcmlz
b25UeXBlPg0KCQkJCQk8cmlnaHQgeHNpOnR5cGU9InhzOnN0cmluZyI+0JvQml9O
YW1lPC9yaWdodD4NCgkJCQk8L2l0ZW0+DQoJCQk8L2ZpbHRlcj4NCgkJCTxhcHBl
YXJhbmNlPg0KCQkJCTxkY3Njb3I6aXRlbSB4c2k6dHlwZT0iU2V0dGluZ3NQYXJh
bWV0ZXJWYWx1ZSI+DQoJCQkJCTxkY3Njb3I6cGFyYW1ldGVyPtCo0YDQuNGE0YI8
L2Rjc2NvcjpwYXJhbWV0ZXI+DQoJCQkJCTxkY3Njb3I6dmFsdWUgeHNpOnR5cGU9
InY4dWk6Rm9udCIgcmVmPSJzeXM6RGVmYXVsdEdVSUZvbnQiIGJvbGQ9InRydWUi
IGl0YWxpYz0iZmFsc2UiIHVuZGVybGluZT0iZmFsc2UiIHN0cmlrZW91dD0iZmFs
c2UiIGtpbmQ9IldpbmRvd3NGb250Ii8+DQoJCQkJPC9kY3Njb3I6aXRlbT4NCgkJ
CTwvYXBwZWFyYW5jZT4NCgkJPC9pdGVtPg0KCQk8aXRlbT4NCgkJCTxzZWxlY3Rp
b24+DQoJCQkJPGl0ZW0+DQoJCQkJCTxmaWVsZD7QnNC+0LHQuNC70YzQvdGL0LXQ
o9GB0YLRgNC+0LnRgdGC0LLQsNCb0JpfRW1wbG95ZWU8L2ZpZWxkPg0KCQkJCTwv
aXRlbT4NCgkJCTwvc2VsZWN0aW9uPg0KCQkJPGZpbHRlcj4NCgkJCQk8aXRlbSB4
c2k6dHlwZT0iRmlsdGVySXRlbUNvbXBhcmlzb24iPg0KCQkJCQk8bGVmdCB4c2k6
dHlwZT0iZGNzY29yOkZpZWxkIj7QntCx0YrQtdC60YIu0JzQvtCx0LjQu9GM0L3R
i9C10KPRgdGC0YDQvtC50YHRgtCy0LAu0JvQmtCY0LfQvNC10L3QtdC90L3Ri9C1
0KDQtdC60LLQuNC30LjRgtGLPC9sZWZ0Pg0KCQkJCQk8Y29tcGFyaXNvblR5cGU+
Q29udGFpbnM8L2NvbXBhcmlzb25UeXBlPg0KCQkJCQk8cmlnaHQgeHNpOnR5cGU9
InhzOnN0cmluZyI+0JvQml9FbXBsb3llZTwvcmlnaHQ+DQoJCQkJPC9pdGVtPg0K
CQkJPC9maWx0ZXI+DQoJCQk8YXBwZWFyYW5jZT4NCgkJCQk8ZGNzY29yOml0ZW0g
eHNpOnR5cGU9IlNldHRpbmdzUGFyYW1ldGVyVmFsdWUiPg0KCQkJCQk8ZGNzY29y
OnBhcmFtZXRlcj7QqNGA0LjRhNGCPC9kY3Njb3I6cGFyYW1ldGVyPg0KCQkJCQk8
ZGNzY29yOnZhbHVlIHhzaTp0eXBlPSJ2OHVpOkZvbnQiIHJlZj0ic3lzOkRlZmF1
bHRHVUlGb250IiBib2xkPSJ0cnVlIiBpdGFsaWM9ImZhbHNlIiB1bmRlcmxpbmU9
ImZhbHNlIiBzdHJpa2VvdXQ9ImZhbHNlIiBraW5kPSJXaW5kb3dzRm9udCIvPg0K
CQkJCTwvZGNzY29yOml0ZW0+DQoJCQk8L2FwcGVhcmFuY2U+DQoJCTwvaXRlbT4N
CgkJPGl0ZW0+DQoJCQk8c2VsZWN0aW9uPg0KCQkJCTxpdGVtPg0KCQkJCQk8Zmll
bGQ+0JzQvtCx0LjQu9GM0L3Ri9C10KPRgdGC0YDQvtC50YHRgtCy0LDQkNCz0LXQ
vdGCPC9maWVsZD4NCgkJCQk8L2l0ZW0+DQoJCQk8L3NlbGVjdGlvbj4NCgkJCTxm
aWx0ZXI+DQoJCQkJPGl0ZW0geHNpOnR5cGU9IkZpbHRlckl0ZW1Db21wYXJpc29u
Ij4NCgkJCQkJPGxlZnQgeHNpOnR5cGU9ImRjc2NvcjpGaWVsZCI+0J7QsdGK0LXQ
utGCLtCc0L7QsdC40LvRjNC90YvQtdCj0YHRgtGA0L7QudGB0YLQstCwLtCb0JrQ
mNC30LzQtdC90LXQvdC90YvQtdCg0LXQutCy0LjQt9C40YLRizwvbGVmdD4NCgkJ
CQkJPGNvbXBhcmlzb25UeXBlPkNvbnRhaW5zPC9jb21wYXJpc29uVHlwZT4NCgkJ
CQkJPHJpZ2h0IHhzaTp0eXBlPSJ4czpzdHJpbmciPtCf0L7Qu9GM0LfQvtCy0LDR
gtC10LvRjDwvcmlnaHQ+DQoJCQkJPC9pdGVtPg0KCQkJPC9maWx0ZXI+DQoJCQk8
YXBwZWFyYW5jZT4NCgkJCQk8ZGNzY29yOml0ZW0geHNpOnR5cGU9IlNldHRpbmdz
UGFyYW1ldGVyVmFsdWUiPg0KCQkJCQk8ZGNzY29yOnBhcmFtZXRlcj7QqNGA0LjR
hNGCPC9kY3Njb3I6cGFyYW1ldGVyPg0KCQkJCQk8ZGNzY29yOnZhbHVlIHhzaTp0
eXBlPSJ2OHVpOkZvbnQiIHJlZj0ic3lzOkRlZmF1bHRHVUlGb250IiBib2xkPSJ0
cnVlIiBpdGFsaWM9ImZhbHNlIiB1bmRlcmxpbmU9ImZhbHNlIiBzdHJpa2VvdXQ9
ImZhbHNlIiBraW5kPSJXaW5kb3dzRm9udCIvPg0KCQkJCTwvZGNzY29yOml0ZW0+
DQoJCQk8L2FwcGVhcmFuY2U+DQoJCTwvaXRlbT4NCgk8L2NvbmRpdGlvbmFsQXBw
ZWFyYW5jZT4NCgk8b3V0cHV0UGFyYW1ldGVycy8+DQo8L1NldHRpbmdzPg==}
},
{0,0},
{0,10,
{8,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьНастройкиАгентов",
{1,1,
{"ru","Настройки агентов"}
},
{1,1,
{"ru","Показать настройки торговых агентов"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьНастройкиАгентов",3,0,0,
{0,0},1,0,1,0,0},
{8,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"СохранитьВсе",
{1,1,
{"ru","Сохранить"}
},
{1,1,
{"ru","Сохранить все изменения"}
},
{0,
{0,
{"B",1},0}
},
{0,83,8},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаСохранитьВсе",3,0,0,
{0,0},1,0,1,0,0},
{8,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьГлавнуюФорму",
{1,1,
{"ru","На главную"}
},
{1,1,
{"ru","Перейти на главную страницу"}
},
{0,
{0,
{"B",1},0}
},
{0,77,8},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьГлавнуюФорму",3,0,0,
{0,0},1,0,1,0,0},
{8,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьНастройкиОбмена",
{1,1,
{"ru","Настройки обмена"}
},
{1,1,
{"ru","Показать настройки модуля обмена"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьНастройкиОбмена",3,0,0,
{0,0},1,0,1,0,0},
{8,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьЛичныйКабинет",
{1,1,
{"ru","Личный кабинет"}
},
{1,1,
{"ru","Показать ""Личный кабинет"""}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьЛичныйКабинет",3,0,0,
{0,0},1,0,1,0,0},
{8,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ЛКЗагрузитьМУ",
{1,1,
{"ru","Загрузить из ""Личного кабинета"""}
},
{1,1,
{"ru","Загрузить мобильные устройства из ""Личного кабинета"""}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаЛКЗагрузитьМУ",3,0,0,
{0,0},1,0,1,0,0},
{8,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ОчиститьКолонкуАгент",
{1,1,
{"ru","Очистить колонку ""Агент"""}
},
{1,1,
{"ru","Очистить колонку агент"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаОчиститьКолонкуАгент",3,0,0,
{0,0},1,0,1,0,0},
{8,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ЛКНастройкиЗагрузкиМУ",
{1,1,
{"ru","Настройки загрузки"}
},
{1,1,
{"ru","Настройки загрукзи мобильных устройств из ""Личного кабинета"""}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаЛКНастройкиЗагрузкиМУ",3,0,0,
{0,0},1,0,1,0,0},
{8,
{9,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ЛКПроставитьАгентов",
{1,1,
{"ru","Проставить агентов по данным из ЛК"}
},
{1,1,
{"ru","ЛКПроставить агентов"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаЛКПроставитьАгентов",3,0,0,
{0,0},1,0,1,0,0},
{8,
{10,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"Справка",
{1,1,
{"ru","Справка"}
},
{1,1,
{"ru","Справка"}
},
{0,
{0,
{"B",1},0}
},
{0,49,16},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаСправка",3,0,0,
{0,0},1,0,1,0,0}
},
{0,0},
{0,0},0,0}