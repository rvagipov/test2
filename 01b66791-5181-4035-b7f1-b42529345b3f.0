{3,
{46,0,0,0,0,1,0,1,00000000-0000-0000-0000-000000000000,0,
{1,1,
{"ru","Редактор меток на карте"}
},0,0,1,0,1,0,1,0,
{6,1d632984-de3c-4b4b-ad9f-d69682a10182,"ОбработкаВыбора",3699f6a3-9a2a-4c82-a775-6ff4824a08ca,"ОбработкаОповещения",3ccc650e-f631-4cae-8e33-3eaac610b5f9,"ПриОткрытии",52dbb775-1631-4fd5-8c55-1615b5881dac,"ПередЗакрытием",6b3175a5-c143-4179-a670-ef231dc0a688,"ПриПовторномОткрытии",9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,"ПриСозданииНаСервере",1,0,1d632984-de3c-4b4b-ad9f-d69682a10182,0,1,3699f6a3-9a2a-4c82-a775-6ff4824a08ca,0,1,3ccc650e-f631-4cae-8e33-3eaac610b5f9,0,1,52dbb775-1631-4fd5-8c55-1615b5881dac,0,1,6b3175a5-c143-4179-a670-ef231dc0a688,0,1,9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,0,1},
{0},1,
{21,
{-1,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,9,"ФормаКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,0,0},0,1,0,0,0,3,3},2,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{1,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаКоманднаяПанель",
{1,1,
{"ru","Командная панель"}
},
{1,1,
{"ru","Группа командная панель"}
},0,1,0,0,0,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,1,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,1},8,3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{3,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ДекорацияИконка",
{1,1,
{"ru","Декорация иконка"}
},
{1,1,
{"ru","Перейти на главную страницу"}
},1,2,1,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{4,3,
{0},"",-1,-1,0,
{
{#base64:iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAA
AARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3
YXJlAHBhaW50Lm5ldCA0LjAuMTCtCgrAAAAB1UlEQVQ4T5WTyytEcRTHLfwHbCwl
mjw2CitSlsTfYG8xycICGUIoUUhiShYsMJNHnimTGCbDeC3QmLy5HkVm5PV1zrkP
9zIWfvW59/c7v3O+v3vO+d0YABbiqj02op6YIBTilHARVYTtp79lQQ5lxBMBJqlx
Rd4mIoTdHGMOHtQd42s88J894v3jE6XD+z9FmGki1hCgBZ9sOCQ4lhF5/aAtoG3p
xBxopkIEaMI5y2f3rp7j+C6Cov4ASpzbqJs7RmLDCkYC1zhQnpHXtWEW4HRsLMAF
E+Pr+6ec2r92YTimNK2KjUfzYsiwa1SxAFdbDOXjh5jcv0VOh8/i6JgLwrVzg4zW
NYudcLEAt0oMfd5zhO4jKHYGMLhxKekU9m1hdPsGR7dhFPT4Mb6n4FAJI7dT0jm1
COgpcDA1QMbQ5pU6oTHgu9RmkProAr9SyG73oXLqSE7LbFtH7ayaQnqrF40LIYzR
PLXFyzGSglFEJxXv5OFFOqDb+E5wcPAujPxuv2HXkCJyG7klUbuQHL0Lb4TaRrKz
iJ037O4DuHcVZFEKvNapngnKXUhTP1tHvUj80ET4epodosEn83ue+L7KmkAsUUFI
On/Ae+wjwRYBHdr8x++MmC+4IKQYoZgmOgAAAABJRU5ErkJggg==}
},0,""},1,0,0,
{1,0},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{1,9874537f-454c-40ae-83e9-3b9cefbc6d08,"КомандаПоказатьГлавнуюФорму",1,0,9874537f-454c-40ae-83e9-3b9cefbc6d08,0,1}
},1,
{21,
{4,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияИконкаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,1,
{"ru","Декорация иконка"}
},0},0,1,
{10,
{5,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияИконкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,1},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{6,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьГлавнуюФорму",
{1,0},1,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},2,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{7,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьГлавнуюФормуРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{8,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ДекорацияСмТакже",
{1,1,
{"ru","cм. также:"}
},
{1,1,
{"ru","Смотрите также"}
},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},1,
{21,
{9,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияСмТакжеКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,1,
{"ru","cм. также:"}
},0},0,1,
{10,
{10,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияСмТакжеРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{13,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьПартнеров",
{1,0},1,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{14,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьПартнеровРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{11,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"ПоказатьСпискиТТ",
{1,0},1,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{12,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПоказатьСпискиТТРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{15,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ДекорацияКоманднаяПанель",
{1,0},
{1,0},0,0,1,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{4,0,
{0},"",-1,-1,1,0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0}
},1,
{21,
{16,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияКоманднаяПанельКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,0},0},0,1,
{10,
{17,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияКоманднаяПанельРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{79,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},2,"Сохранить",
{1,0},1,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,2,60,
{-31},700,0,0,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{80,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"СохранитьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,2,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{18,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},1,"ФормаСправка",
{1,1,
{"ru","?"}
},1,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},1,0,0,0,2,2,3,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{19,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ФормаСправкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,1,0},1,0,1,
{10,
{2,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаКоманднаяПанельРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{61,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаРабочаяОбласть",
{1,1,
{"ru","Группа рабочая область"}
},
{1,1,
{"ru","Группа рабочая область"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,1,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,1},2,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{20,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаЛеваяОбласть",
{1,1,
{"ru","Группа левая область"}
},
{1,1,
{"ru","Группа левая область"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,0,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,0},1,143c00f7-a42d-4cd7-9189-88e4467dc768,
{51,
{22,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},"Партнеры",0,0,1,
{1,0},
{1,0},
{1,
{3}
},0,1,0,0,0,1,1,0,0,0,0,0,1,0,1,1,0,1,2,2,1,1,0,0,1,1,2,0,0,1,1,
{0},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,1,1,13,
{"U"},
{5,1282f000-23b6-4887-87f4-9e8e79db3d32,"ПартнерыВыбор",2391e7b8-7235-45d7-ab7e-6ff3dc086396,"ПартнерыПередНачаломДобавления",60edb81d-887b-478e-94ee-7fef2b13393d,"ПартнерыПриАктивизацииСтроки",de65638d-a806-4a76-bc10-f62bbc86e0e7,"ПартнерыПослеУдаления",fe115cc8-9e33-4684-a166-bd5136fe7a9f,"ПартнерыПриИзменении",1,0,1282f000-23b6-4887-87f4-9e8e79db3d32,0,1,2391e7b8-7235-45d7-ab7e-6ff3dc086396,0,1,60edb81d-887b-478e-94ee-7fef2b13393d,0,1,de65638d-a806-4a76-bc10-f62bbc86e0e7,0,1,fe115cc8-9e33-4684-a166-bd5136fe7a9f,0,1},
{4,0ae4bea5-23be-42a7-b69e-97b11b29c453,37740564-9e86-44a0-bea9-3f485a5a3f91,b0016a68-ec64-4e6d-b905-c71fd62efc4c,fa51b106-eae6-44c7-8054-76cbb3100603},1,
{21,
{23,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},3,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{85,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыКонтекстноеМенюОпределитьКоординатыПоАдресу",
{1,0},1,
{10,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{86,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКонтекстноеМенюОпределитьКоординатыПоАдресуРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{87,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},6,"ПартнерыКонтекстноеМенюФлажок",
{1,1,
{"ru","Партнеры контекстное меню флажок"}
},
{1,1,
{"ru","Партнеры контекстное меню флажок"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{0},2,0},2,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{83,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыКонтекстноеМенюУстановитьПризнакИзмененияКоординат",
{1,0},1,
{9,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{84,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКонтекстноеМенюУстановитьПризнакИзмененияКоординатРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{81,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыКонтекстноеМенюСнятьПризнакИзмененияКоординат",
{1,0},1,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{82,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКонтекстноеМенюСнятьПризнакИзмененияКоординатРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,1,
{10,
{88,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКонтекстноеМенюФлажокРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{108,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыКонтекстноеМенюСортироватьПоТочностиКоординат",
{1,0},1,
{12,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{109,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКонтекстноеМенюСортироватьПоТочностиКоординатРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,0,0,3,3},1,
{21,
{24,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,9,"ПартнерыКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,0,1},2,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{71,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ПартнерыГруппаПодбор",
{1,1,
{"ru","Подбор"}
},
{1,1,
{"ru","Партнеры группа подбор"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{7,
{4,0,
{0},"",-1,-1,1,0,""},
{0},2,3,0,0,
{3,4,
{0}
},
{3,4,
{0}
}
},4,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{73,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыПодборПартнеров",
{1,0},1,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{74,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыПодборПартнеровРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{75,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыПодборПартнеровИзСпискаТТ",
{1,0},1,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{76,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыПодборПартнеровИзСпискаТТРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{110,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыДобавитьВсехПартнеров",
{1,0},1,
{13,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{111,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыДобавитьВсехПартнеровРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{106,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},6,"ПартнерыГруппаМенюТолькоСПутсымиКоординатами",
{1,1,
{"ru","Партнеры группа меню только с путсыми координатами"}
},
{1,1,
{"ru","Партнеры группа меню только с путсыми координатами"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{0},2,0},1,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{104,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыПризнакТолькоСПустымиКоординатами",
{1,1,
{"ru","Только с пустыми координатами"}
},1,
{11,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{105,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыПризнакТолькоСПустымиКоординатамиРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,1,
{10,
{107,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыГруппаМенюТолькоСПутсымиКоординатамиРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,0,1,
{10,
{72,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыГруппаПодборРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{89,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ПартнерыОпределитьКоординатыПоАдресу",
{1,0},1,
{10,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{90,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыОпределитьКоординатыПоАдресуРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,0,0,3,3},2,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{52,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыГруппаНаименованиеАдрес",
{1,1,
{"ru","Партнеры группа наименование адрес"}
},
{1,1,
{"ru","Партнеры группа наименование адрес"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,1,1,0,3,
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{0},
{"Pattern"},"",
{1,0},0},2,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{35,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыПартнер",1,0,
{1,1,
{"ru","Партнер (Клиент)"}
},
{1,1,
{"ru","Партнер (клиент, торговая точка)"}
},
{2,
{3},
{1}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{1,ac5a9c5a-5f1d-4fc5-b88c-a187038c16d1,"ПартнерыПартнерОткрытие",1,0,ac5a9c5a-5f1d-4fc5-b88c-a187038c16d1,0,1},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{1,fe115cc8-9e33-4684-a166-bd5136fe7a9f,"ПартнерыПартнерПриИзменении",1,0,fe115cc8-9e33-4684-a166-bd5136fe7a9f,0,1},1,
{21,
{36,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыПартнерКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{37,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыПартнерРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{54,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ГруппаШиротаДолгота",
{1,1,
{"ru","Группа широта долгота"}
},
{1,1,
{"ru","Группа широта долгота"}
},0,1,0,2,0,0,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,0,1,0,3,
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{0},
{"Pattern"},"",
{1,0},0},2,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{99,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},4,"ПартнерыТочность",0,0,
{1,0},
{1,1,
{"ru","Точность определения координат"}
},
{2,
{3},
{9}
},
{0},1,1,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{8,1,0,1,1,
{4,3,
{0},"",-1,-1,0,
{
{#base64:iVBORw0KGgoAAAANSUhEUgAAAGAAAAAQCAYAAADpunr5AAAABGdBTUEAALGPC/xh
BQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0
IDQuMC4xMkMEa+wAAArVSURBVFhHrZgLUJTlGse/ZRFs2TSRUhHwguIFzCOrLi6Y
F45oJBdTqTRLTT2lkQqY4620jjYOXsjjDRMGNJP4VMawTIv0SJmVmtrxeGwzy7zk
Dcrwurj/8/zfbymxPTZ0fGb+Mw/P8//NMM/3fu/7vasB+L/kJWyayZSrNbU47+0U
6qKYqxp7fxz05AYGNnRGR7dyUcxZ8/T+KBR/f0PhWwkvYs6ap/dHoXgfk4mMi/Lk
Xvlb5hAQHRIy8FG7vTQtMbFicEJC9cCE7ueSEnufe/rp1Oq0tEcqUlPtpQ5H6EB6
f+Vqkj+rW8KimU15LR+2uXO2rsGx8ydx+fpVJeassUeP8v4+LCaTKS8zw+G+frUI
7pun4XZfNSQ5a+zRQ6+B1ArFj3U43CgqAk6fBq5eNcRcauzdiRflNdI0tz5kCPQl
S6CvXWuIudTYo8fjVeGZgV9KeHjB59nZVe69e7HpjVXYUjIG3x1/B9XVTty8eUp0
Ai7XPuz+OLtqQP82BWQUe+sw/4w8YdEs9crj54zE7uMHceDUUa9ijx56FfNbWPz9
/cq/dY7HzerD8s8e8y7p0UMvGQNVYanv51d+bfx44PBh4Ngx75IePfSSMVAVFh8f
n/I3H3gA+pw50OfP9y7p0UMvGQPV/Kz16688NGUKsHUrvs7Px8pFg3Dt2ju4cX2b
F23FoYNTYLXWX0nW61DrIhWyqttmDkDuZ5tQsH+LoS9vk6dOD72eN0EFV+WH29Nw
48ZWuG6U3VH00OtZySqYv5+WpgaAsrI7Szz03spL5I3x8YH+zDPQn3vuzhIPvWQM
VJuY7nBUYuFCYNkyLHgyFf/cMQGXf1kqWi5acYv49zL88vNCvJjlqCTrdah1kYRN
iwt2D397Fl7ctgRTP1iKqR+Kym4Ta9Kjh14yihX17Bnhrvp5Aa5eKcC1K2s8Wnub
jDo99JKp4WMjItxYsAAoKADWrDEkW0ct1dTpES+ZGl7k1mNioA8cCD052VBKSm3V
1OkRLxmyTe8P/GZDaqoLM2YAs2ZhUN9IHD0yARfPzUTFhZdQeWH2r6q48DIqzs/C
hbMzsGlTqous16HWRbKSc/1e7I4h+jQM3TgdQ0tEm0XvzKgt1tgTD71kyMpKzF2/
LklWRbYabNWlRaLF/0PSEw+9ZMhSq5KSgOxsNVgsWgQsXuxd7NEjXjJkZYi5CbIT
63a7GqzucECPjfUu9ugRLxmyndqGuUoGDXKfHjMG7z0+FN17R6Pf8AGIH5GMR0cn
YN7CFHz26TicOZmF0ycz8MP3E+E8+hw2lzzqJut1qHWRFhbg9J8Xhx5rxqLHW6Ki
cehRLNpwm1hjjx7xkiH7QJNA50dlj8mKmaFWR6WsksqLs/HTxTm1xBp79NBLhmxw
YKDzw8ceQ80KxMsvA7NnA7Jf1xJr7NEjXjJk+YXzrNkMvV076B06QI+MhB4VBb1T
p9pijT16xEuGbEiToG+2DR7sGtnbjunLX0XZkT048uNxOM+fwP4fjqCgbAMSs1Lk
xRuCM6eycPybCfjq4Ghsfz/NRdbrUOsi7S9BLm1+DFqsHoTWhUPQet1QtF4vejsN
rYs9Ys4ae+KhlwzZyMgwF/f0E9+9gNM/ZOBH+SfPnp6Cc2em1hJr7NFDLxmyncLC
XGr/f+EFICMDyMoCeCBOnVpbrLFHj3jJkJVV7FL7f3Aw9LAw6C1bQm/VCnp4eG2x
xh494vWcA+Qnx4SHXX948bNY+fkmrPqiBKv23iL5e8knRYhLj8e+fZlq+/lWHsLC
7PjrwmZ4HWpdpEXLA1gcA78VD+G+gv64780BaFzUH030BDTf2E+JOWvs0UMvGbIP
PtjC9Un5MBz8cpT6wvn+eDpOnpgkr2ymGjrFnDX26KGXDNnOLVq4dg8bhmOjRqkv
HKSnA5MmAZmZxtAp5qxJjx56yZDlEDP8/DD/3nvVF47erBn0kBDoLVoYQ6eYsyY9
euglox6ASYszD424PmzDLIwu/TtGvyt6b+5v2iJ/b34VXbOfwKRXUmULXQTnfyag
udX/Lj2AllantqwHtDccMBfG4b4iB0JL7Igo7YrId6OVmLPGHj30KkbY4OAg5+d7
RqihHv33OLW6OfQLZ6erg4xizhp79NBLhmxoUJDzwIgRaqgXx40z3gQOffp0YOZM
Q8xZkx499JIha/bxcc685x41VLn9GW8Chx4RAb19e0PMWZMePfSSISvbaLrfTLsr
Zs0YxKwfi5hikX6LikTrxiB8+WCEJEbgwJ4sTHqoPYabTC6r9Z67cwhri7vDp9CB
wOIYtCmNhm37g+i1oyP67eqgxLzr9k6qF6jHKC+ZmkOYq/nI4bHqgLpwdpra8y/9
9Jo6bCnmrLHHN4FeMjWHMFfzubFjgYkTgWnTjD3/tdeMg5lizhp78ibQS6bmEOZq
Xt6oEfTmzaG3bWvs+TabcTBTzFljT94Eej1vQK7WJWim9kpXd9AbD6PZ2mQEr09G
aHESwvQkhLydjGbrktG0IAkB/+gDU9/myIkKw/KgIIw0m90Wi/9dOIT5GTco1N2g
yI6279rh+KgLkj6NwrB97TH6YIQSc9Zid3RRnobiJaNY0Ygno93cXni4Xqqch8uX
cnClagWuXl6txJw1Pgh66CVTww+OjnarrYcH8bx5QE4OsGIFsHq1Ieas8UHQI14y
NbzIrbYeHsTR0dDj4qDHx0MfMMAQc9b4IOgRLxnFtrSma/O7ukyrHQhYF4vQTXa0
K7Wh45ZohG/uhqDiHjAXyFu/sgcC7U2wrkkTLGzQAJPq1+dPHHfhDWD4mfKa5nRA
97JuSP6iB8b8y4YsZ2e8dDxKaYrkrKVIzy6eZuIlY8DyEpnNeQf2jZThz5WLylL1
rc+fHq5f22hIctauVC1THnrJeHDNV/KvR44E5s4Fli41vvX5c8TGjYaYsyYXJXro
JePB1UVuntUKvUsX6L17G9/6/DniiScMMWetTx/loZeMgn00uzapQ6X1rRhEbLHh
oR1RSNrdHql72qF/eQfZDTqjmTwU3xwbkjrLWSIPcI08hN5m809C35WLGMNibmwu
j8lviacOxWLq8Uew4EwCVl2IV2LO2lNfxYIeeskYqApLgwbW8lMnJsuKz5ehl8it
dxtcrp2GJGeNPXroJWOgKiyNrNZyTJ4M5OcDJSXAtm3Azp2GmLPGnnjoJWOgKiz1
fH3L9dBQ6ImJ0IcPhy7blP7884aYs8aeeOglY6CaWbvfb2VYfifEf2zHqENdkPV1
FKYfi0T6kc4YvLcbun7QDW3/FoHX+/RSd4ml8gCE4/Z3l36KMMJillXdbXwD9/QD
bZBf0QulVwYqMZ9xsA3Yo4deA6kVFl9f37wNxSlu3nhdrl2ort6vxJy3YfbooddA
agWHmFeYkuJWN95du4D9+w0xl9swe/TQayC1wiJbQl4StyPeeOXA1uXwVmIut2H2
6KHXQH77Ma5xXEBhQmFE1TRnL+Se/ysKK/sh+1RfPL3Ththp4chMGoBiuXtkd+xY
ZQ8IKCRD8HcDrau8hM1cT8uN6O7jTBhuclHMWWPPsNwxbLK95CYmRjozMxz8BRTM
WWPPsNwxbLK95PaLjHS+npjoopizxp5huWPYeDj7+/o6e8pnJsXcc2D/jq+Zg089
LaB5d/+kqERr6aDJjSqemtWouufjDc937NL4fGLTptV9Q0IqYoKDS9tpWpJJ0wIM
WtP+C2253OPlMhlGAAAAAElFTkSuQmCC}
},0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{3,0,
{0},1,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0},1,0,0,1,0},
{0,1,0},1,
{21,
{100,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыТочностьКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{101,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыТочностьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{96,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыКоординаты",1,0,
{1,0},
{1,1,
{"ru","Координаты местоположения партнера. Показываются жирным шрифтом, если координаты были изменены, но не записаны."}
},
{2,
{3},
{8}
},
{0},1,1,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{97,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыКоординатыКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{98,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыКоординатыРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},1,0,1,
{10,
{55,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаШиротаДолготаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,0,1,
{10,
{53,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыГруппаНаименованиеАдресРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{94,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыГруппаАдреса",
{1,1,
{"ru","Партнеры группа адреса"}
},
{1,1,
{"ru","Партнеры группа адреса"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,1,1,0,3,
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{0},
{"Pattern"},"",
{1,0},0},2,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{44,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыАдрес",1,0,
{1,0},
{1,1,
{"ru","Адрес партнера в учетной системе"}
},
{2,
{3},
{4}
},
{0},1,1,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{45,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыАдресКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{46,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыАдресРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{91,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ПартнерыАдресКоординат",1,0,
{1,1,
{"ru","Адрес из веб-сервиса"}
},
{1,1,
{"ru","Адрес по полученным координатам из сервиса определения координат"}
},
{2,
{3},
{6}
},
{0},1,1,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,2,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},0,0,2,2,1,2,2,2,2,2,2,2,2,2,
{"U"},
{"U"},"",0,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,2,
{86}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},1,
{3,0,0},0,
{1,0},2,0,2,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{0,1,0},1,
{21,
{92,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыАдресКоординатКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{93,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыАдресКоординатРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},1,0,1,
{10,
{95,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыГруппаАдресаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},2,2,1,0,
{"Pattern"},"","",2,2,0,1,
{10,
{25,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,0,0,1,
{4,
{26,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыСтрокаПоиска",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0},1,
{21,
{27,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыСтрокаПоискаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{28,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыСтрокаПоискаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{22,0},0,3,3},1,
{4,
{29,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,1,"ПартнерыСостояниеПросмотра",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{7,3,0,1,100},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},3,
{0,1,0},1,0,0},1,
{21,
{30,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыСостояниеПросмотраКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{31,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыСостояниеПросмотраРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{22,1},0,3,3},1,
{4,
{32,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,2,"ПартнерыУправлениеПоиском",
{1,0},
{1,0},1,1,0,1,
{1,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0,2},1,
{21,
{33,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПартнерыУправлениеПоискомКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{34,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПартнерыУправлениеПоискомРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{22,2},0,3,3},0,1,0,0,1,0,3,3,0,1,0},1,0,1,
{10,
{21,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаЛеваяОбластьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{56,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаПраваяОбласть",
{1,1,
{"ru","Группа правая область"}
},
{1,1,
{"ru","Группа правая область"}
},0,1,0,0,0,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,0,0,0,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,0},2,cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{63,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},5,"ГруппаПанельКарта",
{1,1,
{"ru","Группа панель карта"}
},
{1,1,
{"ru","Группа панель карта"}
},0,1,0,0,0,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{23,1,0,2,0,
{0},
{1,0},
{"Pattern"},"",
{3,4,
{0}
},0,0,0,1,
{1,0},0,0,3,3,2,0,1,1},4,77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{65,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},2,"ИсточникКарты",1,0,
{1,1,
{"ru","Карта"}
},
{1,0},
{1,
{5}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,1,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{32,
{3,0},14,0,0,2,1,2,2,2,2,2,0,0,2,0,
{"U"},
{"U"},"",1,
{4,0,
{0},"",-1,-1,1,0,""},0,0,2,3,00000000-0000-0000-0000-000000000000,
{5004,0},
{0,0},2,
{1,0},
{1,0},2,1,0,
{"Pattern"},1,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},0,
{3,0,0},0,
{1,0},2,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
{1,fe115cc8-9e33-4684-a166-bd5136fe7a9f,"ИсточникКартыПриИзменении",1,0,fe115cc8-9e33-4684-a166-bd5136fe7a9f,0,1},1,
{21,
{66,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ИсточникКартыКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{67,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ИсточникКартыРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{134,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},3,"РежимВыбораКоординат",4,0,
{1,0},
{1,1,
{"ru","Режим выбора координат на карте"}
},
{1,
{9}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,1,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{10,0,
{3,4,
{0}
},
{3,4,
{0}
},1,
{1,1,
{"ru","БЛ=Выключено; БИ=Включено"}
},
{3,4,
{0}
},
{7,3,0,1,100},0,0,0,2},
{1,fe115cc8-9e33-4684-a166-bd5136fe7a9f,"РежимВыбораКоординатПриИзменении",1,0,fe115cc8-9e33-4684-a166-bd5136fe7a9f,0,1},1,
{21,
{135,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"РежимВыбораКоординатКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{136,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"РежимВыбораКоординатРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},3,3},3d3cb80c-508b-41fa-8a18-680cdf5f1712,
{10,
{117,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},1,"ДекорацияКартинка",
{1,1,
{"ru","Декорация картинка"}
},
{1,0},1,0,1,1,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{2,
{4,0,
{0},"",-1,-1,1,0,""},0,0,0,
{1,0},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},0,0,
{0,1,0}
},1,
{21,
{118,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ДекорацияКартинкаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,2,
{1,
{1,1,
{"ru","Декорация картинка"}
},0},0,1,
{10,
{119,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ДекорацияКартинкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,0,0,1,0,3,3},cd5394d0-7dda-4b56-8927-93ccbe967a01,
{21,
{120,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ГруппаПанельКомандКарты",
{1,1,
{"ru","Группа панель команд карты"}
},
{1,1,
{"ru","Группа панель команд карты"}
},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,0,
{0}
},1,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{124,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"КомандаУказатьЦентрКарты",
{1,0},1,
{16,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,0,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{125,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"КомандаУказатьЦентрКартыРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,1,
{10,
{121,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаПанельКомандКартыРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,2,3},1,0,1,
{10,
{64,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаПанельКартаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},77ffcc29-7f2d-4223-b22f-19666e7250ba,
{33,
{58,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},15,"ПолеБраузера",0,0,
{1,0},
{1,0},
{1,
{4}
},
{0},1,0,2,0,2,
{1,0},
{1,0},1,1,0,3,0,3,1,3,0,
{4,0,
{0},"",-1,-1,1,0,""},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{7,3,0,1,100},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{3,50,10,
{3,4,
{0}
},0,
{2,53325f0c-b112-4c44-ab12-5d1ee0b1f07b,"ПолеБраузераДокументСформирован",da8dfb86-c5d1-4e35-a8a4-01b167a60ad3,"ПолеБраузераПриНажатии",1,0,53325f0c-b112-4c44-ab12-5d1ee0b1f07b,0,1,da8dfb86-c5d1-4e35-a8a4-01b167a60ad3,0,1},1,0,0,1,0,1,1},
{0,1,0},1,
{21,
{59,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ПолеБраузераКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{"Pattern"},
{"Pattern"},"","",
{0},0,0,1,
{10,
{60,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ПолеБраузераРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,3},1,0,1,
{10,
{57,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаПраваяОбластьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,0,1,
{10,
{62,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ГруппаРабочаяОбластьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},"","",1,
{21,
{0},0,0,0,7,"Navigator",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,0,1,0,1,
{10,
{0},0,0,0,0,"NavigatorExtendedTooltip",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,"",0,0,0,0,0,0,3,3,0,0,0,100,1,1,0},"
#Область ГлобальныеПеременные

&НаКлиенте
Перем МодульКарты;  // общий клиентский модуль работы с картами

// ГлобальныеПеременные
#КонецОбласти

#Область СовместимостьСПлатформой_8_3_5

// Подставляет параметры в строку. Максимально возможное число параметров - 5.
// Параметры в строке задаются как %<номер параметра>. Нумерация параметров начинается с единицы.
//
// Параметры:
//  СтрокаПодстановки  - Строка - шаблон строки с параметрами (вхождениями вида ""%ИмяПараметра"");
//  Параметр<n>        - Строка - подставляемый параметр.
//
// Возвращаемое значение:
//  Строка   - текстовая строка с подставленными параметрами.
//
&НаКлиентеНаСервереБезКонтекста
Функция СтрШаблон_(СтрокаПодстановки,
	Параметр1, Параметр2 = Неопределено, Параметр3 = Неопределено, Параметр4 = Неопределено, Параметр5 = Неопределено)
	
	Результат = СтрЗаменить(СтрокаПодстановки, ""%1"", Параметр1);
	Результат = СтрЗаменить(Результат, ""%2"", Параметр2);
	Результат = СтрЗаменить(Результат, ""%3"", Параметр3);
	Результат = СтрЗаменить(Результат, ""%4"", Параметр4);
	Результат = СтрЗаменить(Результат, ""%5"", Параметр5);
	
	Возврат Результат;
	
КонецФункции
	
// Разбивает строку на несколько строк по разделителю. Разделитель может иметь любую длину.
//
// Параметры:
//  Строка                 - Строка - текст с разделителями;
//  Разделитель            - Строка - разделитель строк текста, минимум 1 символ;
//  ПропускатьПустыеСтроки - Булево - признак необходимости включения в результат пустых строк.
//    Если параметр не задан, то функция работает в режиме совместимости со своей предыдущей версией:
//     - для разделителя-пробела пустые строки не включаются в результат, для остальных разделителей пустые строки
//       включаются в результат.
//     Е если параметр Строка не содержит значащих символов или не содержит ни одного символа (пустая строка), то в
//       случае разделителя-пробела результатом функции будет массив, содержащий одно значение """" (пустая строка), а
//       при других разделителях результатом функции будет пустой массив.
//  СокращатьНепечатаемыеСимволы - Булево - сокращать непечатаемые символы по краям каждой из найденных подстрок.
//
// Возвращаемое значение:
//  Массив - массив строк.
&НаКлиентеНаСервереБезКонтекста 
Функция СтрРазделить_(Знач Строка, Знач Разделитель = "","", Знач ПропускатьПустыеСтроки = Неопределено, СокращатьНепечатаемыеСимволы = Ложь)
	
	Результат = Новый Массив;
	
	// Для обеспечения обратной совместимости.
	Если ПропускатьПустыеСтроки = Неопределено Тогда
		ПропускатьПустыеСтроки = ?(Разделитель = "" "", Истина, Ложь);
		Если ПустаяСтрока(Строка) Тогда 
			Если Разделитель = "" "" Тогда
				Результат.Добавить("""");
			КонецЕсли;
			Возврат Результат;
		КонецЕсли;
	КонецЕсли;
	//
	
	Позиция = Найти(Строка, Разделитель);
	Пока Позиция > 0 Цикл
		Подстрока = Лев(Строка, Позиция - 1);
		Если Не ПропускатьПустыеСтроки Или Не ПустаяСтрока(Подстрока) Тогда
			Если СокращатьНепечатаемыеСимволы Тогда
				Результат.Добавить(СокрЛП(Подстрока));
			Иначе
				Результат.Добавить(Подстрока);
			КонецЕсли;
		КонецЕсли;
		Строка = Сред(Строка, Позиция + СтрДлина(Разделитель));
		Позиция = Найти(Строка, Разделитель);
	КонецЦикла;
	
	Если Не ПропускатьПустыеСтроки Или Не ПустаяСтрока(Строка) Тогда
		Если СокращатьНепечатаемыеСимволы Тогда
			Результат.Добавить(СокрЛП(Строка));
		Иначе
			Результат.Добавить(Строка);
		КонецЕсли;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

///  Объединяет строки из массива в строку с разделителями.
//
// Параметры:
//  Массив      - Массив - массив строк которые необходимо объединить в одну строку;
//  Разделитель - Строка - любой набор символов, который будет использован в качестве разделителя.
//
// Возвращаемое значение:
//  Строка - строка с разделителями.
// 
&НаКлиентеНаСервереБезКонтекста 
Функция СтрСоединить_(Массив, Разделитель = "","", СокращатьНепечатаемыеСимволы = Ложь)

	Результат = """";
	ТекРазделитель = """";
	
	Для Индекс = 0 По Массив.ВГраница() Цикл
		
		Подстрока = Массив[Индекс];
		
		Если СокращатьНепечатаемыеСимволы Тогда
			Подстрока = СокрЛП(Подстрока);
		КонецЕсли;
		
		Если ТипЗнч(Подстрока) <> Тип(""Строка"") Тогда
			Подстрока = Строка(Подстрока);
		КонецЕсли;
		
		Результат = Результат + ТекРазделитель + Подстрока;
		
		Если Индекс = 0 Тогда
			ТекРазделитель = Разделитель;
		КонецЕсли;
		
	КонецЦикла;
	
	Возврат Результат;

КонецФункции

// СовместимостьСПлатформой_8_3_5
#КонецОбласти

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СтррКонтекст = Новый Структура(""Повторно,КаталогИконок,ПрежниеЗначенияСтроки,ЗначениеБезТочности,КартаЦентр,РежимВыбораЦентраКарты,КоличествоМиганий,ОткрытыеПартнеры"");
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");	
	ТекОбъект.ИнициализироватьКонтекстФормы(СтррКонтекст, Параметры);
	
	СтррКонтекст.Повторно = Ложь;
	
	СтррКонтекст.РежимВыбораЦентраКарты	= Ложь; // интерактивный режим выбора центра карты
	СтррКонтекст.КартаЦентр = ТекОбъект.ПрочитатьЗначениеНастройки(""КартаЦентр""); // центр карты, выбранный до этого пользователем 
	СтррКонтекст.КоличествоМиганий = 0; //количество миганий координат в поле ""ПартнерыКоординаты"" после интерактивного изменения
	СтррКонтекст.КаталогИконок = ТекОбъект.ПолучитьВебКаталогИконок();
	
	СтррКонтекст.ПрежниеЗначенияСтроки = Новый Структура(""Партнер,ИдентификаторСтроки""); // для восстановления значения строки элемента ""Партнеры""
	СтррКонтекст.ЗначениеБезТочности = 99; // чтобы при интерактивной сортировке по точности определения координат строки без точности были в конце таблицы
	
	СтррКонтекст.ОткрытыеПартнеры = Новый Массив;
	
	СтррМаркер = Новый Структура(""Широта,Долгота,Заголовок"", 0, 0, """");
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	МодульКарты	= ПолучитьФорму(СтррКонтекст.ПутьКФорме + ""МодульКарты"", , ЭтаФорма, ""АгентПлюсМодульКартыКлиент"");	
	
	Если СтррКонтекст.КартаЦентр = Неопределено Тогда
		СохранитьЦентрКартыКлиент(МодульКарты.ПолучитьКоординатыПользователя());
	Иначе
		ОбновитьЗаголовокФормы();
	КонецЕсли;
	
	МодульКарты.УстановитьРегионГеокодера(СтррКонтекст.КартаЦентр); // для точности геокодирования
	
	Элементы.ГруппаКоманднаяПанель.ЦветФона = СтррКонтекст.Цвета.ФонРаздела;
	
	КартаПереключитьРежимВыбораКоординат();
	
	МодульКарты.ЗаполнитьСписокДоступныхКарт(Элементы.ИсточникКарты.СписокВыбора);
	ПроверитьГотовностьДополнительныхРеквизитов();
	
	ЭтаФорма.ТекущийЭлемент = Элементы.ИсточникКарты;
	
	КартаОбновитьТекущийМакет();
	
	ОбновитьФлажокТолькоСПустымиКоординатами();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриПовторномОткрытии()
	
	СтррКонтекст.Повторно = Истина; // признак, что форма открыта повторно, используется чтобы учитывать загрузку карты в ПолеБраузера
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если ИмяСобытия = ""АПНастройкиСброшены"" Тогда
		
		ЭтаФорма.Модифицированность = Ложь;
		Закрыть();
		
	ИначеЕсли ИмяСобытия = ""АППроверкаУникальностиЗапускаОбработкиОбмена"" Тогда
		
		Если Параметр <> СтррКонтекст.ВХОбщиеПараметры Тогда // второй экземпляр обработки справшивает - уже открыта обработка или нет
			Оповестить(""АПЗакрытьОбработкуОбменДанными"", Параметр); // шлем событие закрытия обработки с конкретным ключем сеанса
		КонецЕсли; 
		
	КонецЕсли;
	
КонецПроцедуры

// Параметр ИсточникВыбора принимает значение ""ПриОткрытииФормы"", если добавление партнеров вызвано извне 
// (при открытии или повторном открытии формы).
&НаКлиенте
Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)

	Если ТипЗнч(ВыбранноеЗначение) <> Тип(""Массив"") Тогда
		ВызватьИсключение(""Не предусмотренное значение для подбора в форму: "" + ВыбранноеЗначение);
	КонецЕсли; 
	
 	мНовыеПартнеры = Новый Массив; // массив добавленных партнеров во время подбора
	СтрокаТ = Неопределено;
	НачальнаяСтрока = Партнеры.Количество();
	
	ПроверятьНаПустыеКоординаты = Элементы.ПартнерыПризнакТолькоСПустымиКоординатами.Пометка;
	
	БезТочности = СтррКонтекст.ЗначениеБезТочности;
	ВыбранаОднаСтрока = (ВыбранноеЗначение.Количество() = 1);
	
	// подбор партнеров
	Для каждого Партнер Из ВыбранноеЗначение Цикл
		
		мСтроки = Партнеры.НайтиСтроки(Новый Структура(""Партнер"", Партнер));
		Если мСтроки.Количество() > 0 Тогда // в таблице уже есть такой партнер
			Если ВыбранаОднаСтрока Тогда
				СтрокаТ = мСтроки[0]; // выделяем найденную строку:
				ПоказатьПредупреждение(, НСтр(""ru = 'Данный партнер уже выбран.'""));
				Прервать;
			Иначе
				Текст = СтрШаблон_(НСтр(""ru = 'Пропущен партнер """"%1"""" т.к. он уже выбран.'""), Партнер);
				ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Текст);
				Продолжить;
			КонецЕсли;
		ИначеЕсли Не ПроверятьНаПустыеКоординаты Тогда // сразу добавляем партнеров в таблицу формы, иначе партнеры будут проверены на пустые координаты
			СтрокаТ = Партнеры.Добавить();
			СтрокаТ.Партнер  = Партнер;
			СтрокаТ.Точность = БезТочности;
		КонецЕсли;
		мНовыеПартнеры.Добавить(Партнер);
	
	КонецЦикла;
	
	// устанавливаем текущую строку
	СтрокаТ = ?(ИсточникВыбора = ""ПриОткрытииФормы"" И Партнеры.Количество() > 0, Партнеры[0], СтрокаТ);
	Если СтрокаТ <> Неопределено Тогда
		Элементы.Партнеры.ТекущаяСтрока = СтрокаТ.ПолучитьИдентификатор();	
	КонецЕсли; 		
	
	Если мНовыеПартнеры.Количество() <> 0 Тогда
		КоличествоПередДобавлением = мНовыеПартнеры.Количество();
		ОбновитьКоординатыПартнеров(мНовыеПартнеры, НачальнаяСтрока, Ложь, ПроверятьНаПустыеКоординаты);			
		ОбновитьАдресаПартнеров(мНовыеПартнеры, НачальнаяСтрока, Ложь);
		Если КоличествоПередДобавлением <> мНовыеПартнеры.Количество() И ПроверятьНаПустыеКоординаты Тогда
			Если КоличествоПередДобавлением = 1 Тогда
				Текст = НСтр(""ru = 'У партнера указаны координаты'"");
			ИначеЕсли мНовыеПартнеры.Количество() = 0 Тогда
			    Текст = НСтр(""ru = 'Все выбранные партнеры с заполненными координатами'"");
			Иначе
				Текст = НСтр(""ru = 'Были исключены партнеры с заполненными координатами'"");
			КонецЕсли; 
			ПоказатьПредупреждение(, Текст + "" "" + НСтр(""ru = '(включен режим подбора только для партнеров с пустыми координатами).'""));
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗакрытием(Отказ, ЗавершениеРаботы, ТекстПредупреждения, СтандартнаяОбработка)
	
	Если ЭтаФорма.Модифицированность Тогда
		Отказ = Истина;
		Оповещение = Новый ОписаниеОповещения(""СохранитьПродолжить"", ЭтотОбъект);
		ПоказатьВопрос(Оповещение, НСтр(""ru = 'Данные были изменены. Сохранить изменения?'""), РежимДиалогаВопрос.ДаНетОтмена);
	КонецЕсли;
	
КонецПроцедуры

// ОбработчикиСобытийФормы
#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура КомандаОпределитьКоординатыПоАдресу(Команда)
	
	ОпределитьКоординатыПоАдресу();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаСохранить(Команда)
	
	СохранитьКоординатыКлиент();

КонецПроцедуры

&НаКлиенте
Процедура КомандаСправка(Команда)

	ОткрытьФормуОбработки(""МодульСправки"").ВнешнийВызовОткрытьСправку(ЭтаФорма.ИмяФормы);
	
КонецПроцедуры

#Область ОбработчикиКомандФормы_ПартнерыКонтекстноеМеню

&НаКлиенте
Процедура КомандаСнятьПризнакИзмененияКоординат(Команда)

	УстановитьПризнакИзмененияКоординат(Ложь);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаУстановитьПризнакИзмененияКоординат(Команда)
	
	УстановитьПризнакИзмененияКоординат(Истина);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаСортироватьПоТочностиКоординат(Команда)
	Партнеры.Сортировать(""Точность,Партнер"");
КонецПроцедуры

// ОбработчикиКомандФормы_ПартнерыКонтекстноеМеню
#КонецОбласти

#Область ОбработчикиКомандФормы_ПодборПартнеров

&НаКлиенте
Процедура КомандаПодборПартнеровИзСправочника(Команда)

	СтррПараметры = Новый Структура;	
	СтррПараметры.Вставить(""ЗакрыватьПриВыборе"", Ложь); 
	СтррПараметры.Вставить(""МножественныйВыбор"", Истина); 
		
	ОткрытьФорму(""Справочник.Партнеры.ФормаВыбора"", СтррПараметры, ЭтаФорма);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПодборПартнеровИзСпискаТТ(Команда)
	
	СтррПараметры  = Новый Структура(""ID,ДляВыбора"", Неопределено, Истина);
	Если ЭтаФорма.КлючУникальности = Неопределено Тогда
		ЭтаФорма.КлючУникальности = Новый УникальныйИдентификатор;
	КонецЕсли; 
	Оповещение = Новый ОписаниеОповещения(""СписокТорговыхТочекВыборЗавершение"", ЭтотОбъект, Неопределено);
	ОткрытьФормуОбработки(""СпискиТорговыхТочек"", СтррПараметры, ЭтаФорма.КлючУникальности, Оповещение);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаДобавитьВсехПартнеров(Команда)
	
	Если Партнеры.Количество() <> 0 Тогда
		Оповещение = Новый ОписаниеОповещения(""ДобавитьВсехПартнеровПродолжить"", ЭтотОбъект);
		ПоказатьВопрос(Оповещение, НСтр(""ru = 'Перед добавленинем всех партнеров таблица будет очищена. Продолжить?'""), РежимДиалогаВопрос.ДаНетОтмена);
	Иначе
		ПартнерыДобавитьВсехПартнеровКлиент();
	КонецЕсли; 
	
КонецПроцедуры

// Сохранение измененных координат для Партнеров с признаком КоординатыИзменены.
&НаКлиенте
Процедура ДобавитьВсехПартнеровПродолжить(РезультатОтвета, ДополнительныеПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		ПартнерыДобавитьВсехПартнеровКлиент();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПризнакТолькоСПустымиКоординатами(Команда)
	
	ТолькоСПустымиКоординатами = Не ТолькоСПустымиКоординатами;
	ОбновитьФлажокТолькоСПустымиКоординатами();
	
КонецПроцедуры

// ОбработчикиКомандФормы_ПодборПартнеров
#КонецОбласти 

&НаКлиенте
Процедура КомандаУказатьЦентрКарты(Команда)
	
	СтррПараметры = Неопределено;
	Оповещение = Новый ОписаниеОповещения(""КомандаУказатьЦентрКартыПродолжить"", ЭтотОбъект);
	ОткрытьФормуОбработки(""ВыборЦентраКарты"", СтррПараметры,, Оповещение);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаУказатьЦентрКартыПродолжить(Центр, ДополнительныеПараметры) Экспорт
	
	Если Центр <> Неопределено Тогда
		
		Если ТипЗнч(Центр) = Тип(""Структура"") Тогда
			
			СохранитьЦентрКартыКлиент(Центр);
			ЗаполнитьЗначенияСвойств(СтррМаркер, Центр);
			КартаПерейтиКМаркеру(Истина);
			КартаДобавитьМаркер(Истина);
			
		ИначеЕсли Центр = ""ВыбратьНаКарте"" Тогда // включаем режим выбора центра на карте
			
			КартаПереключитьРежимВыбораКоординат(Истина, Истина);
		
		КонецЕсли; 
		
	КонецЕсли; 
	
КонецПроцедуры

#Область ОбработчикиКомандФормы_НавигацияПоФормам

&НаКлиенте
Процедура КомандаПоказатьПартнеров(Команда)
	ОткрытьФорму(""Справочник.Партнеры.ФормаСписка"");
КонецПроцедуры

&НаКлиенте
Процедура КомандаПоказатьСпискиТорговыхТочек(Команда)
	ОткрытьФормуОбработки(""СпискиТорговыхТочек"");
КонецПроцедуры

&НаКлиенте
Процедура КомандаПоказатьГлавнуюФорму(Команда)
	ОткрытьФормуОбработки(""ГлавнаяФорма"");
КонецПроцедуры

// ОбработчикиКомандФормы_НавигацияПоФормам
#КонецОбласти

// ОбработчикиКомандФормы
#КонецОбласти

#Область ОбработчикиСобытиЭлементовФормы

&НаКлиенте
Процедура ИсточникКартыПриИзменении(Элемент)
	
	КартаОбновитьТекущийМакет();
	
КонецПроцедуры

&НаКлиенте
Процедура ПолеБраузераДокументСформирован(Элемент)

	#Если ВебКлиент Тогда
		СисИнфо = Новый СистемнаяИнформация;
		Если Найти(СисИнфо.ИнформацияПрограммыПросмотра, ""Firefox"") = 0 Тогда
			Документ = Элементы.ПолеБраузера.document;
			HTMLWindow = ?(Документ.parentWindow <> Неопределено, Документ.parentWindow, Документ.defaultView);
			HTMLWindow.name = КартаСформироватьПараметрРежимРедактора(""LabelEditor"", СтррКонтекст.КартаЦентр);
		КонецЕсли;
	#КонецЕсли 
	
	Таймер_Включить(""ДобавитьМаркер"");
	
КонецПроцедуры

&НаКлиенте
Процедура ПолеБраузераПриНажатии(Элемент, ДанныеСобытия, СтандартнаяОбработка)

	Если Не РежимВыбораКоординат Или ДанныеСобытия.Button = Неопределено Тогда
		Возврат;
	КонецЕсли; 
	
	Источник = ДанныеСобытия.Button;
	
	Если Источник.id <> ""ClickEvent"" Тогда
		Возврат;
	КонецЕсли;
	
	СтандартнаяОбработка = Ложь;
	Если Источник.apObjectType <> ""map"" Тогда
		Возврат;
	КонецЕсли;
	
	мКоординаты = СтрРазделить_(Источник.apValue);
	Если мКоординаты.Количество() <> 2 Тогда
		Возврат;
	КонецЕсли;
	
	Широта  = СтрокуВЧисло(мКоординаты[0]);
	Долгота = СтрокуВЧисло(мКоординаты[1]);
	
	// кликом по карте указаны новые координаты маркера
	стррМаркер.Широта  = Широта;
	стррМаркер.Долгота = Долгота;
	
	стррПараметры = Новый Структура(""Широта,Долгота"", Широта, Долгота);
	
	Если СтррКонтекст.РежимВыбораЦентраКарты Тогда // режим указания координат для центра карты
		Оповещение = Новый ОписаниеОповещения(""ЗапомнитьНовыеКоординатыЦентраКартыПродолжить"", ЭтотОбъект, стррПараметры);
		ПоказатьВопрос(Оповещение, НСтр(""ru = 'Запомнить новые координаты центра карты?'""), РежимДиалогаВопрос.ДаНетОтмена);
		// пока еще не показан вопрос, определим по координатам город
		стррЦентр = Новый Структура(""Широта,Долгота"", стррПараметры.Широта, стррПараметры.Долгота);
		стррПараметры.Вставить(""Город"", МодульКарты.ПолучитьАдресПоКоординатамОтВебСервиса(стррЦентр, Истина));
	ИначеЕсли ПартнерыУстановитьНовыеКоординатыДляТекущегоПартнера(стррПараметры, Ложь) Тогда // режим указания координат для текущего партнера
		МигатьКоординатами();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ЗапомнитьНовыеКоординатыЦентраКартыПродолжить(РезультатОтвета, стррПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		КартаПереключитьРежимВыбораКоординат(Ложь);
		СохранитьЦентрКартыКлиент(стррПараметры); // запоминаем центр карты в хранилище
	ИначеЕсли РезультатОтвета = КодВозвратаДиалога.Нет Тогда
		КартаПереключитьРежимВыбораКоординат(Ложь);
	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура РежимВыбораКоординатПриИзменении(Элемент)
	
	КартаПереключитьРежимВыбораКоординат();
	
КонецПроцедуры

// ОбработчикиСобытиЭлементовФормы
#КонецОбласти 

#Область ОбработчикиСобытийЭлементовТаблицыФормыПартнеры

&НаКлиенте
Процедура ПартнерыПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа, Параметр)
	
	Если Копирование Тогда
		Отказ = Истина;
		Возврат;
	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура ПартнерыПриИзменении(Элемент)
	
	СтрокаТ = Элемент.ТекущиеДанные;
	
	Если СтрокаТ <> Неопределено Тогда
		
		ЭлементИмя = Элемент.ТекущийЭлемент.Имя;
			
		Если ЭлементИмя = ""ПартнерыШирота"" Или ЭлементИмя = ""ПартнерыДолгота"" Тогда
			
			СтрокаТ.КоординатыИзменены = Истина;
			УстановитьМодифицированостьФормы(Истина);
			
		ИначеЕсли ЭлементИмя = ""ПартнерыКоординатыИзменены""  Тогда			
			
			Если СтрокаТ.КоординатыИзменены Тогда
				УстановитьМодифицированостьФормы(Истина);
			КонецЕсли; 
			
		КонецЕсли;

	КонецЕсли; // Если СтрокаТ <> Неопределено
	
КонецПроцедуры

&НаКлиенте
Процедура ПартнерыПартнерПриИзменении(Элемент)
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;

	// Проверяем, не выбрали ли партнера, который уже есть в таблице
	Если ЗначениеЗаполнено(СтрокаТ.Партнер) Тогда
		мСтроки = Партнеры.НайтиСтроки(Новый Структура(""Партнер"", СтрокаТ.Партнер));
		Если мСтроки.Количество() > 1 Тогда // т.е. в таблице как минимум есть два таких партнера
			Текст = СтрШаблон_(НСтр(""ru = 'Партнер """"%1"""" уже присутствует в таблице.'""), СтрокаТ.Партнер);
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Текст, Неопределено, ""Партнеры["" + СтрокаТ.ПолучитьИдентификатор() + ""]"");
			// восстанавливаем прежнее значение партнера
			ПрежниеЗначения = СтррКонтекст.ПрежниеЗначенияСтроки;
			Если ПрежниеЗначения.ИдентификаторСтроки = СтрокаТ.ПолучитьИдентификатор() Тогда
				СтрокаТ.Партнер = ПрежниеЗначения.Партнер;
			КонецЕсли;
		Иначе
			ЗаполнитьЗначенияСвойств(СтррКонтекст.ПрежниеЗначенияСтроки, СтрокаТ);
			СтррКонтекст.ПрежниеЗначенияСтроки.ИдентификаторСтроки = СтрокаТ.ПолучитьИдентификатор();
		КонецЕсли;
	КонецЕсли;
	
	ПроставитьАдресИКоординатыПартнера(Партнеры.Индекс(СтрокаТ));// Элементы.Партнеры.ТекущаяСтрока - возвращает другой индекс после сортировки таблицы
	Элементы.Партнеры.ЗакончитьРедактированиеСтроки(Ложь); // почему-то в платформе (8.3.8.1784) продолжается редактирование поля (выделен текст поля синим фоном)
	
КонецПроцедуры

&НаКлиенте
Процедура ПартнерыПартнерОткрытие(Элемент, СтандартнаяОбработка)
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ = Неопределено Или Не ЗначениеЗаполнено(СтрокаТ.Партнер) Тогда
		Возврат;
	КонецЕсли; 
	Если СтррКонтекст.ОткрытыеПартнеры.Найти(СтрокаТ.Партнер) = Неопределено Тогда
		СтррКонтекст.ОткрытыеПартнеры.Добавить(СтрокаТ.Партнер);
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура ПартнерыПриАктивизацииСтроки(Элемент)

	СтрокаТ = Элемент.ТекущиеДанные;
	Если СтрокаТ = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	// Запоминаем некоторые знаечения текущей строки на случай, если потребуется восстановить прежнее значение в строке
	ЗаполнитьЗначенияСвойств(СтррКонтекст.ПрежниеЗначенияСтроки, СтрокаТ);
	СтррКонтекст.ПрежниеЗначенияСтроки.ИдентификаторСтроки = СтрокаТ.ПолучитьИдентификатор();
	
	Если ЭтаФорма.ТекущийЭлемент.Имя = ""Партнеры"" Тогда
		
		КартаПерейтиКМаркеруТекущегоПартнера(Истина);
			
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПартнерыВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтрокаТ = Элемент.ТекущиеДанные;
	Если СтрокаТ = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ЭлементИмя = Элемент.ТекущийЭлемент.Имя;
	
	Если ЭлементИмя = ""ПартнерыКоординаты"" Тогда
		
		стррПараметры = Новый Структура(""Широта,Долгота"", СтрокаТ.Широта, СтрокаТ.Долгота);
		
		Оповещение = Новый ОписаниеОповещения(""ПартнерыВыборКоординатЗавершение"", ЭтотОбъект);
		ОткрытьФормуОбработки(""ВыборКоординат"", Новый Структура(""Значения"", стррПараметры),, Оповещение);
		
	ИначеЕсли ЭлементИмя = ""ПартнерыАдресКоординат"" Или ЭлементИмя = ""ПартнерыТочность"" Тогда
		
		ОпределитьКоординатыПоАдресу(Истина);
	
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура ПартнерыВыборКоординатЗавершение(стррРезультат, ДополнительныеПараметры) Экспорт
    
	Если ТипЗнч(стррРезультат) = Тип(""Структура"") Тогда
		ПартнерыУстановитьНовыеКоординатыДляТекущегоПартнера(стррРезультат, Истина);
		МигатьКоординатами();
	КонецЕсли;

КонецПроцедуры

// Функция устанавливает новые координаты для текущего партнера в элементе ""Партнеры"".
// Возаращает Истина, если новые координаты отличаются от старых.
&НаКлиенте
Функция ПартнерыУстановитьНовыеКоординатыДляТекущегоПартнера(стррКоординаты, ФокусНаПартнерах)
	
	УстановленыНовыеКоординаты = Ложь;
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ <> Неопределено Тогда
		
		Точность 	= ?(СтрокаТ.Широта = 0 Или СтрокаТ.Долгота = 0, СтррКонтекст.ЗначениеБезТочности, 1); //1 - максимальная точность
		Если СтрокаТ.Широта	<> стррКоординаты.Широта Или СтрокаТ.Долгота <> стррКоординаты.Долгота Или СтрокаТ.Точность <> Точность Тогда
			УстановленыНовыеКоординаты = Истина;
		КонецЕсли; 			
		
		ЗаполнитьЗначенияСвойств(СтрокаТ, стррКоординаты, ""Широта,Долгота"");
		СтрокаТ.Точность = Точность;

		СтрокаТ.Координаты  = ПредставлениеКоординатNMEA(СтрокаТ.Широта, СтрокаТ.Долгота);
		СтрокаТ.КоординатыИзменены = Истина;
		УстановитьМодифицированостьФормы(Истина);
		Если ФокусНаПартнерах Тогда
			ЭтаФорма.ТекущийЭлемент = Элементы.Партнеры; // оставляем фокус на таблице партнеров		
		КонецЕсли; 
	КонецЕсли;
	
	Возврат УстановленыНовыеКоординаты;
	
КонецФункции


&НаКлиенте
Процедура ПартнерыПослеУдаления(Элемент)
	
	Если ЭтаФорма.Модифицированность И Партнеры.Количество() = 0 Тогда // если удалены все партнеры из формы, снимаем признак модифицированности формы
		УстановитьМодифицированостьФормы(Ложь);
	КонецЕсли; 
	
КонецПроцедуры

// ОбработчикиСобытийЭлементовТаблицыФормыПартнеры
#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область СлужебныеПроцедурыИФункции_Прочие

&НаКлиенте
Функция ОткрытьФормуОбработки(ИмяФормы, стррПараметры = Неопределено, Уникальность = Неопределено, Оповещение = Неопределено) // gi_170902
	
	Если стррПараметры = Неопределено Тогда
		стррПараметры = Новый Структура;
	КонецЕсли; 
	стррПараметры.Вставить(""ВХОбщиеПараметры"", СтррКонтекст.ВХОбщиеПараметры);
	Возврат ОткрытьФорму(СтррКонтекст.ПутьКФорме + ИмяФормы, стррПараметры, ЭтаФорма, Уникальность,,, Оповещение);
	
КонецФункции

&НаКлиенте
Процедура УстановитьМодифицированостьФормы(Режим)
	
	ЭтаФорма.Модифицированность = Режим;
	Элементы.Сохранить.ЦветТекста = СтррКонтекст.Цвета[?(Режим, ""ТекстВнимание"", ""Авто"")];
	
КонецПроцедуры

// Преобразует строку в число без вызова исключений. Стандартная функция преобразования
//   Число() контролирует отсутствие каких либо символов кроме числовых.
//
&НаКлиентеНаСервереБезКонтекста
Функция СтрокуВЧисло(ИсходнаяСтрока)

	ИсхСтрока = СокрЛП(ИсходнаяСтрока);
	Длина = СтрДлина(ИсхСтрока);
	стрЧисло = """";
	Для Поз = 1 По Длина Цикл
		Символ = Сред(ИсхСтрока, Поз, 1);
		Код = КодСимвола(Символ);
		Если Код >= 48 И Код <= 57 Тогда 
			стрЧисло = стрЧисло + Символ;
		ИначеЕсли Код = 46 Или Код = 44 Тогда // Символ ""."" или "",""
			стрЧисло = стрЧисло + ""."";
		КонецЕсли;
	КонецЦикла;

	Возврат ?(ПустаяСтрока(стрЧисло), 0, Число(стрЧисло));

КонецФункции

&НаКлиенте
Процедура СохранитьЦентрКартыКлиент(стррЦентр)
	
	Если ТипЗнч(стррЦентр) = Тип(""Структура"") Тогда
		СтррКонтекст.КартаЦентр = стррЦентр;	
		ОбновитьЗаголовокФормы();
		МодульКарты.УстановитьРегионГеокодера(стррЦентр); // для точности геокодирования
		МодульКарты.СохранитьЦентрКартыКлиент(стррЦентр);
	КонецЕсли; 
	
КонецПроцедуры	

// СлужебныеПроцедурыИФункции_Прочие
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_РаботаСФормой

&НаКлиенте 
Процедура ОбновитьЗаголовокФормы()
	
	стррЦентр = СтррКонтекст.КартаЦентр;
	ЭтаФорма.Заголовок = НСтр(""ru = 'Редактор меток на карте'"") 
		+ ?(ТипЗнч(стррЦентр) = Тип(""Структура"") И стррЦентр.Свойство(""Город"") И ЗначениеЗаполнено(стррЦентр.Город), "" - "" + стррЦентр.Город, """");
	
КонецПроцедуры
	
&НаКлиенте 
Процедура ОбновитьФлажокТолькоСПустымиКоординатами()
	
	Элементы.ПартнерыПризнакТолькоСПустымиКоординатами.Пометка = ТолькоСПустымиКоординатами;

КонецПроцедуры

&НаКлиенте
Процедура ВнешнийВызовДобавитьИПоказатьПартнеров(мПартнеры) Экспорт
	
	Если мПартнеры.Количество() = 0 Тогда
		Возврат;
	КонецЕсли; 
	
	Партнеры.Очистить();
	
	ОбработкаВыбора(мПартнеры, ""ПриОткрытииФормы"");

	Если СтррКонтекст.Повторно Тогда // форма открыта повторно, карта уже загружена
		КартаПерейтиКМаркеруТекущегоПартнера(Истина);	
	Иначе // форма открыта впервые, дожидаемся когда будет загружена карта - через отсрочку и попытку/исключение
		Таймер_Включить(""!КартаПерейтиКМаркеруТекущегоПартнера(Истина)""); // команда не поддерживается на веб-клиенте!
	КонецЕсли; 

КонецПроцедуры

// СлужебныеПроцедурыИФункции_РаботаСФормой
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_КИПартнеров

&НаКлиенте
Процедура УстановитьПризнакИзмененияКоординат(КоординатыИзменены)

	Если Элементы.Партнеры.ТекущиеДанные <> Неопределено Тогда
		
		мСтроки = Новый Массив; // предварительно запоминаем выделенные строки в промежуточном массиве
		ОбщегоНазначенияКлиентСервер.ДополнитьМассив(мСтроки, Элементы.Партнеры.ВыделенныеСтроки);
		// применяем действие к выделенным строкам
		Для Каждого ИдСтроки Из мСтроки Цикл
			СтрокаТ = Партнеры.НайтиПоИдентификатору(ИдСтроки);
			СтрокаТ.КоординатыИзменены = КоординатыИзменены;
		КонецЦикла;
		
		Если КоординатыИзменены Тогда
			УстановитьМодифицированостьФормы(Истина);	
		КонецЕсли; 
		
	КонецЕсли; 

КонецПроцедуры

&НаКлиенте
Процедура УстановитьНовыеКоординаты(СтрокаТ, стрКоординаты, стрАдресКоординат)
	
	СтрокаТ.АдресКоординат = стрАдресКоординат;
	мКоординаты = СтрРазделить_(стрКоординаты, "" "");
	СтрокаТ.Широта   = мКоординаты[0];
	СтрокаТ.Долгота  = мКоординаты[1];
	СтрокаТ.Точность = мКоординаты[2];
	СтрокаТ.Координаты = ПредставлениеКоординатNMEA(СтрокаТ.Широта, СтрокаТ.Долгота);
	СтрокаТ.КоординатыИзменены = Истина;
	
КонецПроцедуры

&НаСервере
Процедура ПроставитьАдресИКоординатыПартнера(ИндексСтроки)
	
	СтрокаТ = Партнеры[ИндексСтроки]; 
	
	Если Не ЗначениеЗаполнено(СтрокаТ.Партнер) Тогда
		СтрокаТ.Адрес = """";
		СтрокаТ.Долгота = 0;
		СтрокаТ.Широта  = 0;
		СтрокаТ.Координаты = ПредставлениеКоординатNMEA(СтрокаТ.Широта, СтрокаТ.Долгота);		
		СтрокаТ.Точность = СтррКонтекст.ЗначениеБезТочности;
	Иначе
		мПартнеры = Новый Массив;
		мПартнеры.Добавить(СтрокаТ.Партнер);
		ОбновитьКоординатыПартнеров(мПартнеры, ИндексСтроки, Истина, Ложь);		
		ОбновитьАдресаПартнеров(мПартнеры, ИндексСтроки, Истина);
	КонецЕсли; 
		
КонецПроцедуры

// Процедура обновляет координаты партнеров на форме (если параметр ИсключитьСЗаполненнымиКоординатами = Ложь).
// Если параметр ИсключитьСЗаполненнымиКоординатами установлен в Истина, то из массива мПартнеры
// удаляются партнеры, у которых заполнены координаты, остальные добавляются в таблицу партнеров на форме.
&НаСервере
Процедура ОбновитьКоординатыПартнеров(мПартнеры, НачальнаяСтрока, ВОднойСтроке, ИсключитьСЗаполненнымиКоординатами)
	
	БезТочности = СтррКонтекст.ЗначениеБезТочности;
	
	тзКоординаты = ПолучитьТЗКоординатПартнеров(мПартнеры);
	
	СтррПоиск = Новый Структура(""Ссылка"");
	
	Если ИсключитьСЗаполненнымиКоординатами Тогда // нужно добавить в ТЗ Партнеры новые строки, иначе строки уже добавлены
		// Партнеры еще не включены в таблицу Партнеры на форме.
		// Исключаем из мПартнеры тех, у кого есть координаты. В тзКоординаты у нас сейчас те партнеры, у кого заполнены координаты.		
		// Остальных партнеров добавляем на форму.
		НачальнаяСтрока = Партнеры.Количество();
		мДобавленныеПартнеры = Новый Массив;
		Для каждого Партнер Из мПартнеры Цикл
			СтррПоиск.Ссылка = Партнер;
			мСтроки = тзКоординаты.НайтиСтроки(СтррПоиск);
			Если мСтроки.Количество() = 0 Тогда // добавбяем нового партнера на форму
				СтрокаТ = Партнеры.Добавить();
				СтрокаТ.Партнер = Партнер;
				СтрокаТ.Точность = БезТочности;
				мДобавленныеПартнеры.Добавить(Партнер);
			КонецЕсли; 
		КонецЦикла;
		мПартнеры = мДобавленныеПартнеры; // оставляем в массиве мПартнеры только партнеров с пустыми координатами
		
	ИначеЕсли НачальнаяСтрока = 0 И Не ВОднойСтроке Тогда // обновляем координаты для всей таблицы партнеров на форме
		// Партнеры уже включены в таблицу Партнеры на форме.
		Для каждого СтрокаТ Из Партнеры Цикл
			СтррПоиск.Ссылка = СтрокаТ.Партнер;
			мСтроки = тзКоординаты.НайтиСтроки(СтррПоиск);
			Если мСтроки.Количество() > 0 Тогда
				СтрокаТ.Широта  = мСтроки[0].Широта;
				СтрокаТ.Долгота = мСтроки[0].Долгота;
				СтрокаТ.АдресКоординат = мСтроки[0].Адрес;
			Иначе
				СтрокаТ.Широта  = 0;
				СтрокаТ.Долгота = 0;
				СтрокаТ.АдресКоординат = """";
			КонецЕсли;
			СтрокаТ.Точность = БезТочности;
			СтрокаТ.Координаты = ПредставлениеКоординатNMEA(СтрокаТ.Широта, СтрокаТ.Долгота);
			СтрокаТ.КоординатыИзменены = Ложь;
		КонецЦикла; 
		
	Иначе // обновляем координаты для партнеров начиная с указанной строки таблицы партнеров на форме и ниже
		// Партнеры уже включены в таблицу Партнеры на форме.
		ПоследняяСтрока = ?(ВОднойСтроке, НачальнаяСтрока, Партнеры.Количество() - 1);
		Для НомерСтроки = НачальнаяСтрока По ПоследняяСтрока Цикл
			СтрокаТ = Партнеры[НомерСтроки]; //Партнеры.НайтиПоИдентификатору(НомерСтроки); 
			СтррПоиск.Ссылка = СтрокаТ.Партнер;
			мСтроки = тзКоординаты.НайтиСтроки(СтррПоиск);
			Если мСтроки.Количество() > 0 Тогда
				СтрокаТ.Широта  = мСтроки[0].Широта;
				СтрокаТ.Долгота = мСтроки[0].Долгота;
				СтрокаТ.АдресКоординат = мСтроки[0].Адрес;
			Иначе
				СтрокаТ.Широта  = 0;
				СтрокаТ.Долгота = 0;
				СтрокаТ.АдресКоординат = """";
			КонецЕсли;
			СтрокаТ.Точность = БезТочности;
			СтрокаТ.Координаты = ПредставлениеКоординатNMEA(СтрокаТ.Широта, СтрокаТ.Долгота);
			СтрокаТ.КоординатыИзменены = Ложь;
		КонецЦикла; 
		
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура ПопыткаОбновитьАдресаПартнеров(мПартнеры, СтрокаТ = Неопределено, УбиратьПартнеровИзМассива = Истина)
	
	Если СтрокаТ <> Неопределено Тогда
		ИндексВМассиве = ?(ЗначениеЗаполнено(СтрокаТ.Партнер), мПартнеры.Найти(СтрокаТ.Партнер), Неопределено);
		Если ИндексВМассиве <> Неопределено Тогда
			мПартнер = Новый Массив();
			мПартнер.Добавить(СтрокаТ.Партнер);
			ОбновитьАдресаПартнеров(мПартнеры, Партнеры.Индекс(СтрокаТ), Истина);
			Если УбиратьПартнеровИзМассива Тогда
			    мПартнеры.Удалить(ИндексВМассиве);
			КонецЕсли; 
		КонецЕсли; 
	Иначе
		ОбновитьАдресаПартнеров(мПартнеры, Неопределено, Ложь);
		Если УбиратьПартнеровИзМассива Тогда
			мПартнеры.Очистить();
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

&НаСервере
Процедура ОбновитьАдресаПартнеров(мПартнеры, НачальнаяСтрока, ВОднойСтроке)
	
	Если мПартнеры.Количество() = 0 Или Партнеры.Количество() = 0 Тогда
		Возврат;
	КонецЕсли; 
	
	мВидыКИ = Новый Массив;
	мВидыКИ.Добавить(Справочники.ВидыКонтактнойИнформации.АдресПартнера);
	
	тзАдреса = УправлениеКонтактнойИнформацией.КонтактнаяИнформацияОбъектов(мПартнеры,, мВидыКИ);
	стррПоиск = Новый Структура(""Объект""); // структура для поиска партнера в тзАдреса
	
	Если НачальнаяСтрока = 0 И Не ВОднойСтроке Тогда // обновление всех строк ТЗ Партнеры
		Для каждого СтрокаТ Из Партнеры Цикл
			ОбновитьАдресПартнера(СтрокаТ, тзАдреса, СтррПоиск);
		КонецЦикла; 
	ИначеЕсли НачальнаяСтрока = Неопределено Тогда // обновляем только те строки, у которых Партнер в массиве мПартнеры
		стррПоискВТЗПартнеры = Новый Структура(""Партнер"");
		Для Каждого Партнер Из мПартнеры Цикл
			стррПоискВТЗПартнеры.Партнер = Партнер;
			мСтроки = Партнеры.НайтиСтроки(стррПоискВТЗПартнеры);
			Если мСтроки.Количество() <> 0 Тогда
				ОбновитьАдресПартнера(мСтроки[0], тзАдреса, СтррПоиск);
			КонецЕсли; 
		КонецЦикла; 
	Иначе // обновление строк, начиная с НачальнаяСтрока и до последней строки ТЗ Партнеры
		ПоследняяСтрока = ?(ВОднойСтроке, НачальнаяСтрока, Партнеры.Количество() - 1);
		Для НомерСтроки = НачальнаяСтрока По ПоследняяСтрока Цикл
			ОбновитьАдресПартнера(Партнеры[НомерСтроки], тзАдреса, СтррПоиск); // Партнеры.НайтиПоИдентификатору(НомерСтроки); 
		КонецЦикла; 
	КонецЕсли; 
		
КонецПроцедуры

&НаСервере
Процедура ОбновитьАдресПартнера(стзПартнеры, тзАдреса, СтррПоиск)
	СтррПоиск.Объект = стзПартнеры.Партнер;
	мСтроки = тзАдреса.НайтиСтроки(СтррПоиск);
	стзПартнеры.Адрес = ?(мСтроки.Количество() > 0, мСтроки[0].Представление, """");
КонецПроцедуры
 
&НаСервере
Функция ПолучитьТЗКоординатПартнеров(мПартнеры)
	
	Возврат РеквизитФормыВЗначение(""Объект"").ПолучитьТЗКоординатПартнеров(мПартнеры);

КонецФункции

&НаСервере
Процедура ПроверитьГотовностьДополнительныхРеквизитов()
	
	СтррРезультат = РеквизитФормыВЗначение(""Объект"").ПроверитьДополнительныеРеквизитыСправочникаПартнеры();
	
	Если СтррРезультат.ЕстьОшибки Тогда
		Для каждого Текст Из СтррРезультат.Сообщения Цикл
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Текст);
		КонецЦикла; 
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Функция ПартнерыПолучитьКоординатыТекущегоПартнераДлаМаркера()
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ <> Неопределено И СтрокаТ.Широта <> 0 Тогда
		Возврат Новый Структура(""Широта,Долгота,Заголовок"", СтрокаТ.Широта, СтрокаТ.Долгота, СтрокаТ.Партнер);
	Иначе
		Возврат Неопределено;
	КонецЕсли; 

КонецФункции


#Область СлужебныеПроцедурыИФункции_КИПартнеров_ВебСервис

&НаКлиенте
Процедура ОпределитьКоординатыПоАдресу(ТолькоДляТекущейСтроки = Ложь)
	
	Если Партнеры.Количество() = 0 Тогда
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Нстр(""ru = 'Сначала подберите в данную таблицу партнеров.'""), Неопределено, ""Партнеры"");
		Возврат;
	ИначеЕсли Элементы.Партнеры.ТекущиеДанные = Неопределено Тогда
		ПоказатьПредупреждение(Неопределено, Нстр(""ru = 'Выберите в таблице нужных партнеров и повторите попытку.'"")); // gi_170902
		Возврат;
	КонецЕсли; 
	
	БылиИзменения = Ложь;
	мСтроки = Новый Массив; // предварительно запоминаем выделенные строки в промежуточном массиве
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(мСтроки, Элементы.Партнеры.ВыделенныеСтроки);
	
	Если мСтроки.Количество() = 1 Или ТолькоДляТекущейСтроки Тогда
		СтрокаТ = ?(ТолькоДляТекущейСтроки, Элементы.Партнеры.ТекущиеДанные, Партнеры.НайтиПоИдентификатору(мСтроки[0]));
		ПопыткаОбновитьАдресаПартнеров(СтррКонтекст.ОткрытыеПартнеры, СтрокаТ); // если открывалась карточка партнера из формы, возможно у нее изменен адрес
		Если ПустаяСтрока(СтрокаТ.Адрес) Тогда
			Текст = СтрШаблон_(Нстр(""ru = 'У партнера """"%1"""" не указан адрес. Определение координат для данного партнера невозможно.'""), СтрокаТ.Партнер);
		    ПоказатьПредупреждение(, Текст);
			Возврат;
		КонецЕсли; 
		списКоординаты = МодульКарты.ПолучтьКоординатыОтВебСервиса(СтрокаТ.Адрес, Ложь);
		Если списКоординаты <> Неопределено Тогда
			Если списКоординаты.Количество() = 1 Тогда // найден единственный адрес
				УстановитьНовыеКоординаты(СтрокаТ, списКоординаты[0].Значение, списКоординаты[0].Представление);
				МигатьКоординатами();
				БылиИзменения = Истина;
			Иначе // предлагаем пользователю выбрать координаты + адрес из списка
				Оповещение = Новый ОписаниеОповещения(""КоординатыОбработкаВыбораИзСписка"", ЭтотОбъект);
				списКоординаты.ПоказатьВыборЭлемента(Оповещение, Нстр(""ru = 'Выберите координаты по адресу'""));
			КонецЕсли;
		КонецЕсли;
		
	Иначе
		
		ПопыткаОбновитьАдресаПартнеров(СтррКонтекст.ОткрытыеПартнеры); // если открывалась карточки партнеров из формы, возможно у них изменен адрес
		
		Всего = мСтроки.Количество();
		ТекПроцент = Неопределено;
		
		Для Шаг = 1 По Всего Цикл
			Процент = Цел(100 * Шаг / Всего);
			Если Процент <> ТекПроцент Тогда
				ТекПроцент = Процент;
				Состояние(Нстр(""ru = 'Получение координат...'""), Процент);
			КонецЕсли; 
			СтрокаТ = Партнеры.НайтиПоИдентификатору(мСтроки[Шаг-1]);
			стррКоординаты = МодульКарты.ПолучтьКоординатыОтВебСервиса(СтрокаТ.Адрес, Истина);
			Если стррКоординаты <> Неопределено Тогда
				УстановитьНовыеКоординаты(СтрокаТ, стррКоординаты.Координаты, стррКоординаты.Адрес);
				БылиИзменения = Истина;
			КонецЕсли; 
		КонецЦикла;
		
	КонецЕсли; 
	
	Если БылиИзменения Тогда
		УстановитьМодифицированостьФормы(Истина);
		КартаПерейтиКМаркеруТекущегоПартнера(Ложь);
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура КоординатыОбработкаВыбораИзСписка(Результат, ДополнительныеПараметры) Экспорт
	
	Если Результат <> Неопределено Тогда
		СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
		УстановитьНовыеКоординаты(СтрокаТ, Результат.Значение, Результат.Представление);
		УстановитьМодифицированостьФормы(Истина);
		КартаПерейтиКМаркеруТекущегоПартнера(Ложь);
		МигатьКоординатами();
	КонецЕсли;

КонецПроцедуры	

// СлужебныеПроцедурыИФункции_КИПартнеров_ВебСервис
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_КИПартнеров_ЗаписьВБД

// Сохранение измененных координат для Партнеров с признаком КоординатыИзменены.
&НаКлиенте
Процедура СохранитьПродолжить(РезультатОтвета, ДополнительныеПараметры) Экспорт
	
	Если РезультатОтвета = КодВозвратаДиалога.Да Тогда
		СохранитьКоординатыКлиент();
		Закрыть();
	ИначеЕсли РезультатОтвета = КодВозвратаДиалога.Нет Тогда
		УстановитьМодифицированостьФормы(Ложь);
		Закрыть();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СохранитьКоординатыКлиент()
	
	Состояние(НСтр(""ru = 'Сохранение координат партнеров...'""));
	СохранитьКоординаты();
	УстановитьМодифицированостьФормы(Ложь);
	
КонецПроцедуры

&НаСервере
Процедура СохранитьКоординаты()
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");	
	
	тзРеквизиты = Новый ТаблицаЗначений;
	тзРеквизиты.Колонки.Добавить(""Свойство"", Новый ОписаниеТипов(""ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения""));
	тзРеквизиты.Колонки.Добавить(""Значение"");
	
	стзШирота = тзРеквизиты.Добавить();	
	стзШирота.Свойство  = ТекОбъект.ДополнительноеСвойствоПоНаименованию(ТекОбъект.ИмяСвойстваШиротаПартнер());	
	стзДолгота = тзРеквизиты.Добавить();
	стзДолгота.Свойство = ТекОбъект.ДополнительноеСвойствоПоНаименованию(ТекОбъект.ИмяСвойстваДолготаПартнер());
	стзАдрес = тзРеквизиты.Добавить();
	стзАдрес.Свойство   = ТекОбъект.ДополнительноеСвойствоПоНаименованию(ТекОбъект.ИмяСвойстваАдресИзСервисаПартнер());
	
	Для каждого СтрокаТ Из Партнеры Цикл
		Если СтрокаТ.КоординатыИзменены Тогда
			стзШирота.Значение  = СтрокаТ.Широта;
			стзДолгота.Значение = СтрокаТ.Долгота;
			стзАдрес.Значение   = СтрокаТ.АдресКоординат;
			УправлениеСвойствами.ЗаписатьСвойстваУОбъекта(СтрокаТ.Партнер, тзРеквизиты);
			СтрокаТ.КоординатыИзменены = Ложь;
		КонецЕсли;
	КонецЦикла; 
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_КИПартнеров_ЗаписьВБД
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_КИПартнеров_Мигание

&НаКлиенте
Процедура МигатьКоординатами()
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ <> Неопределено Тогда
		СтррКонтекст.Вставить(""ЗначениеМигания"", СтрокаТ.Координаты);
		СтррКонтекст.КоличествоМиганий = 5; // количество переключений видимости
		ТаймерМигания();
		ПодключитьОбработчикОжидания(""ТаймерМигания"", 0.15, Истина); // дробные значения принимаются только для однократных таймеров
	КонецЕсли; 
	
КонецПроцедуры

&НаКлиенте
Процедура ТаймерМигания()
	
	СтррКонтекст.КоличествоМиганий = СтррКонтекст.КоличествоМиганий - 1;
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ <> Неопределено Тогда
		СтрокаТ.Координаты = ?(СтррКонтекст.КоличествоМиганий % 2 = 0, СтррКонтекст.ЗначениеМигания, """");
		Если СтррКонтекст.КоличествоМиганий <> 0 Тогда
			ПодключитьОбработчикОжидания(""ТаймерМигания"", 0.15, Истина);
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_КИПартнеров_Мигание
#КонецОбласти 

// СлужебныеПроцедурыИФункции_КИПартнеров
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_СписокТорговыхТочек

&НаКлиенте
Процедура СписокТорговыхТочекВыборЗавершение(СтррРезультат, ДополнительныеПараметры) Экспорт
	
	Если СтррРезультат <> Неопределено Тогда
		СписокТорговыхТочекДобавитьПартнеровИзСписка(СтррРезультат);
		ПредупредитьПользователяОРезультатеДобавленияПартнеров(СтррРезультат);
	КонецЕсли; 
	
КонецПроцедуры

// Вывод предупреждения после добавления партнеров из списка ТТ или добавления всех партнеров в таблицу.
&НаКлиенте
Процедура ПредупредитьПользователяОРезультатеДобавленияПартнеров(СтррРезультат)
	
	Текст = """";
	Если СтррРезультат.Свойство(""ИсключеноПартнеровСЗаполненнымиКоординатами"") Тогда
		Текст = Текст + НСтр(""ru = 'Были исключены партнеры с заполненными координатами'"")
			+ "" "" + НСтр(""ru = '(включен режим подбора только для партнеров с пустыми координатами).'"")
			+ Символы.ПС + СтрШаблон_(НСтр(""ru = 'Исключено партнеров: %1.'""), СтррРезультат.ИсключеноПартнеровСЗаполненнымиКоординатами) + "" "";
	КонецЕсли; 
	
	Если СтррРезультат.ДобавленоПартнеров = 0 Тогда
		Если Партнеры.Количество() <> 0 Тогда
			Текст = Текст + НСтр(""ru = 'Новых партнеров больше не добавлено, т.к. они уже есть в таблице.'"");
		Иначе
			Текст = Текст + НСтр(""ru = 'Новых партнеров больше не добавлено.'"");
		КонецЕсли; 
	КонецЕсли; 
	
	Если Текст <> """" Тогда
		ПоказатьПредупреждение(, Текст);
	КонецЕсли; 
	
КонецПроцедуры

// Добавление в таблицу на форме партнеров из списков торговых точек (может быть добавлено из нескольких списков ТТ)
&НаСервере
Процедура СписокТорговыхТочекДобавитьПартнеровИзСписка(СтррПараметры)
	
	мВыбранныеЗначения = СтррПараметры.мВыбранныеЗначения; // выбранные списки торговых точек (партнеров)
	
	НачальнаяСтрока = Партнеры.Количество();
	
	мНовыеПартнеры = Новый Массив; // количество добавленных партнеров
	
	ПроверятьНаПустыеКоординаты = Элементы.ПартнерыПризнакТолькоСПустымиКоординатами.Пометка;
	БезТочности = СтррКонтекст.ЗначениеБезТочности;	
	ПрежнееКоличествоПартнеров = Партнеры.Количество();
	
	ТекОбъект = РеквизитФормыВЗначение(""Объект"");	
	СтррПоиск = Новый Структура(""Партнер"");
	
	Для каждого Значение Из мВыбранныеЗначения Цикл
		
		СтррОбъект = ТекОбъект.ПолучитьОбъектИзХранилища(""СпрСТТ"", Значение.ID);
		Если СтррОбъект = Неопределено Тогда
			Продолжить;
		КонецЕсли; 
		Для каждого стзСостав Из СтррОбъект.Состав Цикл
			Партнер = стзСостав.Партнер;
			СтррПоиск.Партнер = Партнер;
			мСтроки = Партнеры.НайтиСтроки(СтррПоиск);
			Если мСтроки.Количество() = 0 Тогда
				Если Не ПроверятьНаПустыеКоординаты Тогда
					СтрокаТ = Партнеры.Добавить();
					СтрокаТ.Партнер = Партнер;
					СтрокаТ.Точность = БезТочности;
				КонецЕсли; 
				мНовыеПартнеры.Добавить(Партнер);
			КонецЕсли; 
		КонецЦикла; 
		
	КонецЦикла; 
	
	Если мНовыеПартнеры.Количество() <> 0 Тогда // добавлены новые партнеры 
		
		КоличествоВМассивеДоДобавления = мНовыеПартнеры.Количество(); // Если включена проверка на добавление с непустыми координатами, то после вызова 
		ОбновитьКоординатыПартнеров(мНовыеПартнеры, НачальнаяСтрока, Ложь, ПроверятьНаПустыеКоординаты); // этой процедуры из массива будут исключены партнеры с непустыми координатами.
		ОбновитьАдресаПартнеров(мНовыеПартнеры, НачальнаяСтрока, Ложь);
		Если КоличествоВМассивеДоДобавления <> мНовыеПартнеры.Количество() И ПроверятьНаПустыеКоординаты Тогда
			СтррПараметры.Вставить(""ИсключеноПартнеровСЗаполненнымиКоординатами"", КоличествоВМассивеДоДобавления - мНовыеПартнеры.Количество());
		КонецЕсли; 
		
	КонецЕсли; 
	
	СтррПараметры.Вставить(""ДобавленоПартнеров"", Партнеры.Количество() - ПрежнееКоличествоПартнеров);	
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_СписокТорговыхТочек
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_ДобавлениеВсехПартнеров

&НаКлиенте
Процедура ПартнерыДобавитьВсехПартнеровКлиент()
	
	УстановитьМодифицированостьФормы(Ложь);
	СтррРезультат = ПартнерыДобавитьВсехПартнеров();
	ПредупредитьПользователяОРезультатеДобавленияПартнеров(СтррРезультат);	
	
КонецПроцедуры

// Добавление в таблицу на форме всех партнеров.
&НаСервере
Функция ПартнерыДобавитьВсехПартнеров()
	
	cтррРезультат = Новый Структура;	
	
	Партнеры.Очистить();
	
	мНовыеПартнеры = Новый Массив; // массив добавленных партнеров в элемент ""Партнеры""
	БезТочности = СтррКонтекст.ЗначениеБезТочности;	
	ПрежнееКоличествоПартнеров = Партнеры.Количество();
	
	ПроверятьНаПустыеКоординаты = Элементы.ПартнерыПризнакТолькоСПустымиКоординатами.Пометка;	
	
	Текст = ""
		|ВЫБРАТЬ РАЗРЕШЕННЫЕ
		|	Партнеры.Ссылка
		|ИЗ
		|	Справочник.Партнеры КАК Партнеры
		|ГДЕ 
		|	Партнеры.ПометкаУдаления = ЛОЖЬ"";
		
	Запрос = Новый Запрос(Текст);
	
	РезультатЗапроса = Запрос.Выполнить();
	Выборка = РезультатЗапроса.Выбрать();
	
	Пока Выборка.Следующий() Цикл
		Если Не ПроверятьНаПустыеКоординаты Тогда
			СтрокаТ = Партнеры.Добавить();
			СтрокаТ.Партнер  = Выборка.Ссылка;
			СтрокаТ.Точность = БезТочности;
		КонецЕсли;
		мНовыеПартнеры.Добавить(Выборка.Ссылка);
	КонецЦикла; 
	
	Если мНовыеПартнеры.Количество() <> 0 Тогда
		КоличествоВМассивеДоДобавления = мНовыеПартнеры.Количество();
		ОбновитьКоординатыПартнеров(мНовыеПартнеры, 0, Ложь, ПроверятьНаПустыеКоординаты);
		ОбновитьАдресаПартнеров(мНовыеПартнеры, 0, Ложь);
		Если КоличествоВМассивеДоДобавления <> мНовыеПартнеры.Количество() И ПроверятьНаПустыеКоординаты Тогда
			cтррРезультат.Вставить(""ИсключеноПартнеровСЗаполненнымиКоординатами"", КоличествоВМассивеДоДобавления - мНовыеПартнеры.Количество());
		КонецЕсли;
	КонецЕсли; 
	
	cтррРезультат.Вставить(""ДобавленоПартнеров"", Партнеры.Количество() - ПрежнееКоличествоПартнеров);
	Возврат cтррРезультат;

КонецФункции

// СлужебныеПроцедурыИФункции_ДобавлениеВсехПартнеров
#КонецОбласти 

#Область СлужебныеПроцедурыИФункции_Карты

#Область СлужебныеПроцедурыИФункции_Карты_КонверсияЗначений

// Конвертирует переданные координаты из формата NMEA  в формат WGS84. 
&НаКлиентеНаСервереБезКонтекста
Функция КонвертироватьNMEAWGS84(Значение)
	
	Пром =  Значение / 100.0;  
	Часы = Пром - (Пром % 1); 
	Минуты = Значение - 100.0 * Часы;
	Результат = Часы + Минуты / 60.0;
	
	Возврат Окр(Результат, 6);
	
КонецФункции

&НаКлиентеНаСервереБезКонтекста
Функция ПредставлениеКоординатNMEA(Широта, Долгота)

	Если Широта = 0 И Долгота = 0 Тогда
		Возврат """";
	Иначе
		Возврат Строка(Широта) + ""; "" + Строка(Долгота);			
	КонецЕсли; 

КонецФункции 

&НаКлиентеНаСервереБезКонтекста
Функция ЧислоВСтроку(Число) 
	
	Возврат СтрЗаменить(СтрЗаменить(Строка(Число), "" "", """"), "","", ""."");
	
КонецФункции

// СлужебныеПроцедурыИФункции_Карты_КонверсияЗначений
#КонецОбласти 

&НаКлиенте
Процедура КартаПереключитьРежимВыбораКоординат(Режим = ""НеМенять"", ВыборЦентраКарты = Ложь)
	
	СтррКонтекст.РежимВыбораЦентраКарты = ВыборЦентраКарты;
	
	Если ТипЗнч(Режим) = Тип(""Булево"") Тогда
	    РежимВыбораКоординат = Режим;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КартаОбновитьТекущийМакет()
	
	// Важно, чтобы в момент обновления карты диалоговый элемент ""ПолеБраузера"" не был сфокусирован,
	// иначе происходит ошибка выполнения JavaScript. (Баг работы с COM-объеткми?).
	Если ЭтаФорма.ТекущийЭлемент.Имя = ""ПолеБраузера"" Тогда
		ЭтаФорма.ТекущийЭлемент = Элементы.ИсточникКарты; // Убираем фокус с ""ПолеБраузера""
	КонецЕсли;
	
	ТекстМакета	= МодульКарты.ПолучитьСкриптКарты(ИсточникКарты);
	
	#Если Не ВебКлиент Тогда
		Документ = Элементы.ПолеБраузера.Document;	
		
		КартаЗагрузитьМакет(Документ, ТекстМакета);
		
		ОкноБраузера = Документ.parentWindow; // IE
	    Если ОкноБраузера = Неопределено Тогда
	        ОкноБраузера = Документ.defaultView; // Прочие браузеры
		КонецЕсли;
		
		ПоказатьМаркер = СтррМаркер.Широта <> 0 И Партнеры.Количество() <> 0;
		
		стррЦентр = ?(ПоказатьМаркер, СтррМаркер, СтррКонтекст.КартаЦентр); // если маркер еще не использовался, показываем центр карты
		
		//передаем параметр, показывающий, что файл скрипта используется для Редактора маршрута		
		ОкноБраузера.name = КартаСформироватьПараметрРежимРедактора(""LabelEditor"", стррЦентр);
	#Иначе
		ТекстСкрипта = ТекстМакета;
	#КонецЕсли
	
КонецПроцедуры

// Выполняет загрузку скрипта карты из текста макета
//
//  Параметры:
//   Документ 		- COM-объект - поле html-документа
//   ТекстМакета 	- Строка - текст скрипта
//
&НаКлиенте
Процедура КартаЗагрузитьМакет(Документ, ТекстМакета)

	Попытка
		Документ.designMode = ""On"";
		Документ.write(ТекстМакета);	
		Документ.designMode = ""Off""; 
	Исключение
		Попытка
			Документ.body.document.designMode = ""On"";
			Документ.write(ТекстМакета);
			Документ.body.document.designMode = ""Off"";
		Исключение
			ТекстСкрипта = ТекстМакета;
		КонецПопытки;
	КонецПопытки; 
	
КонецПроцедуры

// Формирует параметр ""Режим редактора"" (режим + координаты центра карты - при их наличии)
//
//  Параметры:
//   РежимРедактора - Строка - режим редактора
//   стррЦентр.Широта 	- широта для позиционирования центра карты
//   стррЦентр.Долгота  - долгота для позиционирования центра карты
//
//  Возвращаемое значение:
//   РежимРедактора - Строка - режим редактора с координатами центра карты (при их наличии)  
//
&НаКлиентеНаСервереБезКонтекста
Функция КартаСформироватьПараметрРежимРедактора(РежимРедактора, стррЦентр = Неопределено) Экспорт
	
	Если ТипЗнч(стррЦентр) = Тип(""Структура"") И стррЦентр.Свойство(""Широта"") Тогда
		стрШирота  = ЧислоВСтроку(КонвертироватьNMEAWGS84(стррЦентр.Широта));
		стрДолгота = ЧислоВСтроку(КонвертироватьNMEAWGS84(стррЦентр.Долгота));
	Иначе
		стрШирота  = ""0"";
		стрДолгота = ""0"";
	КонецЕсли; 
	
	Возврат стрШирота + ""@"" + стрДолгота + ""@"" + РежимРедактора;	
	
КонецФункции

#Область СлужебныеПроцедурыИФункции_Карты_Маркер

&НаКлиенте
Процедура КартаПерейтиКМаркеруТекущегоПартнера(Принудительно)
	
	СтрокаТ = Элементы.Партнеры.ТекущиеДанные;
	Если СтрокаТ <> Неопределено Тогда
		
		Если Не Принудительно И СтррМаркер.Широта = СтрокаТ.Широта И СтррМаркер.Долгота = СтрокаТ.Долгота Тогда
			Возврат; // координаты маркера не менялись
		КонецЕсли; 
		
		СтррМаркер.Широта    = СтрокаТ.Широта;
		СтррМаркер.Долгота   = СтрокаТ.Долгота;
		СтррМаркер.Заголовок = Строка(СтрокаТ.Партнер);
		
		Если СтррМаркер.Широта <> 0 И СтррМаркер.Долгота <> 0 Тогда 
			КартаПерейтиКМаркеру(Истина);
			КартаДобавитьМаркер(Истина);
		КонецЕсли;
	
	КонецЕсли; 

КонецПроцедуры		

&НаКлиенте
Процедура КартаПерейтиКМаркеру(УстановитьТаймер = Ложь)
	
	Документ = Элементы.ПолеБраузера.Document;
	
	ОкноБраузера = Документ.parentWindow; // IE
    Если ОкноБраузера = Неопределено Тогда
        ОкноБраузера = Документ.defaultView; // Прочие браузеры
	КонецЕсли;
	
	Широта 	= СтррМаркер.Широта;
	Долгота = СтррМаркер.Долгота;
	
	Если Не УстановитьТаймер Тогда 
		ОкноБраузера.GoToMarker(Широта, Долгота);
	Иначе
		Попытка
			ОкноБраузера.GoToMarker(Широта, Долгота);
		Исключение
			Таймер_Включить(""ПерейтиКМаркеру"");	
		КонецПопытки;
	КонецЕсли;
	
КонецПроцедуры

// Процедура располагает на карте маркер из реквизита стррМаркер.
&НаКлиенте
Процедура КартаДобавитьМаркер(УстановитьТаймер = Ложь)
	
	Если СтррМаркер.Широта = 0 И СтррМаркер.Долгота = 0 Тогда
		Возврат;
	КонецЕсли;
	
	Описание 		= """";
	Подвал 			= """";
	Подсказка 		= """";
	Порядок  		= """";
	
	ИмяФайлаИконки = ""tpnochek.png"";
	
	ОтображаемаяИконка = СтррКонтекст.КаталогИконок + ИмяФайлаИконки;
	
	Попытка 
		
		Документ 		= Элементы.ПолеБраузера.Document;		
		ОкноБраузера 	= Документ.parentWindow; // IE
	    Если ОкноБраузера = Неопределено Тогда
	        ОкноБраузера = Документ.defaultView; // Прочие браузеры
		КонецЕсли;
		
		ОкноБраузера.ClearCollection();	// удаление всех маркеров
		ОкноБраузера.setMarker(СтррМаркер.Широта, СтррМаркер.Долгота, ОтображаемаяИконка, СтррМаркер.Заголовок, Описание, Подвал, Подсказка, Порядок, Ложь);
		
	Исключение
		
		Если УстановитьТаймер Тогда 
			Таймер_Включить(""ДобавитьМаркер"");	
		Иначе	
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(""При построении карты произошла ошибка. Возможно, карта не загружена."");
		КонецЕсли;	
		
	КонецПопытки;
	
КонецПроцедуры

// СлужебныеПроцедурыИФункции_Карты_Маркер
#КонецОбласти

#Область СлужебныеПроцедурыИФункции_Карты_Таймер

// Процедура включает таймер обработки очереди событий для поля браузера, 
// при этом в стек событий (ТаймерОжидания.Очередь) добавляется новое событие.
// Процедура обработки событий таймера объявляется в модуле формы и должна называться ""Таймер_Обработчик"".
// Также должен быть объявлен реквизит формы ТаймерОжидания.
// Реквизит формы ""ТаймерОжидания"" используется для организациии очереди передачи команд в поле браузера, 
// т.к. поле браузера работает асинхронно и может запаздывать с реакцией на команды.
&НаКлиенте
Процедура Таймер_Включить(Событие)
	Если ТипЗнч(ТаймерОжидания) <> Тип(""Структура"") Тогда // реквизит еще не инициализировался
		ТаймерОжидания = Новый Структура(""Включен,Очередь,Время"", Ложь);
		ТаймерОжидания.Очередь = Новый Массив; // стэк событий для взаимодействия с полем браузера (обрабатывается в порядке добавления событий) 
	КонецЕсли;
	Если ТаймерОжидания.Очередь.Найти(Событие) = Неопределено Тогда
		ТаймерОжидания.Очередь.Добавить(Событие);
		ТаймерОжидания.Время = ТекущаяДата();
	КонецЕсли;
	Если Не ТаймерОжидания.Включен Тогда
		ТаймерОжидания.Включен = Истина;
		ПодключитьОбработчикОжидания(""Таймер_Обработчик"", 1);
	КонецЕсли;	
КонецПроцедуры

&НаКлиенте
Процедура Таймер_Обработчик()
	
	Если ТекущаяДата() - ТаймерОжидания.Время > 5 Тогда // время с момента постановки события в очередь привысило 5 секунд - прекращаем обрабатывать все события
		Таймер_Выключить(Истина);
	КонецЕсли;
	Событие =  ТаймерОжидания.Очередь[0];
	Попытка
		Если Событие = ""ДобавитьМаркер"" Тогда
			КартаДобавитьМаркер();
		ИначеЕсли Событие = ""ПерейтиКМаркеру"" Тогда
			КартаПерейтиКМаркеру();
		ИначеЕсли Событие = ""КартаОбновитьТекущийМакет"" Тогда
			КартаОбновитьТекущийМакет();
		ИначеЕсли Лев(Событие, 1) = ""!"" Тогда // событие - строка кода для выполнения
			Выполнить(Сред(Событие, 2) + "";"");
		КонецЕсли;
	Исключение
		Возврат;
	КонецПопытки;
	Таймер_Выключить(Ложь);
	
КонецПроцедуры

// Процедура выключает таймер обработки очереди событий для поля браузера, 
// или удаляет из очереди первое событие.
// Процедура обработки событий таймера объявляется в модуле формы и должна называться ""Таймер_Обработчик"".
&НаКлиенте
Процедура Таймер_Выключить(Знач ВыключитьДляВсехСобытий)
	Если Не ВыключитьДляВсехСобытий Тогда
		ТаймерОжидания.Очередь.Удалить(0);
		Если ТаймерОжидания.Очередь.Количество() = 0 Тогда
			ВыключитьДляВсехСобытий = Истина;
	    КонецЕсли;
	КонецЕсли;
	Если ВыключитьДляВсехСобытий Тогда
		ТаймерОжидания.Включен = Ложь;
		ОтключитьОбработчикОжидания(""Таймер_Обработчик"");
	КонецЕсли;
КонецПроцедуры

// СлужебныеПроцедурыИФункции_Карты_Таймер
#КонецОбласти

// СлужебныеПроцедурыИФункции_Карты
#КонецОбласти 

// СлужебныеПроцедурыИФункции
#КонецОбласти 
",
{4,9,
{9,
{1},0,"Объект",
{1,0},
{"Pattern",
{"#",11aafdb3-24f5-4e79-b06e-d7029a5a8b30}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},1,0,0,0,
{0,0},
{0,0}
},
{9,
{2},0,"СтррКонтекст",
{1,1,
{"ru","Структура дополнительных параметров модуля формы"}
},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{3},0,"Партнеры",
{1,1,
{"ru","Партнеры"}
},
{"Pattern",
{"#",acf6192e-81ca-46ef-93a6-5a6968b78663}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,8,
{5,1,0,"Партнер",
{1,1,
{"ru","Партнер"}
},
{"Pattern",
{"#",8f8a65b4-94c4-4794-b3e2-800d18d503ca}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,2,0,"Широта",
{1,1,
{"ru","Широта"}
},
{"Pattern",
{"N",10,4,0}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,3,0,"Долгота",
{1,1,
{"ru","Долгота"}
},
{"Pattern",
{"N",10,4,0}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,4,0,"Адрес",
{1,1,
{"ru","Адрес"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,5,0,"КоординатыИзменены",
{1,1,
{"ru","Координаты изменены"}
},
{"Pattern",
{"B"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,6,0,"АдресКоординат",
{1,1,
{"ru","Адрес координат"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,8,0,"Координаты",
{1,1,
{"ru","Широта; Долгота"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{5,9,0,"Точность",
{1,1,
{"ru","Точность"}
},
{"Pattern",
{"N",2,0,0}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},0},
{0,0},
{0,0}
},
{9,
{4},0,"ТекстСкрипта",
{1,1,
{"ru","Текст скрипта"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{5},0,"ИсточникКарты",
{1,1,
{"ru","Источник карты"}
},
{"Pattern",
{"S"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,1,
{0}
},0,0,0,0,
{0,0},
{0,0}
},
{9,
{6},0,"СтррМаркер",
{1,1,
{"ru","Маркер"}
},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{7},0,"ТаймерОжидания",
{1,1,
{"ru","Таймер ожидания"}
},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{9},0,"РежимВыбораКоординат",
{1,1,
{"ru","Режим выбора координат"}
},
{"Pattern",
{"B"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,1,
{0}
},0,0,0,0,
{0,0},
{0,0}
},
{9,
{10},0,"ТолькоСПустымиКоординатами",
{1,1,
{"ru","Подбирать ТТ только с пустыми координатами"}
},
{"Pattern",
{"B"}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,1,
{0}
},0,0,0,0,
{0,0},
{0,0}
},0,1,"Партнеры.КоординатыИзменены","Партнеры.КоординатыИзменены",
{2,
{3},
{5}
},
{1,
{3}
},
{#base64:77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxTZXR0
aW5ncyB4bWxucz0iaHR0cDovL3Y4LjFjLnJ1LzguMS9kYXRhLWNvbXBvc2l0aW9u
LXN5c3RlbS9zZXR0aW5ncyIgeG1sbnM6ZGNzY29yPSJodHRwOi8vdjguMWMucnUv
OC4xL2RhdGEtY29tcG9zaXRpb24tc3lzdGVtL2NvcmUiIHhtbG5zOnN0eWxlPSJo
dHRwOi8vdjguMWMucnUvOC4xL2RhdGEvdWkvc3R5bGUiIHhtbG5zOnN5cz0iaHR0
cDovL3Y4LjFjLnJ1LzguMS9kYXRhL3VpL2ZvbnRzL3N5c3RlbSIgeG1sbnM6djg9
Imh0dHA6Ly92OC4xYy5ydS84LjEvZGF0YS9jb3JlIiB4bWxuczp2OHVpPSJodHRw
Oi8vdjguMWMucnUvOC4xL2RhdGEvdWkiIHhtbG5zOndlYj0iaHR0cDovL3Y4LjFj
LnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93ZWIiIHhtbG5zOndpbj0iaHR0cDovL3Y4
LjFjLnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93aW5kb3dzIiB4bWxuczp4cz0iaHR0
cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zOnhzaT0iaHR0cDov
L3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPg0KCTxjb25kaXRp
b25hbEFwcGVhcmFuY2U+DQoJCTxpdGVtPg0KCQkJPHNlbGVjdGlvbj4NCgkJCQk8
aXRlbT4NCgkJCQkJPGZpZWxkPtCf0LDRgNGC0L3QtdGA0YvQmtC+0L7RgNC00LjQ
vdCw0YLRizwvZmllbGQ+DQoJCQkJPC9pdGVtPg0KCQkJPC9zZWxlY3Rpb24+DQoJ
CQk8ZmlsdGVyPg0KCQkJCTxpdGVtIHhzaTp0eXBlPSJGaWx0ZXJJdGVtQ29tcGFy
aXNvbiI+DQoJCQkJCTxsZWZ0IHhzaTp0eXBlPSJkY3Njb3I6RmllbGQiPtCf0LDR
gNGC0L3QtdGA0Ysu0JrQvtC+0YDQtNC40L3QsNGC0YvQmNC30LzQtdC90LXQvdGL
PC9sZWZ0Pg0KCQkJCQk8Y29tcGFyaXNvblR5cGU+RXF1YWw8L2NvbXBhcmlzb25U
eXBlPg0KCQkJCQk8cmlnaHQgeHNpOnR5cGU9InhzOmJvb2xlYW4iPnRydWU8L3Jp
Z2h0Pg0KCQkJCTwvaXRlbT4NCgkJCTwvZmlsdGVyPg0KCQkJPGFwcGVhcmFuY2U+
DQoJCQkJPGRjc2NvcjppdGVtIHhzaTp0eXBlPSJTZXR0aW5nc1BhcmFtZXRlclZh
bHVlIj4NCgkJCQkJPGRjc2NvcjpwYXJhbWV0ZXI+0KjRgNC40YTRgjwvZGNzY29y
OnBhcmFtZXRlcj4NCgkJCQkJPGRjc2Nvcjp2YWx1ZSB4c2k6dHlwZT0idjh1aTpG
b250IiByZWY9InN5czpEZWZhdWx0R1VJRm9udCIgYm9sZD0idHJ1ZSIgaXRhbGlj
PSJmYWxzZSIgdW5kZXJsaW5lPSJmYWxzZSIgc3RyaWtlb3V0PSJmYWxzZSIga2lu
ZD0iV2luZG93c0ZvbnQiLz4NCgkJCQk8L2Rjc2NvcjppdGVtPg0KCQkJPC9hcHBl
YXJhbmNlPg0KCQk8L2l0ZW0+DQoJPC9jb25kaXRpb25hbEFwcGVhcmFuY2U+DQoJ
PG91dHB1dFBhcmFtZXRlcnMvPg0KPC9TZXR0aW5ncz4=}
},
{0,0},
{0,15,
{8,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьСпискиТорговыхТочек",
{1,1,
{"ru","Списки торговых точек"}
},
{1,1,
{"ru","Показать списки торговых точек"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьСпискиТорговыхТочек",3,0,0,
{0,0},1,0,1,0,0},
{8,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьГлавнуюФорму",
{1,1,
{"ru","На главную"}
},
{1,1,
{"ru","Перейти на главную страницу"}
},
{0,
{0,
{"B",1},0}
},
{0,77,8},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьГлавнуюФорму",3,0,0,
{0,0},1,0,1,0,0},
{8,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПоказатьПартнеров",
{1,1,
{"ru","Партнеры (клиенты)"}
},
{1,1,
{"ru","Показать список партнеров (клиентов)"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПоказатьПартнеров",3,0,0,
{0,0},1,0,1,0,0},
{8,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПодборПартнеровИзСправочника",
{1,1,
{"ru","Из справочника ""Партнеры"""}
},
{1,1,
{"ru","Подбор партнеров из справочника"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПодборПартнеровИзСправочника",3,0,0,
{0,0},1,0,1,0,0},
{8,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПодборПартнеровИзСпискаТТ",
{1,1,
{"ru","Из списка торговых точек"}
},
{1,1,
{"ru","Подбор партнеров из списка ТТ"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПодборПартнеровИзСпискаТТ",3,0,0,
{0,0},1,0,1,0,0},
{8,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"Сохранить",
{1,1,
{"ru","Сохранить"}
},
{1,1,
{"ru","Сохранить все изменения"}
},
{0,
{0,
{"B",1},0}
},
{0,83,8},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаСохранить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"СнятьПризнакИзмененияКоординат",
{1,1,
{"ru","Снять признак изменения координат"}
},
{1,1,
{"ru","Снять признак изменения координат у выделенных строк"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаСнятьПризнакИзмененияКоординат",3,0,0,
{0,0},1,0,1,0,0},
{8,
{9,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"УстановитьПризнакИзмененияКоординат",
{1,1,
{"ru","Установить признак изменения координат"}
},
{1,1,
{"ru","Установить признак изменения координат у выделенных строк"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаУстановитьПризнакИзмененияКоординат",3,0,0,
{0,0},1,0,1,0,0},
{8,
{10,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ОпределитьКоординатыПоАдресу",
{1,1,
{"ru","Определить координаты по адресу"}
},
{1,1,
{"ru","Определить координаты по адресу для выделенных партнеров"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаОпределитьКоординатыПоАдресу",3,0,0,
{0,0},1,0,1,0,0},
{8,
{11,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ПризнакТолькоСПустымиКоординатами",
{1,1,
{"ru","Признак только с пустыми координатами"}
},
{1,1,
{"ru","Признак только с пустыми координатами"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаПризнакТолькоСПустымиКоординатами",3,0,0,
{0,0},1,0,1,0,0},
{8,
{12,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"СортироватьПоТочностиКоординат",
{1,1,
{"ru","Сортировать по точности координат"}
},
{1,1,
{"ru","Сортировать по точности координат"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаСортироватьПоТочностиКоординат",3,0,0,
{0,0},1,0,1,0,0},
{8,
{13,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ДобавитьВсехПартнеров",
{1,1,
{"ru","Добавить всех партнеров"}
},
{1,1,
{"ru","Добавить всех партнеров"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаДобавитьВсехПартнеров",3,0,0,
{0,0},1,0,1,0,0},
{8,
{15,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"КомандаНазначитьКоординаты",
{1,1,
{"ru","Команда назначить координаты"}
},
{1,1,
{"ru","Команда назначить координаты"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"",3,0,0,
{0,0},1,0,1,0,0},
{8,
{16,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"УказатьЦентрКарты",
{1,1,
{"ru","Указать центр карты"}
},
{1,1,
{"ru","Указать центр карты"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"КомандаУказатьЦентрКарты",3,0,0,
{0,0},1,0,1,0,0},
{8,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"Справка",
{1,1,
{"ru","Справка"}
},
{1,1,
{"ru","Справка"}
},
{0,
{0,
{"B",1},0}
},
{0,49,16},
{4,1,
{0,b7c81c62-d6ad-4eae-9cea-0e203182db67},"",-1,-1,1,0,""},"КомандаСправка",3,0,0,
{0,0},1,0,1,0,0}
},
{0,0},
{0,0},0,0}